(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Xi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Xi);const Rr=1,Nr=2,Hr=4,Qi=8,Zi=16,Ji=2,Q=Symbol(),es="http://www.w3.org/1999/xhtml",Tn=!1;var Fr=Array.isArray,ts=Array.prototype.indexOf,$n=Array.from,ns=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,rs=Object.getOwnPropertyDescriptors,is=Object.prototype,ss=Array.prototype,Lr=Object.getPrototypeOf,vr=Object.isExtensible;function as(e){for(var t=0;t<e.length;t++)e[t]()}function $r(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const X=2,Bn=4,qn=8,os=1<<24,Ge=16,Ye=32,ft=64,fn=128,ke=512,Z=1024,ce=2048,Xe=4096,_e=8192,Ze=16384,jn=32768,yt=65536,_r=1<<17,Br=1<<18,kt=1<<19,ls=1<<20,lt=32768,kn=1<<21,Un=1<<22,Je=1<<23,Xt=Symbol("$state"),cs=Symbol(""),gt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function us(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function fs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ds(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function hs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function vs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function _s(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ps(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function gs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ms(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function ws(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function qr(e){return e===this.v}function ys(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function jr(e){return!ys(e,this.v)}let bs=!1,xe=null;function bt(e){xe=e}function Pt(e,t=!1,n){xe={p:xe,i:!1,c:null,e:null,s:e,x:null,l:null}}function It(e){var t=xe,n=t.e;if(n!==null){t.e=null;for(var r of n)ri(r)}return t.i=!0,xe=t.p,{}}function Ur(){return!0}let mt=[];function xs(){var e=mt;mt=[],as(e)}function $t(e){if(mt.length===0){var t=mt;queueMicrotask(()=>{t===mt&&xs()})}mt.push(e)}function Vr(e){var t=D;if(t===null)return I.f|=Je,e;if((t.f&jn)===0){if((t.f&fn)===0)throw e;t.b.error(e)}else xt(e,t)}function xt(e,t){for(;t!==null;){if((t.f&fn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Vt=new Set;let L=null,be=null,Me=[],Vn=null,Pn=!1;class Ae{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#s=[];#i=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){Me=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of t)this.#a(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(L=null,pr(n.render_effects),pr(n.effects),this.#l?.resolve()),be=null}#a(t,n){t.f^=Z;for(var r=t.first;r!==null;){var i=r.f,s=(i&(Ye|ft))!==0,a=s&&(i&Z)!==0,l=a||(i&_e)!==0||this.skipped_effects.has(r);if((r.f&fn)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!l&&r.fn!==null){s?r.f^=Z:(i&Bn)!==0?n.effects.push(r):qt(r)&&((r.f&Ge)!==0&&n.block_effects.push(r),Nt(r));var o=r.first;if(o!==null){r=o;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)c===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=c.next,c=c.parent}}#o(t){for(const n of t)((n.f&ce)!==0?this.#s:this.#i).push(n),this.#c(n.deps),J(n,Z)}#c(t){if(t!==null)for(const n of t)(n.f&X)===0||(n.f&lt)===0||(n.f^=lt,this.#c(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&Je)===0&&(this.current.set(t,t.v),be?.set(t,t.v))}activate(){L=this,this.apply()}deactivate(){L===this&&(L=null,be=null)}flush(){if(this.activate(),Me.length>0){if(Es(),L!==null&&L!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(Vt.size>1){this.previous.clear();var t=be,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of Vt){if(s===this){n=!1;continue}const a=[];for(const[o,c]of this.current){if(s.current.has(o))if(n&&c!==s.current.get(o))s.current.set(o,c);else continue;a.push(o)}if(a.length===0)continue;const l=[...s.current.keys()].filter(o=>!this.current.has(o));if(l.length>0){var i=Me;Me=[];const o=new Set,c=new Map;for(const u of a)Wr(u,l,o,c);if(Me.length>0){L=s,s.apply();for(const u of Me)s.#a(u,r);s.deactivate()}Me=i}}L=null,be=t}this.committed=!0,Vt.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#s)J(t,ce),ct(t);for(const t of this.#i)J(t,Xe),ct(t);this.#s=[],this.#i=[],this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=$r()).promise}static ensure(){if(L===null){const t=L=new Ae;Vt.add(L),Ae.enqueue(()=>{L===t&&t.flush()})}return L}static enqueue(t){$t(t)}apply(){}}function Es(){var e=tt;Pn=!0;var t=null;try{var n=0;for(tn(!0);Me.length>0;){var r=Ae.ensure();if(n++>1e3){var i,s;Ss()}r.process(Me),et.clear()}}finally{Pn=!1,tn(e),Vn=null}}function Ss(){try{vs()}catch(e){xt(e,Vn)}}let qe=null;function pr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ze|_e))===0&&qt(r)&&(qe=new Set,Nt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?oi(r):r.fn=null),qe?.size>0)){et.clear();for(const i of qe){if((i.f&(Ze|_e))!==0)continue;const s=[i];let a=i.parent;for(;a!==null;)qe.has(a)&&(qe.delete(a),s.push(a)),a=a.parent;for(let l=s.length-1;l>=0;l--){const o=s[l];(o.f&(Ze|_e))===0&&Nt(o)}}qe.clear()}}qe=null}}function Wr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&X)!==0?Wr(i,t,n,r):(s&(Un|Ge))!==0&&(s&ce)===0&&Kr(i,t,r)&&(J(i,ce),ct(i))}}function Kr(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&X)!==0&&Kr(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function ct(e){for(var t=Vn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Pn&&t===D&&(n&Ge)!==0&&(n&Br)===0)return;if((n&(ft|Ye))!==0){if((n&Z)===0)return;t.f^=Z}}Me.push(t)}function Ts(e){let t=0,n=ut(0),r;return()=>{Dt()&&(f(n),ii(()=>(t===0&&(r=mi(()=>e(()=>At(n)))),t+=1,()=>{$t(()=>{t-=1,t===0&&(r?.(),r=void 0,At(n))})})))}}var ks=yt|kt|fn;function Ps(e,t,n){new Is(e,t,n)}class Is{parent;#e=!1;#t;#r=null;#n;#l;#s;#i=null;#a=null;#o=null;#c=null;#u=null;#f=0;#d=0;#v=!1;#h=null;#w=Ts(()=>(this.#h=ut(this.#f),()=>{this.#h=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#l=r,this.parent=D.b,this.#e=!!this.#n.pending,this.#s=Yn(()=>{D.b=this;{var i=this.#g();try{this.#i=ye(()=>r(i))}catch(s){this.error(s)}this.#d>0?this.#p():this.#e=!1}return()=>{this.#u?.remove()}},ks)}#y(){try{this.#i=ye(()=>this.#l(this.#t))}catch(t){this.error(t)}this.#e=!1}#b(){const t=this.#n.pending;t&&(this.#a=ye(()=>t(this.#t)),Ae.enqueue(()=>{var n=this.#g();this.#i=this.#_(()=>(Ae.ensure(),ye(()=>this.#l(n)))),this.#d>0?this.#p():(wt(this.#a,()=>{this.#a=null}),this.#e=!1)}))}#g(){var t=this.#t;return this.#e&&(this.#u=nt(),this.#t.before(this.#u),t=this.#u),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(t){var n=D,r=I,i=xe;Re(this.#s),oe(this.#s),bt(this.#s.ctx);try{return t()}catch(s){return Vr(s),null}finally{Re(n),oe(r),bt(i)}}#p(){const t=this.#n.pending;this.#i!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),ui(this.#i,this.#c)),this.#a===null&&(this.#a=ye(()=>t(this.#t)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#a&&wt(this.#a,()=>{this.#a=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(t){this.#m(t),this.#f+=t,this.#h&&Et(this.#h,this.#f)}get_effect_pending(){return this.#w(),f(this.#h)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#v||!n&&!r)throw t;this.#i&&(le(this.#i),this.#i=null),this.#a&&(le(this.#a),this.#a=null),this.#o&&(le(this.#o),this.#o=null);var i=!1,s=!1;const a=()=>{if(i){ws();return}i=!0,s&&ms(),Ae.ensure(),this.#f=0,this.#o!==null&&wt(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#_(()=>(this.#v=!1,ye(()=>this.#l(this.#t)))),this.#d>0?this.#p():this.#e=!1};var l=I;try{oe(null),s=!0,n?.(t,a),s=!1}catch(o){xt(o,this.#s&&this.#s.parent)}finally{oe(l)}r&&$t(()=>{this.#o=this.#_(()=>{Ae.ensure(),this.#v=!0;try{return ye(()=>{r(this.#t,()=>t,()=>a)})}catch(o){return xt(o,this.#s.parent),null}finally{this.#v=!1}})})}}function Cs(e,t,n){for(var r=[],i=t.length,s=0;s<i;s++)Xn(t[s].e,r,!0);li(r,()=>{var a=r.length===0&&n!==null;if(a){var l=n,o=l.parentNode;$s(o),o.append(l),e.items.clear(),Se(e,t[0].prev,t[i-1].next)}for(var c=0;c<i;c++){var u=t[c];a||(e.items.delete(u.k),Se(e,u.prev,u.next)),le(u.e,!a)}e.first===t[0]&&(e.first=t[0].prev)})}function at(e,t,n,r,i,s=null){var a=e,l=new Map,o=null,c=(t&Hr)!==0,u=(t&Rr)!==0,v=(t&Nr)!==0;if(c){var d=e;a=d.appendChild(nt())}var h=null,m=Rs(()=>{var b=n();return Fr(b)?b:b==null?[]:$n(b)}),C,_=!0;function E(){zs(k,C,a,t,r),h!==null&&(C.length===0?(h.fragment?(a.before(h.fragment),h.fragment=null):Qn(h.effect),O.first=h.effect):wt(h.effect,()=>{h=null}))}var O=Yn(()=>{C=f(m);for(var b=C.length,z=new Set,F=L,$=null,R=ti(),y=0;y<b;y+=1){var g=C[y],x=r(g,y),N=_?null:l.get(x);N?(u&&Et(N.v,g),v?Et(N.i,y):N.i=y,R&&F.skipped_effects.delete(N.e)):(N=Ms(_?a:null,$,g,x,y,i,t,n),_&&(N.o=!0,$===null?o=N:$.next=N,$=N),l.set(x,N)),z.add(x)}if(b===0&&s&&!h)if(_)h={fragment:null,effect:ye(()=>s(a))};else{var j=document.createDocumentFragment(),pe=nt();j.append(pe),h={fragment:j,effect:ye(()=>s(pe))}}if(!_)if(R){for(const[te,ge]of l)z.has(te)||F.skipped_effects.add(ge.e);F.oncommit(E),F.ondiscard(()=>{})}else E();f(m)}),k={effect:O,items:l,first:o};_=!1}function zs(e,t,n,r,i){var s=(r&Qi)!==0,a=t.length,l=e.items,o=e.first,c,u=null,v,d=[],h=[],m,C,_,E;if(s)for(E=0;E<a;E+=1)m=t[E],C=i(m,E),_=l.get(C),_.o&&(_.a?.measure(),(v??=new Set).add(_));for(E=0;E<a;E+=1){if(m=t[E],C=i(m,E),_=l.get(C),e.first??=_,!_.o){_.o=!0;var O=u?u.next:o;Se(e,u,_),Se(e,_,O),bn(_,O,n),u=_,d=[],h=[],o=u.next;continue}if((_.e.f&_e)!==0&&(Qn(_.e),s&&(_.a?.unfix(),(v??=new Set).delete(_))),_!==o){if(c!==void 0&&c.has(_)){if(d.length<h.length){var k=h[0],b;u=k.prev;var z=d[0],F=d[d.length-1];for(b=0;b<d.length;b+=1)bn(d[b],k,n);for(b=0;b<h.length;b+=1)c.delete(h[b]);Se(e,z.prev,F.next),Se(e,u,z),Se(e,F,k),o=k,u=F,E-=1,d=[],h=[]}else c.delete(_),bn(_,o,n),Se(e,_.prev,_.next),Se(e,_,u===null?e.first:u.next),Se(e,u,_),u=_;continue}for(d=[],h=[];o!==null&&o.k!==C;)(o.e.f&_e)===0&&(c??=new Set).add(o),h.push(o),o=o.next;if(o===null)continue;_=o}d.push(_),u=_,o=_.next}let $=l.size>a;if(o!==null||c!==void 0){for(var R=c===void 0?[]:$n(c);o!==null;)(o.e.f&_e)===0&&R.push(o),o=o.next;var y=R.length;if($=l.size-y>a,y>0){var g=(r&Hr)!==0&&a===0?n:null;if(s){for(E=0;E<y;E+=1)R[E].a?.measure();for(E=0;E<y;E+=1)R[E].a?.fix()}Cs(e,R,g)}}if($)for(const x of l.values())x.o||(Se(e,u,x),u=x);e.effect.last=u&&u.e,s&&$t(()=>{if(v!==void 0)for(_ of v)_.a?.apply()})}function Ms(e,t,n,r,i,s,a,l){var o=(a&Rr)!==0,c=(a&Zi)===0,u=o?c?Hs(n,!1,!1):ut(n):n,v=(a&Nr)===0?i:ut(i),d={i:v,v:u,k:r,a:null,e:null,o:!1,prev:t,next:null};try{if(e===null){var h=document.createDocumentFragment();h.append(e=nt())}return d.e=ye(()=>s(e,u,v,l)),t!==null&&(t.next=d),d}finally{}}function bn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var a=Bt(s);i.before(s),s=a}}function Se(e,t,n){t===null?(e.first=n,e.effect.first=n&&n.e):(t.e.next&&(t.e.next.prev=null),t.next=n,t.e.next=n&&n.e),n!==null&&(n.e.prev&&(n.e.prev.next=null),n.prev=t,n.e.prev=t&&t.e)}function Os(e,t,n,r){const i=Wn;if(n.length===0&&e.length===0){r(t.map(i));return}var s=L,a=D,l=As();function o(){Promise.all(n.map(c=>Ds(c))).then(c=>{l();try{r([...t.map(i),...c])}catch(u){(a.f&Ze)===0&&xt(u,a)}s?.deactivate(),Jt()}).catch(c=>{xt(c,a)})}e.length>0?Promise.all(e).then(()=>{l();try{return o()}finally{s?.deactivate(),Jt()}}):o()}function As(){var e=D,t=I,n=xe,r=L;return function(s=!0){Re(e),oe(t),bt(n),s&&r?.activate()}}function Jt(){Re(null),oe(null),bt(null)}function Wn(e){var t=X|ce,n=I!==null&&(I.f&X)!==0?I:null;return D!==null&&(D.f|=kt),{ctx:xe,deps:null,effects:null,equals:qr,f:t,fn:e,reactions:null,rv:0,v:Q,wv:0,parent:n??D,ac:null}}function Ds(e,t){let n=D;n===null&&us();var r=n.b,i=void 0,s=ut(Q),a=!I,l=new Map;return Ws(()=>{var o=$r();i=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(()=>{c===L&&c.committed&&c.deactivate(),Jt()})}catch(d){o.reject(d),Jt()}var c=L;if(a){var u=!r.is_pending();r.update_pending_count(1),c.increment(u),l.get(c)?.reject(gt),l.delete(c),l.set(c,o)}const v=(d,h=void 0)=>{if(c.activate(),h)h!==gt&&(s.f|=Je,Et(s,h));else{(s.f&Je)!==0&&(s.f^=Je),Et(s,d);for(const[m,C]of l){if(l.delete(m),m===c)break;C.reject(gt)}}a&&(r.update_pending_count(-1),c.decrement(u))};o.promise.then(v,d=>v(null,d||"unknown"))}),js(()=>{for(const o of l.values())o.reject(gt)}),new Promise(o=>{function c(u){function v(){u===i?o(s):c(i)}u.then(v,v)}c(i)})}function ze(e){const t=Wn(e);return fi(t),t}function Rs(e){const t=Wn(e);return t.equals=jr,t}function Gr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)le(t[n])}}function Ns(e){for(var t=e.parent;t!==null;){if((t.f&X)===0)return(t.f&Ze)===0?t:null;t=t.parent}return null}function Kn(e){var t,n=D;Re(Ns(e));try{e.f&=~lt,Gr(e),t=_i(e)}finally{Re(n)}return t}function Yr(e){var t=Kn(e);if(e.equals(t)||(L?.is_fork||(e.v=t),e.wv=hi()),!Ct)if(be!==null)(Dt()||L?.is_fork)&&be.set(e,t);else{var n=(e.f&ke)===0?Xe:Z;J(e,n)}}let In=new Set;const et=new Map;let Xr=!1;function ut(e,t){var n={f:0,v:e,reactions:null,equals:qr,rv:0,wv:0};return n}function U(e,t){const n=ut(e);return fi(n),n}function Hs(e,t=!1,n=!0){const r=ut(e);return t||(r.equals=jr),r}function M(e,t,n=!1){I!==null&&(!De||(I.f&_r)!==0)&&Ur()&&(I.f&(X|Ge|Un|_r))!==0&&!Ve?.includes(e)&&gs();let r=n?he(t):t;return Et(e,r)}function Et(e,t){if(!e.equals(t)){var n=e.v;Ct?et.set(e,t):et.set(e,n),e.v=t;var r=Ae.ensure();r.capture(e,n),(e.f&X)!==0&&((e.f&ce)!==0&&Kn(e),J(e,(e.f&ke)!==0?Z:Xe)),e.wv=hi(),Qr(e,ce),D!==null&&(D.f&Z)!==0&&(D.f&(Ye|ft))===0&&(we===null?Ys([e]):we.push(e)),!r.is_fork&&In.size>0&&!Xr&&Fs()}return t}function Fs(){Xr=!1;var e=tt;tn(!0);const t=Array.from(In);try{for(const n of t)(n.f&Z)!==0&&J(n,Xe),qt(n)&&Nt(n)}finally{tn(e)}In.clear()}function At(e){M(e,e.v+1)}function Qr(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],a=s.f,l=(a&ce)===0;if(l&&J(s,t),(a&X)!==0){var o=s;be?.delete(o),(a&lt)===0&&(a&ke&&(s.f|=lt),Qr(o,Xe))}else l&&((a&Ge)!==0&&qe!==null&&qe.add(s),ct(s))}}function he(e){if(typeof e!="object"||e===null||Xt in e)return e;const t=Lr(e);if(t!==is&&t!==ss)return e;var n=new Map,r=Fr(e),i=U(0),s=ot,a=l=>{if(ot===s)return l();var o=I,c=ot;oe(null),wr(s);var u=l();return oe(o),wr(c),u};return r&&n.set("length",U(e.length)),new Proxy(e,{defineProperty(l,o,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&_s();var u=n.get(o);return u===void 0?u=a(()=>{var v=U(c.value);return n.set(o,v),v}):M(u,c.value,!0),!0},deleteProperty(l,o){var c=n.get(o);if(c===void 0){if(o in l){const u=a(()=>U(Q));n.set(o,u),At(i)}}else M(c,Q),At(i);return!0},get(l,o,c){if(o===Xt)return e;var u=n.get(o),v=o in l;if(u===void 0&&(!v||Ot(l,o)?.writable)&&(u=a(()=>{var h=he(v?l[o]:Q),m=U(h);return m}),n.set(o,u)),u!==void 0){var d=f(u);return d===Q?void 0:d}return Reflect.get(l,o,c)},getOwnPropertyDescriptor(l,o){var c=Reflect.getOwnPropertyDescriptor(l,o);if(c&&"value"in c){var u=n.get(o);u&&(c.value=f(u))}else if(c===void 0){var v=n.get(o),d=v?.v;if(v!==void 0&&d!==Q)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return c},has(l,o){if(o===Xt)return!0;var c=n.get(o),u=c!==void 0&&c.v!==Q||Reflect.has(l,o);if(c!==void 0||D!==null&&(!u||Ot(l,o)?.writable)){c===void 0&&(c=a(()=>{var d=u?he(l[o]):Q,h=U(d);return h}),n.set(o,c));var v=f(c);if(v===Q)return!1}return u},set(l,o,c,u){var v=n.get(o),d=o in l;if(r&&o==="length")for(var h=c;h<v.v;h+=1){var m=n.get(h+"");m!==void 0?M(m,Q):h in l&&(m=a(()=>U(Q)),n.set(h+"",m))}if(v===void 0)(!d||Ot(l,o)?.writable)&&(v=a(()=>U(void 0)),M(v,he(c)),n.set(o,v));else{d=v.v!==Q;var C=a(()=>he(c));M(v,C)}var _=Reflect.getOwnPropertyDescriptor(l,o);if(_?.set&&_.set.call(u,c),!d){if(r&&typeof o=="string"){var E=n.get("length"),O=Number(o);Number.isInteger(O)&&O>=E.v&&M(E,O+1)}At(i)}return!0},ownKeys(l){f(i);var o=Reflect.ownKeys(l).filter(v=>{var d=n.get(v);return d===void 0||d.v!==Q});for(var[c,u]of n)u.v!==Q&&!(c in l)&&o.push(c);return o},setPrototypeOf(){ps()}})}var gr,Zr,Jr,ei;function Ls(){if(gr===void 0){gr=window,Zr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Jr=Ot(t,"firstChild").get,ei=Ot(t,"nextSibling").get,vr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),vr(n)&&(n.__t=void 0)}}function nt(e=""){return document.createTextNode(e)}function Gn(e){return Jr.call(e)}function Bt(e){return ei.call(e)}function p(e,t){return Gn(e)}function vt(e,t=!1){{var n=Gn(e);return n instanceof Comment&&n.data===""?Bt(n):n}}function P(e,t=1,n=!1){let r=e;for(;t--;)r=Bt(r);return r}function $s(e){e.textContent=""}function ti(){return!1}function ni(e){var t=I,n=D;oe(null),Re(null);try{return e()}finally{oe(t),Re(n)}}function Bs(e){D===null&&(I===null&&hs(),ds()),Ct&&fs()}function qs(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Qe(e,t,n){var r=D;r!==null&&(r.f&_e)!==0&&(e|=_e);var i={ctx:xe,deps:null,nodes_start:null,nodes_end:null,f:e|ce|ke,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Nt(i),i.f|=jn}catch(l){throw le(i),l}else t!==null&&ct(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&kt)===0&&(s=s.first,(e&Ge)!==0&&(e&yt)!==0&&s!==null&&(s.f|=yt)),s!==null&&(s.parent=r,r!==null&&qs(s,r),I!==null&&(I.f&X)!==0&&(e&ft)===0)){var a=I;(a.effects??=[]).push(s)}return i}function Dt(){return I!==null&&!De}function js(e){const t=Qe(qn,null,!1);return J(t,Z),t.teardown=e,t}function en(e){Bs();var t=D.f,n=!I&&(t&Ye)!==0&&(t&jn)===0;if(n){var r=xe;(r.e??=[]).push(e)}else return ri(e)}function ri(e){return Qe(Bn|ls,e,!1)}function Us(e){Ae.ensure();const t=Qe(ft|kt,e,!0);return(n={})=>new Promise(r=>{n.outro?wt(t,()=>{le(t),r(void 0)}):(le(t),r(void 0))})}function Vs(e){return Qe(Bn,e,!1)}function Ws(e){return Qe(Un|kt,e,!0)}function ii(e,t=0){return Qe(qn|t,e,!0)}function ae(e,t=[],n=[],r=[]){Os(r,t,n,i=>{Qe(qn,()=>e(...i.map(f)),!0)})}function Yn(e,t=0){var n=Qe(Ge|t,e,!0);return n}function ye(e){return Qe(Ye|kt,e,!0)}function si(e){var t=e.teardown;if(t!==null){const n=Ct,r=I;mr(!0),oe(null);try{t.call(null)}finally{mr(n),oe(r)}}}function ai(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&ni(()=>{i.abort(gt)});var r=n.next;(n.f&ft)!==0?n.parent=null:le(n,t),n=r}}function Ks(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ye)===0&&le(t),t=n}}function le(e,t=!0){var n=!1;(t||(e.f&Br)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Gs(e.nodes_start,e.nodes_end),n=!0),ai(e,t&&!n),nn(e,0),J(e,Ze);var r=e.transitions;if(r!==null)for(const s of r)s.stop();si(e);var i=e.parent;i!==null&&i.first!==null&&oi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Gs(e,t){for(;e!==null;){var n=e===t?null:Bt(e);e.remove(),e=n}}function oi(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function wt(e,t,n=!0){var r=[];Xn(e,r,!0),li(r,()=>{n&&le(e),t&&t()})}function li(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Xn(e,t,n){if((e.f&_e)===0){if(e.f^=_e,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&yt)!==0||(r.f&Ye)!==0&&(e.f&Ge)!==0;Xn(r,t,s?n:!1),r=i}}}function Qn(e){ci(e,!0)}function ci(e,t){if((e.f&_e)!==0){e.f^=_e,(e.f&Z)===0&&(J(e,ce),ct(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&yt)!==0||(n.f&Ye)!==0;ci(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}function ui(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:Bt(n);t.append(n),n=i}}let tt=!1;function tn(e){tt=e}let Ct=!1;function mr(e){Ct=e}let I=null,De=!1;function oe(e){I=e}let D=null;function Re(e){D=e}let Ve=null;function fi(e){I!==null&&(Ve===null?Ve=[e]:Ve.push(e))}let re=null,de=0,we=null;function Ys(e){we=e}let di=1,Rt=0,ot=Rt;function wr(e){ot=e}function hi(){return++di}function qt(e){var t=e.f;if((t&ce)!==0)return!0;if(t&X&&(e.f&=~lt),(t&Xe)!==0){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(qt(s)&&Yr(s),s.wv>e.wv)return!0}(t&ke)!==0&&be===null&&J(e,Z)}return!1}function vi(e,t,n=!0){var r=e.reactions;if(r!==null&&!Ve?.includes(e))for(var i=0;i<r.length;i++){var s=r[i];(s.f&X)!==0?vi(s,t,!1):t===s&&(n?J(s,ce):(s.f&Z)!==0&&J(s,Xe),ct(s))}}function _i(e){var t=re,n=de,r=we,i=I,s=Ve,a=xe,l=De,o=ot,c=e.f;re=null,de=0,we=null,I=(c&(Ye|ft))===0?e:null,Ve=null,bt(e.ctx),De=!1,ot=++Rt,e.ac!==null&&(ni(()=>{e.ac.abort(gt)}),e.ac=null);try{e.f|=kn;var u=e.fn,v=u(),d=e.deps;if(re!==null){var h;if(nn(e,de),d!==null&&de>0)for(d.length=de+re.length,h=0;h<re.length;h++)d[de+h]=re[h];else e.deps=d=re;if(tt&&Dt()&&(e.f&ke)!==0)for(h=de;h<d.length;h++)(d[h].reactions??=[]).push(e)}else d!==null&&de<d.length&&(nn(e,de),d.length=de);if(Ur()&&we!==null&&!De&&d!==null&&(e.f&(X|Xe|ce))===0)for(h=0;h<we.length;h++)vi(we[h],e);return i!==null&&i!==e&&(Rt++,we!==null&&(r===null?r=we:r.push(...we))),(e.f&Je)!==0&&(e.f^=Je),v}catch(m){return Vr(m)}finally{e.f^=kn,re=t,de=n,we=r,I=i,Ve=s,bt(a),De=l,ot=o}}function Xs(e,t){let n=t.reactions;if(n!==null){var r=ts.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&X)!==0&&(re===null||!re.includes(t))&&(J(t,Xe),(t.f&ke)!==0&&(t.f^=ke,t.f&=~lt),Gr(t),nn(t,0))}function nn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Xs(e,n[r])}function Nt(e){var t=e.f;if((t&Ze)===0){J(e,Z);var n=D,r=tt;D=e,tt=!0;try{(t&(Ge|os))!==0?Ks(e):ai(e),si(e);var i=_i(e);e.teardown=typeof i=="function"?i:null,e.wv=di;var s;Tn&&bs&&(e.f&ce)!==0&&e.deps}finally{tt=r,D=n}}}function f(e){var t=e.f,n=(t&X)!==0;if(I!==null&&!De){var r=D!==null&&(D.f&Ze)!==0;if(!r&&!Ve?.includes(e)){var i=I.deps;if((I.f&kn)!==0)e.rv<Rt&&(e.rv=Rt,re===null&&i!==null&&i[de]===e?de++:re===null?re=[e]:re.includes(e)||re.push(e));else{(I.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[I]:s.includes(I)||s.push(I)}}}if(Ct){if(et.has(e))return et.get(e);if(n){var a=e,l=a.v;return((a.f&Z)===0&&a.reactions!==null||gi(a))&&(l=Kn(a)),et.set(a,l),l}}else n&&(!be?.has(e)||L?.is_fork&&!Dt())&&(a=e,qt(a)&&Yr(a),tt&&Dt()&&(a.f&ke)===0&&pi(a));if(be?.has(e))return be.get(e);if((e.f&Je)!==0)throw e.v;return e.v}function pi(e){if(e.deps!==null){e.f^=ke;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&X)!==0&&(t.f&ke)===0&&pi(t)}}function gi(e){if(e.v===Q)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(et.has(t)||(t.f&X)!==0&&gi(t))return!0;return!1}function mi(e){var t=De;try{return De=!0,e()}finally{De=t}}const Qs=-7169;function J(e,t){e.f=e.f&Qs|t}const wi=new Set,Cn=new Set;function Zn(e){for(var t=0;t<e.length;t++)wi.add(e[t]);for(var n of Cn)n(e)}let yr=null;function Wt(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;yr=e;var a=0,l=yr===e&&e.__root;if(l){var o=i.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var c=i.indexOf(t);if(c===-1)return;o<=c&&(a=o)}if(s=i[a]||e.target,s!==t){ns(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=I,v=D;oe(null),Re(null);try{for(var d,h=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var C=s["__"+r];C!=null&&(!s.disabled||e.target===s)&&C.call(s,e)}catch(_){d?h.push(_):d=_}if(e.cancelBubble||m===t||m===null)break;s=m}if(d){for(let _ of h)queueMicrotask(()=>{throw _});throw d}}finally{e.__root=t,delete e.currentTarget,oe(u),Re(v)}}}function Zs(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function yi(e,t){var n=D;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function ee(e,t){var n=(t&Ji)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=Zs(i?e:"<!>"+e),r=Gn(r));var s=n||Zr?document.importNode(r,!0):r.cloneNode(!0);return yi(s,s),s}}function _t(){var e=document.createDocumentFragment(),t=document.createComment(""),n=nt();return e.append(t,n),yi(t,n),e}function B(e,t){e!==null&&e.before(t)}const Js=["touchstart","touchmove"];function ea(e){return Js.includes(e)}function H(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ta(e,t){return na(e,t)}const ht=new Map;function na(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:a=!0}){Ls();var l=new Set,o=v=>{for(var d=0;d<v.length;d++){var h=v[d];if(!l.has(h)){l.add(h);var m=ea(h);t.addEventListener(h,Wt,{passive:m});var C=ht.get(h);C===void 0?(document.addEventListener(h,Wt,{passive:m}),ht.set(h,1)):ht.set(h,C+1)}}};o($n(wi)),Cn.add(o);var c=void 0,u=Us(()=>{var v=n??t.appendChild(nt());return Ps(v,{pending:()=>{}},d=>{if(s){Pt({});var h=xe;h.c=s}i&&(r.$$events=i),c=e(d,r)||{},s&&It()}),()=>{for(var d of l){t.removeEventListener(d,Wt);var h=ht.get(d);--h===0?(document.removeEventListener(d,Wt),ht.delete(d)):ht.set(d,h)}Cn.delete(o),v!==n&&v.parentNode?.removeChild(v)}});return ra.set(c,u),c}let ra=new WeakMap;class ia{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#s=()=>{var t=L;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)Qn(r),this.#n.delete(n);else{var i=this.#r.get(n);i&&(this.#t.set(n,i.effect),this.#r.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,a]of this.#e){if(this.#e.delete(s),s===t)break;const l=this.#r.get(a);l&&(le(l.effect),this.#r.delete(a))}for(const[s,a]of this.#t){if(s===n||this.#n.has(s))continue;const l=()=>{if(Array.from(this.#e.values()).includes(s)){var c=document.createDocumentFragment();ui(a,c),c.append(nt()),this.#r.set(s,{effect:a,fragment:c})}else le(a);this.#n.delete(s),this.#t.delete(s)};this.#l||!r?(this.#n.add(s),wt(a,l,!1)):l()}}};#i=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#r)n.includes(r)||(le(i.effect),this.#r.delete(r))};ensure(t,n){var r=L,i=ti();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(i){var s=document.createDocumentFragment(),a=nt();s.append(a),this.#r.set(t,{effect:ye(()=>n(a)),fragment:s})}else this.#t.set(t,ye(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[l,o]of this.#t)l===t?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[l,o]of this.#r)l===t?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(this.#s),r.ondiscard(this.#i)}else this.#s()}}function me(e,t,n=!1){var r=new ia(e),i=n?yt:0;function s(a,l){r.ensure(a,l)}Yn(()=>{var a=!1;t((l,o=!0)=>{a=!0,s(o,l)}),a||s(!1,null)},i)}const br=[...` 	
\r\fÂ \v\uFEFF`];function sa(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,a=0;(a=r.indexOf(i,a))>=0;){var l=a+s;(a===0||br.includes(r[a-1]))&&(l===r.length||br.includes(r[l]))?r=(a===0?"":r.substring(0,a))+r.substring(l+1):a=l}}return r===""?null:r}function aa(e,t){return e==null?null:String(e)}function Ue(e,t,n,r,i,s){var a=e.__className;if(a!==n||a===void 0){var l=sa(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&i!==s)for(var o in s){var c=!!s[o];(i==null||c!==!!i[o])&&e.classList.toggle(o,c)}return s}function rn(e,t,n,r){var i=e.__style;if(i!==t){var s=aa(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const oa=Symbol("is custom element"),la=Symbol("is html");function A(e,t,n,r){var i=ca(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[cs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ua(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ca(e){return e.__attributes??={[oa]:e.nodeName.includes("-"),[la]:e.namespaceURI===es}}var xr=new Map;function ua(e){var t=e.getAttribute("is")||e.nodeName,n=xr.get(t);if(n)return n;xr.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=rs(i);for(var a in r)r[a].set&&n.push(a);i=Lr(i)}return n}function Er(e,t){return e===t||e?.[Xt]===t}function fa(e={},t,n,r){return Vs(()=>{var i,s;return ii(()=>{i=s,s=[],mi(()=>{e!==n(...s)&&(t(e,...s),i&&Er(n(...i),e)&&t(null,...i))})}),()=>{$t(()=>{s&&Er(n(...s),e)&&t(null,...s)})}}),e}function Y(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var da=typeof Symbol=="function"&&Symbol.observable||"@@observable",Sr=da,xn=()=>Math.random().toString(36).substring(7).split("").join("."),ha={INIT:`@@redux/INIT${xn()}`,REPLACE:`@@redux/REPLACE${xn()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xn()}`},sn=ha;function Jn(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bi(e,t,n){if(typeof e!="function")throw new Error(Y(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Y(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Y(1));return n(bi)(e,t)}let r=e,i=t,s=new Map,a=s,l=0,o=!1;function c(){a===s&&(a=new Map,s.forEach((_,E)=>{a.set(E,_)}))}function u(){if(o)throw new Error(Y(3));return i}function v(_){if(typeof _!="function")throw new Error(Y(4));if(o)throw new Error(Y(5));let E=!0;c();const O=l++;return a.set(O,_),function(){if(E){if(o)throw new Error(Y(6));E=!1,c(),a.delete(O),s=null}}}function d(_){if(!Jn(_))throw new Error(Y(7));if(typeof _.type>"u")throw new Error(Y(8));if(typeof _.type!="string")throw new Error(Y(17));if(o)throw new Error(Y(9));try{o=!0,i=r(i,_)}finally{o=!1}return(s=a).forEach(O=>{O()}),_}function h(_){if(typeof _!="function")throw new Error(Y(10));r=_,d({type:sn.REPLACE})}function m(){const _=v;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Y(11));function O(){const b=E;b.next&&b.next(u())}return O(),{unsubscribe:_(O)}},[Sr](){return this}}}return d({type:sn.INIT}),{dispatch:d,subscribe:v,getState:u,replaceReducer:h,[Sr]:m}}function va(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:sn.INIT})>"u")throw new Error(Y(12));if(typeof n(void 0,{type:sn.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Y(13))})}function _a(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{va(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let o=!1;const c={};for(let u=0;u<r.length;u++){const v=r[u],d=n[v],h=a[v],m=d(h,l);if(typeof m>"u")throw l&&l.type,new Error(Y(14));c[v]=m,o=o||m!==h}return o=o||r.length!==Object.keys(a).length,o?c:a}}function an(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function pa(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Y(15))};const a={getState:i.getState,dispatch:(o,...c)=>s(o,...c)},l=e.map(o=>o(a));return s=an(...l)(i.dispatch),{...i,dispatch:s}}}function ga(e){return Jn(e)&&"type"in e&&typeof e.type=="string"}var xi=Symbol.for("immer-nothing"),Tr=Symbol.for("immer-draftable"),ie=Symbol.for("immer-state");function Te(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ve=Object,St=ve.getPrototypeOf,on="constructor",dn="prototype",zn="configurable",ln="enumerable",Qt="writable",Ht="value",Ke=e=>!!e&&!!e[ie];function Ne(e){return e?Ei(e)||hn(e)||!!e[Tr]||!!e[on]?.[Tr]||vn(e)||_n(e):!1}var ma=ve[dn][on].toString(),kr=new WeakMap;function Ei(e){if(!e||!er(e))return!1;const t=St(e);if(t===null||t===ve[dn])return!0;const n=ve.hasOwnProperty.call(t,on)&&t[on];if(n===Object)return!0;if(!pt(n))return!1;let r=kr.get(n);return r===void 0&&(r=Function.toString.call(n),kr.set(n,r)),r===ma}function jt(e,t,n=!0){Ut(e)===0?(n?Reflect.ownKeys(e):ve.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Ut(e){const t=e[ie];return t?t.type_:hn(e)?1:vn(e)?2:_n(e)?3:0}var Pr=(e,t,n=Ut(e))=>n===2?e.has(t):ve[dn].hasOwnProperty.call(e,t),Mn=(e,t,n=Ut(e))=>n===2?e.get(t):e[t],cn=(e,t,n,r=Ut(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function wa(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var hn=Array.isArray,vn=e=>e instanceof Map,_n=e=>e instanceof Set,er=e=>typeof e=="object",pt=e=>typeof e=="function",En=e=>typeof e=="boolean",je=e=>e.copy_||e.base_,tr=e=>e.modified_?e.copy_:e.base_;function On(e,t){if(vn(e))return new Map(e);if(_n(e))return new Set(e);if(hn(e))return Array[dn].slice.call(e);const n=Ei(e);if(t===!0||t==="class_only"&&!n){const r=ve.getOwnPropertyDescriptors(e);delete r[ie];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l[Qt]===!1&&(l[Qt]=!0,l[zn]=!0),(l.get||l.set)&&(r[a]={[zn]:!0,[Qt]:!0,[ln]:l[ln],[Ht]:e[a]})}return ve.create(St(e),r)}else{const r=St(e);if(r!==null&&n)return{...e};const i=ve.create(r);return ve.assign(i,e)}}function nr(e,t=!1){return pn(e)||Ke(e)||(Ut(e)>1&&ve.defineProperties(e,{set:Kt,add:Kt,clear:Kt,delete:Kt}),ve.freeze(e),t&&jt(e,(n,r)=>{nr(r,!0)},!1)),e}function ya(){Te(2)}var Kt={[Ht]:ya};function pn(e){return e===null||!er(e)?!0:ve.isFrozen(e)}var un="MapSet",An="Patches",Si={};function Tt(e){const t=Si[e];return t||Te(0,e),t}var ba=e=>!!Si[e],Ft,Ti=()=>Ft,xa=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ba(un)?Tt(un):void 0});function Ir(e,t){t&&(e.patchPlugin_=Tt(An),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dn(e){Rn(e),e.drafts_.forEach(Ea),e.drafts_=null}function Rn(e){e===Ft&&(Ft=e.parent_)}var Cr=e=>Ft=xa(Ft,e);function Ea(e){const t=e[ie];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zr(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ie].modified_&&(Dn(t),Te(4)),Ne(e)&&(e=Mr(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ie].base_,e,t)}else e=Mr(t,n);return Sa(t,e,!0),Dn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xi?e:void 0}function Mr(e,t){if(pn(t))return t;const n=t[ie];if(!n)return rr(t,e.handledSet_,e);if(!gn(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);Ii(n,e)}return n.copy_}function Sa(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nr(t,n)}function ki(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var gn=(e,t)=>e.scope_===t,Ta=[];function Pi(e,t,n,r){const i=je(e),s=e.type_;if(r!==void 0&&Mn(i,r,s)===t){cn(i,r,n,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;jt(i,(o,c)=>{if(Ke(c)){const u=l.get(c)||[];u.push(o),l.set(c,u)}})}const a=e.draftLocations_.get(t)??Ta;for(const l of a)cn(i,l,n,s)}function ka(e,t,n){e.callbacks_.push(function(i){const s=t;if(!s||!gn(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=tr(s);Pi(e,s.draft_??s,a,n),Ii(s,i)})}function Ii(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}ki(e)}}function Pa(e,t,n){const{scope_:r}=e;if(Ke(n)){const i=n[ie];gn(i,r)&&i.callbacks_.push(function(){Zt(e);const a=tr(i);Pi(e,n,a,t)})}else Ne(n)&&e.callbacks_.push(function(){const s=je(e);Mn(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&rr(Mn(e.copy_,t,e.type_),r.handledSet_,r)})}function rr(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ke(e)||t.has(e)||!Ne(e)||pn(e)||(t.add(e),jt(e,(r,i)=>{if(Ke(i)){const s=i[ie];if(gn(s,n)){const a=tr(s);cn(e,r,a,e.type_),ki(s)}}else Ne(i)&&rr(i,t,n)})),e}function Ia(e,t){const n=hn(e),r={type_:n?1:0,scope_:t?t.scope_:Ti(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=ir;n&&(i=[r],s=Lt);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,[l,r]}var ir={get(e,t){if(t===ie)return e;const n=je(e);if(!Pr(n,t,e.type_))return Ca(e,n,t);const r=n[t];if(e.finalized_||!Ne(r))return r;if(r===Sn(e.base_,t)){Zt(e);const i=e.type_===1?+t:t,s=Hn(e.scope_,r,e,i);return e.copy_[i]=s}return r},has(e,t){return t in je(e)},ownKeys(e){return Reflect.ownKeys(je(e))},set(e,t,n){const r=Ci(je(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Sn(je(e),t),s=i?.[ie];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(wa(n,i)&&(n!==void 0||Pr(e.base_,t,e.type_)))return!0;Zt(e),Nn(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Pa(e,t,n)),!0},deleteProperty(e,t){return Zt(e),Sn(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Nn(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=je(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Qt]:!0,[zn]:e.type_!==1||t!=="length",[ln]:r[ln],[Ht]:n[t]}},defineProperty(){Te(11)},getPrototypeOf(e){return St(e.base_)},setPrototypeOf(){Te(12)}},Lt={};jt(ir,(e,t)=>{Lt[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Lt.deleteProperty=function(e,t){return Lt.set.call(this,e,t,void 0)};Lt.set=function(e,t,n){return ir.set.call(this,e[0],t,n,e[0])};function Sn(e,t){const n=e[ie];return(n?je(n):e)[t]}function Ca(e,t,n){const r=Ci(t,n);return r?Ht in r?r[Ht]:r.get?.call(e.draft_):void 0}function Ci(e,t){if(!(t in e))return;let n=St(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=St(n)}}function Nn(e){e.modified_||(e.modified_=!0,e.parent_&&Nn(e.parent_))}function Zt(e){e.copy_||(e.assigned_=new Map,e.copy_=On(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var za=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(pt(t)&&!pt(n)){const s=n;n=t;const a=this;return function(o=s,...c){return a.produce(o,u=>n.call(this,u,...c))}}pt(n)||Te(6),r!==void 0&&!pt(r)&&Te(7);let i;if(Ne(t)){const s=Cr(this),a=Hn(s,t,void 0);let l=!0;try{i=n(a),l=!1}finally{l?Dn(s):Rn(s)}return Ir(s,r),zr(i,s)}else if(!t||!er(t)){if(i=n(t),i===void 0&&(i=t),i===xi&&(i=void 0),this.autoFreeze_&&nr(i,!0),r){const s=[],a=[];Tt(An).generateReplacementPatches_(t,i,{patches_:s,inversePatches_:a}),r(s,a)}return i}else Te(1,t)},this.produceWithPatches=(t,n)=>{if(pt(t))return(a,...l)=>this.produceWithPatches(a,o=>t(o,...l));let r,i;return[this.produce(t,n,(a,l)=>{r=a,i=l}),r,i]},En(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),En(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),En(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ne(e)||Te(8),Ke(e)&&(e=Ma(e));const t=Cr(this),n=Hn(t,e,void 0);return n[ie].isManual_=!0,Rn(t),n}finishDraft(e,t){const n=e&&e[ie];(!n||!n.isManual_)&&Te(9);const{scope_:r}=n;return Ir(r,t),zr(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Tt(An).applyPatches_;return Ke(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Hn(e,t,n,r){const[i,s]=vn(t)?Tt(un).proxyMap_(t,n):_n(t)?Tt(un).proxySet_(t,n):Ia(t,n);return(n?.scope_??Ti()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?ka(n,s,r):s.callbacks_.push(function(o){o.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:c}=o;s.modified_&&c&&c.generatePatches_(s,[],o)}),i}function Ma(e){return Ke(e)||Te(10,e),zi(e)}function zi(e){if(!Ne(e)||pn(e))return e;const t=e[ie];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=On(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=On(e,!0);return jt(n,(i,s)=>{cn(n,i,zi(s))},r),t&&(t.finalized_=!1),n}var Oa=new za,Mi=Oa.produce;function Oi(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Aa=Oi(),Da=Oi,Ra=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?an:an.apply(null,arguments)};function Or(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(We(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>ga(r)&&r.type===e,n}var Ai=class zt extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zt.prototype)}static get[Symbol.species](){return zt}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zt(...t[0].concat(this)):new zt(...t.concat(this))}};function Ar(e){return Ne(e)?Mi(e,()=>{}):e}function Gt(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Na(e){return typeof e=="boolean"}var Ha=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new Ai;return n&&(Na(n)?a.push(Aa):a.push(Da(n.extraArgument))),a},Fa="RTK_autoBatch",Dr=e=>t=>{setTimeout(t,e)},La=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,a=!1;const l=new Set,o=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Dr(10):e.type==="callback"?e.queueNotification:Dr(e.timeout),c=()=>{a=!1,s&&(s=!1,l.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const v=()=>i&&u(),d=r.subscribe(v);return l.add(u),()=>{d(),l.delete(u)}},dispatch(u){try{return i=!u?.meta?.[Fa],s=!i,s&&(a||(a=!0,o(c))),r.dispatch(u)}finally{i=!0}}})},$a=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Ai(e);return r&&i.push(La(typeof r=="object"?r:void 0)),i};function Ba(e){const t=Ha(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Jn(n))l=_a(n);else throw new Error(We(1));let o;typeof r=="function"?o=r(t):o=t();let c=an;i&&(c=Ra({trace:!1,...typeof i=="object"&&i}));const u=pa(...o),v=$a(u);let d=typeof a=="function"?a(v):v();const h=c(...d);return bi(l,s,h)}function Di(e){const t={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(We(28));if(l in t)throw new Error(We(29));return t[l]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function qa(e){return typeof e=="function"}function ja(e,t){let[n,r,i]=Di(t),s;if(qa(e))s=()=>Ar(e());else{const l=Ar(e);s=()=>l}function a(l=s(),o){let c=[n[o.type],...r.filter(({matcher:u})=>u(o)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,v)=>{if(v)if(Ke(u)){const h=v(u,o);return h===void 0?u:h}else{if(Ne(u))return Mi(u,d=>v(d,o));{const d=v(u,o);if(d===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return u},l)}return a.getInitialState=s,a}var Ua=Symbol.for("rtk-slice-createasyncthunk");function Va(e,t){return`${e}/${t}`}function Wa({creators:e}={}){const t=e?.asyncThunk?.[Ua];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(We(11));const a=(typeof r.reducers=="function"?r.reducers(Ga()):r.reducers)||{},l=Object.keys(a),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(k,b){const z=typeof k=="string"?k:k.type;if(!z)throw new Error(We(12));if(z in o.sliceCaseReducersByType)throw new Error(We(13));return o.sliceCaseReducersByType[z]=b,c},addMatcher(k,b){return o.sliceMatchers.push({matcher:k,reducer:b}),c},exposeAction(k,b){return o.actionCreators[k]=b,c},exposeCaseReducer(k,b){return o.sliceCaseReducersByName[k]=b,c}};l.forEach(k=>{const b=a[k],z={reducerName:k,type:Va(i,k),createNotation:typeof r.reducers=="function"};Xa(b)?Za(z,b,c,t):Ya(z,b,c)});function u(){const[k={},b=[],z=void 0]=typeof r.extraReducers=="function"?Di(r.extraReducers):[r.extraReducers],F={...k,...o.sliceCaseReducersByType};return ja(r.initialState,$=>{for(let R in F)$.addCase(R,F[R]);for(let R of o.sliceMatchers)$.addMatcher(R.matcher,R.reducer);for(let R of b)$.addMatcher(R.matcher,R.reducer);z&&$.addDefaultCase(z)})}const v=k=>k,d=new Map,h=new WeakMap;let m;function C(k,b){return m||(m=u()),m(k,b)}function _(){return m||(m=u()),m.getInitialState()}function E(k,b=!1){function z($){let R=$[k];return typeof R>"u"&&b&&(R=Gt(h,z,_)),R}function F($=v){const R=Gt(d,b,()=>new WeakMap);return Gt(R,$,()=>{const y={};for(const[g,x]of Object.entries(r.selectors??{}))y[g]=Ka(x,$,()=>Gt(h,$,_),b);return y})}return{reducerPath:k,getSelectors:F,get selectors(){return F(z)},selectSlice:z}}const O={name:i,reducer:C,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:_,...E(s),injectInto(k,{reducerPath:b,...z}={}){const F=b??s;return k.inject({reducerPath:F,reducer:C},z),{...O,...E(F,!0)}}};return O}}function Ka(e,t,n,r){function i(s,...a){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...a)}return i.unwrapped=e,i}var Ri=Wa();function Ga(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Ya({type:e,reducerName:t,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!Qa(r))throw new Error(We(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Or(e,a):Or(e))}function Xa(e){return e._reducerDefinitionType==="asyncThunk"}function Qa(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Za({type:e,reducerName:t},n,r,i){if(!i)throw new Error(We(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:o,settled:c,options:u}=n,v=i(e,s,u);r.exposeAction(t,v),a&&r.addCase(v.fulfilled,a),l&&r.addCase(v.pending,l),o&&r.addCase(v.rejected,o),c&&r.addMatcher(v.settled,c),r.exposeCaseReducer(t,{fulfilled:a||Yt,pending:l||Yt,rejected:o||Yt,settled:c||Yt})}function Yt(){}function We(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Ja=[{id:"quinn",name:"Quinn",heroClass:"Cleric",imagePath:"assets/Hero_Cleric_Quinn.png",speed:5},{id:"vistra",name:"Vistra",heroClass:"Fighter",imagePath:"assets/Hero_Fighter_Vistra.png",speed:5},{id:"keyleth",name:"Keyleth",heroClass:"Paladin",imagePath:"assets/Hero_Paladin_Keyleth.png",speed:6},{id:"tarak",name:"Tarak",heroClass:"Rogue",imagePath:"assets/Hero_Rogue_Tarak.png",speed:6},{id:"haskan",name:"Haskan",heroClass:"Wizard",imagePath:"assets/Hero_Wizard_Haskan.png",speed:6}],eo=[{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:3,y:3},{x:3,y:4},{x:1,y:5},{x:2,y:5},{x:3,y:5}],to=[{tileType:"tile-2exit-a",imagePath:"assets/Tile_Black_x2_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-2exit-b",imagePath:"assets/Tile_Black_x2_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-2exit-c",imagePath:"assets/Tile_Black_x2_03.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-a",imagePath:"assets/Tile_Black_x3_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-b",imagePath:"assets/Tile_Black_x3_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-c",imagePath:"assets/Tile_Black_x3_03.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-4exit-a",imagePath:"assets/Tile_Black_x4_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-4exit-b",imagePath:"assets/Tile_Black_x4_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}}],no=["tile-2exit-a","tile-2exit-b","tile-2exit-c","tile-3exit-a","tile-3exit-b","tile-3exit-c","tile-4exit-a","tile-4exit-b"],ro={id:"start-tile",tileType:"start",position:{col:0,row:0},rotation:0,edges:{north:"unexplored",south:"unexplored",east:"unexplored",west:"unexplored"}},io={availableHeroes:Ja,selectedHeroes:[],heroEdgeMap:{}},Ni=Ri({name:"heroes",initialState:io,reducers:{toggleHeroSelection:(e,t)=>{const n=t.payload,r=e.selectedHeroes.findIndex(i=>i.id===n);if(r>=0)e.selectedHeroes.splice(r,1),delete e.heroEdgeMap[n];else if(e.selectedHeroes.length<5){const i=e.availableHeroes.find(s=>s.id===n);i&&e.selectedHeroes.push(i)}},selectHeroFromEdge:(e,t)=>{const{heroId:n,edge:r}=t.payload,i=e.selectedHeroes.findIndex(s=>s.id===n);if(i>=0)e.heroEdgeMap[n]===r&&(e.selectedHeroes.splice(i,1),delete e.heroEdgeMap[n]);else if(e.selectedHeroes.length<5){const s=e.availableHeroes.find(a=>a.id===n);s&&(e.selectedHeroes.push(s),e.heroEdgeMap[n]=r)}},clearSelection:e=>{e.selectedHeroes=[],e.heroEdgeMap={}}}}),{toggleHeroSelection:ol,selectHeroFromEdge:so,clearSelection:ll}=Ni.actions,ao=Ni.reducer,Mt={minX:1,maxX:3,minY:0,maxY:7,staircase:[{x:1,y:3},{x:2,y:3},{x:1,y:4},{x:2,y:4}]};function oo(e){return e.x>=Mt.minX&&e.x<=Mt.maxX&&e.y>=Mt.minY&&e.y<=Mt.maxY}function lo(e){return Mt.staircase.some(t=>t.x===e.x&&t.y===e.y)}function co(e){return oo(e)&&!lo(e)}function uo(e,t,n){return t.some(r=>r.position.x===e.x&&r.position.y===e.y&&r.heroId!==n)}function fo(e){const t=[],n=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:-1},{dx:1,dy:-1},{dx:-1,dy:1},{dx:1,dy:1}];for(const r of n){const i={x:e.x+r.dx,y:e.y+r.dy};co(i)&&t.push(i)}return t}function ho(e,t,n,r){const i=[],s=new Set,a=[{pos:e,distance:0}];for(s.add(`${e.x},${e.y}`);a.length>0;){const l=a.shift();if(!l)break;if(l.distance>0&&!uo(l.pos,n,r)&&i.push(l.pos),l.distance<t){const o=fo(l.pos);for(const c of o){const u=`${c.x},${c.y}`;s.has(u)||(s.add(u),a.push({pos:c,distance:l.distance+1}))}}}return i}function vo(e,t){return t.some(n=>n.x===e.x&&n.y===e.y)}const _o={north:[{x:1,y:0},{x:2,y:0},{x:3,y:0}],south:[{x:1,y:7},{x:2,y:7},{x:3,y:7}],east:[{x:3,y:0},{x:3,y:1},{x:3,y:2},{x:3,y:5},{x:3,y:6},{x:3,y:7}],west:[{x:1,y:0},{x:1,y:1},{x:1,y:2},{x:1,y:5},{x:1,y:6},{x:1,y:7}]};function po(e,t){return _o[t].some(r=>r.x===e.x&&r.y===e.y)}function Hi(e){return{north:"south",south:"north",east:"west",west:"east"}[e]}function go(e,t){const n=t.tiles.find(r=>r.id==="start-tile");if(!n)return null;for(const r of t.unexploredEdges)if(r.tileId===n.id&&po(e.position,r.direction))return r;return null}function mo(e,t){const{col:n,row:r}=e.position;switch(t){case"north":return{col:n,row:r-1};case"south":return{col:n,row:r+1};case"east":return{col:n+1,row:r};case"west":return{col:n-1,row:r}}}function wo(e){return 0}function yo(e){return to.find(t=>t.tileType===e)}function bo(e,t,n){const r=n.tiles.find(u=>u.id===e.tileId);if(!r)return null;const i=mo(r,e.direction),s=wo(e.direction);if(!yo(t))return null;const l=`tile-${n.tiles.length}`,c={north:"unexplored",south:"unexplored",east:"unexplored",west:"unexplored",[Hi(e.direction)]:"open"};return{id:l,tileType:t,position:i,rotation:s,edges:c}}function Fn(){return{tiles:[{...ro}],unexploredEdges:[{tileId:"start-tile",direction:"north"},{tileId:"start-tile",direction:"south"},{tileId:"start-tile",direction:"east"},{tileId:"start-tile",direction:"west"}],tileDeck:[]}}function xo(e,t=Math.random){const n=[...e];for(let r=n.length-1;r>0;r--){const i=Math.floor(t()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}function Eo(e,t=Math.random){return xo(e,t)}function So(e){if(e.length===0)return{drawnTile:null,remainingDeck:[]};const[t,...n]=e;return{drawnTile:t,remainingDeck:n}}function To(e,t,n){const r=e.unexploredEdges.filter(o=>!(o.tileId===t.tileId&&o.direction===t.direction)),i=Hi(t.direction),a=["north","south","east","west"].filter(o=>o!==i&&n.edges[o]==="unexplored").map(o=>({tileId:n.id,direction:o}));return{tiles:[...e.tiles.map(o=>o.id===t.tileId?{...o,edges:{...o.edges,[t.direction]:"open"}}:o),n],unexploredEdges:[...r,...a],tileDeck:e.tileDeck}}const Ln={currentHeroIndex:0,currentPhase:"hero-phase",turnNumber:1},ko={currentScreen:"character-select",heroTokens:[],turnState:{...Ln},validMoveSquares:[],showingMovement:!1,dungeon:Fn()};function Po(e){let t=e;return()=>(t=t*1103515245+12345&2147483647,t/2147483647)}function Io(e,t=Math.random){const n=[...e];for(let r=n.length-1;r>0;r--){const i=Math.floor(t()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}const Fi=Ri({name:"game",initialState:ko,reducers:{startGame:(e,t)=>{const{heroIds:n,positions:r,seed:i}=t.payload;if(n.length===0||n.length>5)return;const s=i??Date.now();e.randomSeed=s;let a;const l=Po(s);r?a=r:a=Io(eo,l).slice(0,5),e.heroTokens=n.map((c,u)=>({heroId:c,position:a[u]})),e.turnState={...Ln},e.validMoveSquares=[],e.showingMovement=!1;const o=Fn();o.tileDeck=Eo([...no],l),e.dungeon=o,e.currentScreen="game-board"},setHeroPosition:(e,t)=>{const n=e.heroTokens.find(r=>r.heroId===t.payload.heroId);n&&(n.position=t.payload.position)},showMovement:(e,t)=>{const{heroId:n,speed:r}=t.payload,i=e.heroTokens.find(s=>s.heroId===n);i&&(e.validMoveSquares=ho(i.position,r,e.heroTokens,n),e.showingMovement=!0)},hideMovement:e=>{e.validMoveSquares=[],e.showingMovement=!1},moveHero:(e,t)=>{const{heroId:n,position:r}=t.payload;if(!vo(r,e.validMoveSquares))return;const i=e.heroTokens.find(s=>s.heroId===n);i&&(i.position=r,e.validMoveSquares=[],e.showingMovement=!1)},resetGame:e=>{e.currentScreen="character-select",e.heroTokens=[],e.turnState={...Ln},e.randomSeed=void 0,e.validMoveSquares=[],e.showingMovement=!1,e.dungeon=Fn()},endHeroPhase:e=>{if(e.turnState.currentPhase!=="hero-phase")return;const t=e.heroTokens[e.turnState.currentHeroIndex];if(!t)return;const n=go(t,e.dungeon);if(n&&e.dungeon.tileDeck.length>0){const{drawnTile:r,remainingDeck:i}=So(e.dungeon.tileDeck);if(r){const s=bo(n,r,e.dungeon);s&&(e.dungeon=To(e.dungeon,n,s),e.dungeon.tileDeck=i)}}e.turnState.currentPhase="exploration-phase"},endExplorationPhase:e=>{e.turnState.currentPhase==="exploration-phase"&&(e.turnState.currentPhase="villain-phase")},endVillainPhase:e=>{e.turnState.currentPhase==="villain-phase"&&(e.turnState.currentHeroIndex=(e.turnState.currentHeroIndex+1)%e.heroTokens.length,e.turnState.currentHeroIndex===0&&(e.turnState.turnNumber+=1),e.turnState.currentPhase="hero-phase")}}}),{startGame:Co,setHeroPosition:cl,showMovement:zo,hideMovement:Mo,moveHero:Oo,resetGame:Ao,endHeroPhase:Do,endExplorationPhase:Ro,endVillainPhase:No}=Fi.actions,Ho=Fi.reducer,W=Ba({reducer:{heroes:ao,game:Ho}});typeof window<"u"&&(window.__REDUX_STORE__=W);function Oe(e){const t="/Ashardalon/pr-47/",n=e.startsWith("/")?e.slice(1):e;return(t.endsWith("/")?t:t+"/")+n}var Fo=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Lo=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),$o=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Bo=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),qo=ee('<div class="character-select svelte-1rwnzlz" data-testid="character-select"><div class="edge-zone edge-top svelte-1rwnzlz" data-testid="edge-top"><div class="hero-row svelte-1rwnzlz" data-testid="hero-grid"></div></div> <div class="middle-section svelte-1rwnzlz"><div class="edge-zone edge-left svelte-1rwnzlz" data-testid="edge-left"><div class="hero-column svelte-1rwnzlz"></div></div> <div class="center-zone svelte-1rwnzlz" data-testid="center-zone"><h1 class="svelte-1rwnzlz">Select Your Heroes</h1> <p class="instructions svelte-1rwnzlz">Choose 1-5 heroes for your adventure</p> <p class="instructions svelte-1rwnzlz">Tap a hero from your edge of the table</p> <div class="selection-info svelte-1rwnzlz"><span data-testid="selected-count"> </span></div> <button class="start-button svelte-1rwnzlz" data-testid="start-game-button">Start Adventure</button></div> <div class="edge-zone edge-right svelte-1rwnzlz" data-testid="edge-right"><div class="hero-column svelte-1rwnzlz"></div></div></div> <div class="edge-zone edge-bottom svelte-1rwnzlz" data-testid="edge-bottom"><div class="hero-row svelte-1rwnzlz"></div></div></div>');function jo(e,t){Pt(t,!0);let n=U(he([])),r=U(he([])),i=U(he({}));en(()=>{const y=W.subscribe(()=>{const x=W.getState();M(n,x.heroes.selectedHeroes,!0),M(r,x.heroes.availableHeroes,!0),M(i,x.heroes.heroEdgeMap,!0)}),g=W.getState();return M(n,g.heroes.selectedHeroes,!0),M(r,g.heroes.availableHeroes,!0),M(i,g.heroes.heroEdgeMap,!0),y});function s(y,g){return f(i)[y]===g}function a(y,g){const x=f(i)[y];return x!==void 0&&x!==g}function l(y,g){W.dispatch(so({heroId:y,edge:g}))}function o(){f(n).length>0&&W.dispatch(Co({heroIds:f(n).map(y=>y.id)}))}function c(){return f(n).length>=1&&f(n).length<=5}var u=qo(),v=p(u),d=p(v);at(d,21,()=>f(r),y=>y.id,(y,g)=>{var x=Fo();let N;x.__click=()=>l(f(g).id,"top");var j=p(x),pe=P(j,2),te=p(pe),ge=p(te),Ee=P(te,2),Pe=p(Ee);ae((He,Fe,Ie)=>{N=Ue(x,1,"hero-card svelte-1rwnzlz",null,N,He),A(x,"data-testid",`hero-${f(g).id??""}-top`),x.disabled=Fe,A(j,"src",Ie),A(j,"alt",f(g).name),H(ge,f(g).name),H(Pe,f(g).heroClass)},[()=>({selected:s(f(g).id,"top"),unavailable:a(f(g).id,"top")}),()=>a(f(g).id,"top"),()=>Oe(f(g).imagePath)]),B(y,x)});var h=P(v,2),m=p(h),C=p(m);at(C,21,()=>f(r),y=>y.id,(y,g)=>{var x=Lo();let N;x.__click=()=>l(f(g).id,"left");var j=p(x),pe=P(j,2),te=p(pe),ge=p(te),Ee=P(te,2),Pe=p(Ee);ae((He,Fe,Ie)=>{N=Ue(x,1,"hero-card svelte-1rwnzlz",null,N,He),A(x,"data-testid",`hero-${f(g).id??""}-left`),x.disabled=Fe,A(j,"src",Ie),A(j,"alt",f(g).name),H(ge,f(g).name),H(Pe,f(g).heroClass)},[()=>({selected:s(f(g).id,"left"),unavailable:a(f(g).id,"left")}),()=>a(f(g).id,"left"),()=>Oe(f(g).imagePath)]),B(y,x)});var _=P(m,2),E=P(p(_),6),O=p(E),k=p(O),b=P(E,2);b.__click=o;var z=P(_,2),F=p(z);at(F,21,()=>f(r),y=>y.id,(y,g)=>{var x=$o();let N;x.__click=()=>l(f(g).id,"right");var j=p(x),pe=P(j,2),te=p(pe),ge=p(te),Ee=P(te,2),Pe=p(Ee);ae((He,Fe,Ie)=>{N=Ue(x,1,"hero-card svelte-1rwnzlz",null,N,He),A(x,"data-testid",`hero-${f(g).id??""}-right`),x.disabled=Fe,A(j,"src",Ie),A(j,"alt",f(g).name),H(ge,f(g).name),H(Pe,f(g).heroClass)},[()=>({selected:s(f(g).id,"right"),unavailable:a(f(g).id,"right")}),()=>a(f(g).id,"right"),()=>Oe(f(g).imagePath)]),B(y,x)});var $=P(h,2),R=p($);at(R,21,()=>f(r),y=>y.id,(y,g)=>{var x=Bo();let N;x.__click=()=>l(f(g).id,"bottom");var j=p(x),pe=P(j,2),te=p(pe),ge=p(te),Ee=P(te,2),Pe=p(Ee);ae((He,Fe,Ie)=>{N=Ue(x,1,"hero-card svelte-1rwnzlz",null,N,He),A(x,"data-testid",`hero-${f(g).id??""}`),x.disabled=Fe,A(j,"src",Ie),A(j,"alt",f(g).name),H(ge,f(g).name),H(Pe,f(g).heroClass)},[()=>({selected:s(f(g).id,"bottom"),unavailable:a(f(g).id,"bottom")}),()=>a(f(g).id,"bottom"),()=>Oe(f(g).imagePath)]),B(y,x)}),ae(y=>{H(k,`${f(n).length??""} heroes selected`),b.disabled=y},[()=>!c()]),B(e,u),It()}Zn(["click"]);var Uo=ee('<button class="move-square svelte-ehd1hj" data-testid="move-square"><span class="sr-only svelte-ehd1hj"> </span></button>'),Vo=ee('<div class="movement-overlay svelte-ehd1hj" data-testid="movement-overlay"></div>');function Wo(e,t){Pt(t,!0);function n(s){const a=t.tileOffsetX+s.x*t.cellSize,l=t.tileOffsetY+s.y*t.cellSize;return`left: ${a}px; top: ${l}px; width: ${t.cellSize}px; height: ${t.cellSize}px;`}function r(s,a){s.stopPropagation(),t.onSquareClick(a)}var i=Vo();at(i,21,()=>t.validMoveSquares,s=>`${s.x},${s.y}`,(s,a)=>{var l=Uo();l.__click=u=>r(u,f(a));var o=p(l),c=p(o);ae(u=>{A(l,"data-position-x",f(a).x),A(l,"data-position-y",f(a).y),rn(l,u),H(c,`Move to (${f(a).x??""}, ${f(a).y??""})`)},[()=>n(f(a))]),B(s,l)}),B(e,i),It()}Zn(["click"]);var Ko=ee('<div class="tile-deck-counter svelte-9649r" data-testid="tile-deck-counter"><span class="deck-icon svelte-9649r">ð¦</span> <span class="deck-count svelte-9649r" data-testid="tile-deck-count"> </span> <span class="deck-label svelte-9649r">tiles</span></div>');function Go(e,t){var n=Ko(),r=P(p(n),2),i=p(r);ae(()=>H(i,t.tileCount)),B(e,n)}var Yo=ee('<div class="unexplored-edge svelte-12eown4" data-testid="unexplored-edge"><span class="question-mark svelte-12eown4">?</span></div>');function Xo(e,t){Pt(t,!0);const r=(()=>{const l=t.cellSize*1.5,o=36;switch(t.direction){case"north":return{left:`${t.tileWidth/2-l/2}px`,top:`${o-8/2}px`,width:`${l}px`,height:"8px"};case"south":return{left:`${t.tileWidth/2-l/2}px`,bottom:`${o-8/2}px`,width:`${l}px`,height:"8px"};case"east":return{right:`${o-8/2}px`,top:`${t.tileHeight/2-l/2}px`,width:"8px",height:`${l}px`};case"west":return{left:`${o-8/2}px`,top:`${t.tileHeight/2-l/2}px`,width:"8px",height:`${l}px`}}})(),i=Object.entries(r).map(([a,l])=>`${a}: ${l}`).join("; ");var s=Yo();ae(()=>{A(s,"data-direction",t.direction),rn(s,i)}),B(e,s),It()}var Qo=ee('<div class="player-info svelte-8w11tm" data-testid="turn-indicator"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm" data-testid="turn-phase"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),Zo=ee('<div class="player-info svelte-8w11tm"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),Jo=ee('<div data-testid="hero-token"><img class="token-image svelte-8w11tm"/> <span class="token-label svelte-8w11tm"> </span></div>'),el=ee('<div class="player-info svelte-8w11tm"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),tl=ee('<div class="player-info svelte-8w11tm" data-testid="turn-indicator"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm" data-testid="turn-phase"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),nl=ee('<div class="game-board svelte-8w11tm" data-testid="game-board"><div data-testid="player-zone-top"><!></div> <div class="middle-section svelte-8w11tm"><div data-testid="player-zone-left"><!></div> <div class="board-container svelte-8w11tm"><div class="start-tile svelte-8w11tm" data-testid="start-tile" role="button" tabindex="0"><img alt="Start Tile" class="tile-image svelte-8w11tm"/> <!> <!> <!></div> <div class="board-controls svelte-8w11tm"><!> <button class="end-phase-button svelte-8w11tm" data-testid="end-phase-button"> </button> <button class="reset-button svelte-8w11tm" data-testid="reset-button">â© Return to Character Select</button></div></div> <div data-testid="player-zone-right"><!></div></div> <div data-testid="player-zone-bottom"><!></div></div>');function rl(e,t){Pt(t,!0);const n=140,r=4,i=8,s=n*r,a=n*i,l=32,o=.3,c=1,u=36,v=36;let d=U(he([])),h=U(he([])),m=U(he({currentHeroIndex:0,currentPhase:"hero-phase",turnNumber:1})),C=U(he([])),_=U(!1),E=U(he({tiles:[],unexploredEdges:[],tileDeck:[]})),O=U(null),k=U(1);en(()=>{const w=W.subscribe(()=>{const T=W.getState();M(d,T.game.heroTokens,!0),M(h,T.heroes.selectedHeroes,!0),M(m,T.game.turnState,!0),M(C,T.game.validMoveSquares,!0),M(_,T.game.showingMovement,!0),M(E,T.game.dungeon,!0)}),S=W.getState();return M(d,S.game.heroTokens,!0),M(h,S.heroes.selectedHeroes,!0),M(m,S.game.turnState,!0),M(C,S.game.validMoveSquares,!0),M(_,S.game.showingMovement,!0),M(E,S.game.dungeon,!0),w}),en(()=>{if(f(O)){const w=()=>{const T=f(O);if(!T)return;const K=T.clientWidth-l,se=T.clientHeight-l,ue=K/s,V=se/a,G=Math.min(ue,V,c);M(k,Math.max(G,o),!0)};w();const S=new ResizeObserver(w);return S.observe(f(O)),()=>S.disconnect()}});function b(w){return f(h).find(S=>S.id===w)}function z(){return f(d)[f(m).currentHeroIndex]?.heroId}function F(w){switch(w){case"hero-phase":return"Hero Phase";case"exploration-phase":return"Exploration Phase";case"villain-phase":return"Villain Phase"}}function $(){W.dispatch(Ao())}function R(w){const S=n/2;return`left: ${u+w.x*n+S}px; top: ${v+w.y*n+S}px;`}function y(){const w=f(m).currentHeroIndex%4;return["bottom","right","top","left"][w]}function g(w){if(f(m).currentPhase!=="hero-phase")return;const S=z();if(!S)return;const T=b(S);T&&(f(_)?W.dispatch(Mo()):W.dispatch(zo({heroId:S,speed:T.speed})))}function x(w){const S=z();S&&W.dispatch(Oo({heroId:S,position:w}))}function N(w){(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),g())}function j(){return f(E).unexploredEdges.filter(w=>w.tileId==="start-tile")}function pe(){switch(f(m).currentPhase){case"hero-phase":W.dispatch(Do());break;case"exploration-phase":W.dispatch(Ro());break;case"villain-phase":W.dispatch(No());break}}function te(){switch(f(m).currentPhase){case"hero-phase":return"End Hero Phase";case"exploration-phase":return"End Exploration";case"villain-phase":return"End Villain Phase"}}var ge=nl(),Ee=p(ge);let Pe;var He=p(Ee);{var Fe=w=>{const S=ze(z),T=ze(()=>f(S)?b(f(S)):void 0);var K=_t(),se=vt(K);{var ue=V=>{var G=Qo(),q=p(G),Ce=P(q,2),ne=p(Ce),Le=p(ne),fe=P(ne,2),$e=p(fe),Be=P(fe,2),rt=p(Be);ae((it,st)=>{A(q,"src",it),A(q,"alt",f(T).name),H(Le,`${f(T).name??""}'s Turn`),H($e,st),H(rt,`Turn ${f(m).turnNumber??""}`)},[()=>Oe(f(T).imagePath),()=>F(f(m).currentPhase)]),B(V,G)};me(se,V=>{f(T)&&V(ue)})}B(w,K)};me(He,w=>{y()==="top"&&w(Fe)})}var Ie=P(Ee,2),mn=p(Ie);let sr;var Li=p(mn);{var $i=w=>{const S=ze(z),T=ze(()=>f(S)?b(f(S)):void 0);var K=_t(),se=vt(K);{var ue=V=>{var G=Zo(),q=p(G),Ce=P(q,2),ne=p(Ce),Le=p(ne),fe=P(ne,2),$e=p(fe),Be=P(fe,2),rt=p(Be);ae((it,st)=>{A(q,"src",it),A(q,"alt",f(T).name),H(Le,`${f(T).name??""}'s Turn`),H($e,st),H(rt,`Turn ${f(m).turnNumber??""}`)},[()=>Oe(f(T).imagePath),()=>F(f(m).currentPhase)]),B(V,G)};me(se,V=>{f(T)&&V(ue)})}B(w,K)};me(Li,w=>{y()==="left"&&w($i)})}var wn=P(mn,2),dt=p(wn);dt.__click=g,dt.__keydown=N;var ar=p(dt),or=P(ar,2);at(or,17,j,w=>w.direction,(w,S)=>{Xo(w,{get direction(){return f(S).direction},cellSize:n,tileWidth:s,tileHeight:a})});var lr=P(or,2);{var Bi=w=>{Wo(w,{get validMoveSquares(){return f(C)},tileOffsetX:u,tileOffsetY:v,cellSize:n,onSquareClick:x})};me(lr,w=>{f(_)&&f(C).length>0&&w(Bi)})}var qi=P(lr,2);at(qi,17,()=>f(d),w=>w.heroId,(w,S)=>{const T=ze(()=>b(f(S).heroId)),K=ze(()=>f(S).heroId===z());var se=_t(),ue=vt(se);{var V=G=>{var q=Jo();let Ce;var ne=p(q),Le=P(ne,2),fe=p(Le);ae(($e,Be)=>{Ce=Ue(q,1,"hero-token svelte-8w11tm",null,Ce,{active:f(K)}),A(q,"data-hero-id",f(S).heroId),rn(q,$e),A(ne,"src",Be),A(ne,"alt",f(T).name),H(fe,f(T).name)},[()=>R(f(S).position),()=>Oe(f(T).imagePath)]),B(G,q)};me(ue,G=>{f(T)&&G(V)})}B(w,se)});var ji=P(dt,2),cr=p(ji);Go(cr,{get tileCount(){return f(E).tileDeck.length}});var yn=P(cr,2);yn.__click=pe;var Ui=p(yn),Vi=P(yn,2);Vi.__click=$,fa(wn,w=>M(O,w),()=>f(O));var ur=P(wn,2);let fr;var Wi=p(ur);{var Ki=w=>{const S=ze(z),T=ze(()=>f(S)?b(f(S)):void 0);var K=_t(),se=vt(K);{var ue=V=>{var G=el(),q=p(G),Ce=P(q,2),ne=p(Ce),Le=p(ne),fe=P(ne,2),$e=p(fe),Be=P(fe,2),rt=p(Be);ae((it,st)=>{A(q,"src",it),A(q,"alt",f(T).name),H(Le,`${f(T).name??""}'s Turn`),H($e,st),H(rt,`Turn ${f(m).turnNumber??""}`)},[()=>Oe(f(T).imagePath),()=>F(f(m).currentPhase)]),B(V,G)};me(se,V=>{f(T)&&V(ue)})}B(w,K)};me(Wi,w=>{y()==="right"&&w(Ki)})}var dr=P(Ie,2);let hr;var Gi=p(dr);{var Yi=w=>{const S=ze(z),T=ze(()=>f(S)?b(f(S)):void 0);var K=_t(),se=vt(K);{var ue=V=>{var G=tl(),q=p(G),Ce=P(q,2),ne=p(Ce),Le=p(ne),fe=P(ne,2),$e=p(fe),Be=P(fe,2),rt=p(Be);ae((it,st)=>{A(q,"src",it),A(q,"alt",f(T).name),H(Le,`${f(T).name??""}'s Turn`),H($e,st),H(rt,`Turn ${f(m).turnNumber??""}`)},[()=>Oe(f(T).imagePath),()=>F(f(m).currentPhase)]),B(V,G)};me(se,V=>{f(T)&&V(ue)})}B(w,K)};me(Gi,w=>{y()==="bottom"&&w(Yi)})}ae((w,S,T,K,se,ue)=>{Pe=Ue(Ee,1,"edge-zone edge-top svelte-8w11tm",null,Pe,w),sr=Ue(mn,1,"edge-zone edge-left svelte-8w11tm",null,sr,S),rn(dt,`transform: scale(${f(k)??""});`),A(dt,"aria-label",f(_)?"Click to hide movement options":"Click to show movement options for current hero"),A(ar,"src",T),H(Ui,K),fr=Ue(ur,1,"edge-zone edge-right svelte-8w11tm",null,fr,se),hr=Ue(dr,1,"edge-zone edge-bottom svelte-8w11tm",null,hr,ue)},[()=>({"active-edge":y()==="top"}),()=>({"active-edge":y()==="left"}),()=>Oe("assets/StartTile.png"),te,()=>({"active-edge":y()==="right"}),()=>({"active-edge":y()==="bottom"})]),B(e,ge),It()}Zn(["click","keydown"]);var il=ee('<main class="svelte-1n46o8q"><!></main>');function sl(e,t){Pt(t,!0);let n=U("character-select");en(()=>{const l=W.subscribe(()=>{const c=W.getState();M(n,c.game.currentScreen,!0)}),o=W.getState();return M(n,o.game.currentScreen,!0),l});var r=il(),i=p(r);{var s=l=>{jo(l,{})},a=l=>{var o=_t(),c=vt(o);{var u=v=>{rl(v,{})};me(c,v=>{f(n)==="game-board"&&v(u)},!0)}B(l,o)};me(i,l=>{f(n)==="character-select"?l(s):l(a,!1)})}B(e,r),It()}ta(sl,{target:document.getElementById("app")});
