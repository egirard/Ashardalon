(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const ns="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ns);const Fr=1,Lr=2,$r=4,rs=8,is=16,ss=2,re=Symbol(),as="http://www.w3.org/1999/xhtml",kn=!1;var Br=Array.isArray,os=Array.prototype.indexOf,Bn=Array.from,ls=Object.defineProperty,At=Object.getOwnPropertyDescriptor,cs=Object.getOwnPropertyDescriptors,us=Object.prototype,fs=Array.prototype,qr=Object.getPrototypeOf,gr=Object.isExtensible;function ds(e){for(var t=0;t<e.length;t++)e[t]()}function jr(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const ne=2,qn=4,jn=8,hs=1<<24,Xe=16,Qe=32,ht=64,fn=128,Pe=512,se=1024,ve=2048,Ze=4096,we=8192,tt=16384,Un=32768,xt=65536,mr=1<<17,Ur=1<<18,Pt=1<<19,vs=1<<20,ut=32768,Pn=1<<21,Vn=1<<22,nt=1<<23,Qt=Symbol("$state"),_s=Symbol(""),gt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ps(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function gs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ms(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ws(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ys(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function xs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function bs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Es(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ts(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Ss(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Vr(e){return e===this.v}function ks(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Wr(e){return!ks(e,this.v)}let Ps=!1,Te=null;function bt(e){Te=e}function It(e,t=!1,n){Te={p:Te,i:!1,c:null,e:null,s:e,x:null,l:null}}function Ct(e){var t=Te,n=t.e;if(n!==null){t.e=null;for(var r of n)ai(r)}return t.i=!0,Te=t.p,{}}function Gr(){return!0}let mt=[];function Is(){var e=mt;mt=[],ds(e)}function Bt(e){if(mt.length===0){var t=mt;queueMicrotask(()=>{t===mt&&Is()})}mt.push(e)}function Kr(e){var t=L;if(t===null)return M.f|=nt,e;if((t.f&Un)===0){if((t.f&fn)===0)throw e;t.b.error(e)}else Et(e,t)}function Et(e,t){for(;t!==null;){if((t.f&fn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Wt=new Set;let W=null,Ee=null,Me=[],Wn=null,In=!1;class Ae{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#s=[];#i=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){Me=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of t)this.#a(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(W=null,wr(n.render_effects),wr(n.effects),this.#l?.resolve()),Ee=null}#a(t,n){t.f^=se;for(var r=t.first;r!==null;){var i=r.f,s=(i&(Qe|ht))!==0,a=s&&(i&se)!==0,l=a||(i&we)!==0||this.skipped_effects.has(r);if((r.f&fn)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!l&&r.fn!==null){s?r.f^=se:(i&qn)!==0?n.effects.push(r):jt(r)&&((r.f&Xe)!==0&&n.block_effects.push(r),Ht(r));var o=r.first;if(o!==null){r=o;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#o(t){for(const n of t)((n.f&ve)!==0?this.#s:this.#i).push(n),this.#c(n.deps),ae(n,se)}#c(t){if(t!==null)for(const n of t)(n.f&ne)===0||(n.f&ut)===0||(n.f^=ut,this.#c(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&nt)===0&&(this.current.set(t,t.v),Ee?.set(t,t.v))}activate(){W=this,this.apply()}deactivate(){W===this&&(W=null,Ee=null)}flush(){if(this.activate(),Me.length>0){if(Cs(),W!==null&&W!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(Wt.size>1){this.previous.clear();var t=Ee,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of Wt){if(s===this){n=!1;continue}const a=[];for(const[o,u]of this.current){if(s.current.has(o))if(n&&u!==s.current.get(o))s.current.set(o,u);else continue;a.push(o)}if(a.length===0)continue;const l=[...s.current.keys()].filter(o=>!this.current.has(o));if(l.length>0){var i=Me;Me=[];const o=new Set,u=new Map;for(const f of a)Yr(f,l,o,u);if(Me.length>0){W=s,s.apply();for(const f of Me)s.#a(f,r);s.deactivate()}Me=i}}W=null,Ee=t}this.committed=!0,Wt.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#s)ae(t,ve),ft(t);for(const t of this.#i)ae(t,Ze),ft(t);this.#s=[],this.#i=[],this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=jr()).promise}static ensure(){if(W===null){const t=W=new Ae;Wt.add(W),Ae.enqueue(()=>{W===t&&t.flush()})}return W}static enqueue(t){Bt(t)}apply(){}}function Cs(){var e=it;In=!0;var t=null;try{var n=0;for(nn(!0);Me.length>0;){var r=Ae.ensure();if(n++>1e3){var i,s;Ms()}r.process(Me),rt.clear()}}finally{In=!1,nn(e),Wn=null}}function Ms(){try{ys()}catch(e){Et(e,Wn)}}let Ve=null;function wr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(tt|we))===0&&jt(r)&&(Ve=new Set,Ht(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ui(r):r.fn=null),Ve?.size>0)){rt.clear();for(const i of Ve){if((i.f&(tt|we))!==0)continue;const s=[i];let a=i.parent;for(;a!==null;)Ve.has(a)&&(Ve.delete(a),s.push(a)),a=a.parent;for(let l=s.length-1;l>=0;l--){const o=s[l];(o.f&(tt|we))===0&&Ht(o)}}Ve.clear()}}Ve=null}}function Yr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&ne)!==0?Yr(i,t,n,r):(s&(Vn|Xe))!==0&&(s&ve)===0&&Xr(i,t,r)&&(ae(i,ve),ft(i))}}function Xr(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&ne)!==0&&Xr(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function ft(e){for(var t=Wn=e;t.parent!==null;){t=t.parent;var n=t.f;if(In&&t===L&&(n&Xe)!==0&&(n&Ur)===0)return;if((n&(ht|Qe))!==0){if((n&se)===0)return;t.f^=se}}Me.push(t)}function zs(e){let t=0,n=dt(0),r;return()=>{Dt()&&(c(n),oi(()=>(t===0&&(r=xi(()=>e(()=>Rt(n)))),t+=1,()=>{Bt(()=>{t-=1,t===0&&(r?.(),r=void 0,Rt(n))})})))}}var Os=xt|Pt|fn;function As(e,t,n){new Rs(e,t,n)}class Rs{parent;#e=!1;#t;#r=null;#n;#l;#s;#i=null;#a=null;#o=null;#c=null;#u=null;#f=0;#d=0;#v=!1;#h=null;#w=zs(()=>(this.#h=dt(this.#f),()=>{this.#h=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#l=r,this.parent=L.b,this.#e=!!this.#n.pending,this.#s=Xn(()=>{L.b=this;{var i=this.#g();try{this.#i=be(()=>r(i))}catch(s){this.error(s)}this.#d>0?this.#p():this.#e=!1}return()=>{this.#u?.remove()}},Os)}#y(){try{this.#i=be(()=>this.#l(this.#t))}catch(t){this.error(t)}this.#e=!1}#x(){const t=this.#n.pending;t&&(this.#a=be(()=>t(this.#t)),Ae.enqueue(()=>{var n=this.#g();this.#i=this.#_(()=>(Ae.ensure(),be(()=>this.#l(n)))),this.#d>0?this.#p():(yt(this.#a,()=>{this.#a=null}),this.#e=!1)}))}#g(){var t=this.#t;return this.#e&&(this.#u=st(),this.#t.before(this.#u),t=this.#u),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(t){var n=L,r=M,i=Te;De(this.#s),de(this.#s),bt(this.#s.ctx);try{return t()}catch(s){return Kr(s),null}finally{De(n),de(r),bt(i)}}#p(){const t=this.#n.pending;this.#i!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),hi(this.#i,this.#c)),this.#a===null&&(this.#a=be(()=>t(this.#t)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#a&&yt(this.#a,()=>{this.#a=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(t){this.#m(t),this.#f+=t,this.#h&&Tt(this.#h,this.#f)}get_effect_pending(){return this.#w(),c(this.#h)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#v||!n&&!r)throw t;this.#i&&(he(this.#i),this.#i=null),this.#a&&(he(this.#a),this.#a=null),this.#o&&(he(this.#o),this.#o=null);var i=!1,s=!1;const a=()=>{if(i){Ss();return}i=!0,s&&Ts(),Ae.ensure(),this.#f=0,this.#o!==null&&yt(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#_(()=>(this.#v=!1,be(()=>this.#l(this.#t)))),this.#d>0?this.#p():this.#e=!1};var l=M;try{de(null),s=!0,n?.(t,a),s=!1}catch(o){Et(o,this.#s&&this.#s.parent)}finally{de(l)}r&&Bt(()=>{this.#o=this.#_(()=>{Ae.ensure(),this.#v=!0;try{return be(()=>{r(this.#t,()=>t,()=>a)})}catch(o){return Et(o,this.#s.parent),null}finally{this.#v=!1}})})}}function Ds(e,t,n){for(var r=[],i=t.length,s=0;s<i;s++)Qn(t[s].e,r,!0);fi(r,()=>{var a=r.length===0&&n!==null;if(a){var l=n,o=l.parentNode;Ws(o),o.append(l),e.items.clear(),Se(e,t[0].prev,t[i-1].next)}for(var u=0;u<i;u++){var f=t[u];a||(e.items.delete(f.k),Se(e,f.prev,f.next)),he(f.e,!a)}e.first===t[0]&&(e.first=t[0].prev)})}function et(e,t,n,r,i,s=null){var a=e,l=new Map,o=null,u=(t&$r)!==0,f=(t&Fr)!==0,_=(t&Lr)!==0;if(u){var d=e;a=d.appendChild(st())}var h=null,E=Bs(()=>{var b=n();return Br(b)?b:b==null?[]:Bn(b)}),O,v=!0;function T(){Ns(k,O,a,t,r),h!==null&&(O.length===0?(h.fragment?(a.before(h.fragment),h.fragment=null):Zn(h.effect),H.first=h.effect):yt(h.effect,()=>{h=null}))}var H=Xn(()=>{O=c(E);for(var b=O.length,$=new Set,B=W,G=null,D=ii(),S=0;S<b;S+=1){var w=O[S],x=r(w,S),A=v?null:l.get(x);A?(f&&Tt(A.v,w),_?Tt(A.i,S):A.i=S,D&&B.skipped_effects.delete(A.e)):(A=Hs(v?a:null,G,w,x,S,i,t,n),v&&(A.o=!0,G===null?o=A:G.next=A,G=A),l.set(x,A)),$.add(x)}if(b===0&&s&&!h)if(v)h={fragment:null,effect:be(()=>s(a))};else{var U=document.createDocumentFragment(),ye=st();U.append(ye),h={fragment:U,effect:be(()=>s(ye))}}if(!v)if(D){for(const[oe,Z]of l)$.has(oe)||B.skipped_effects.add(Z.e);B.oncommit(T),B.ondiscard(()=>{})}else T();c(E)}),k={effect:H,items:l,first:o};v=!1}function Ns(e,t,n,r,i){var s=(r&rs)!==0,a=t.length,l=e.items,o=e.first,u,f=null,_,d=[],h=[],E,O,v,T;if(s)for(T=0;T<a;T+=1)E=t[T],O=i(E,T),v=l.get(O),v.o&&(v.a?.measure(),(_??=new Set).add(v));for(T=0;T<a;T+=1){if(E=t[T],O=i(E,T),v=l.get(O),e.first??=v,!v.o){v.o=!0;var H=f?f.next:o;Se(e,f,v),Se(e,v,H),bn(v,H,n),f=v,d=[],h=[],o=f.next;continue}if((v.e.f&we)!==0&&(Zn(v.e),s&&(v.a?.unfix(),(_??=new Set).delete(v))),v!==o){if(u!==void 0&&u.has(v)){if(d.length<h.length){var k=h[0],b;f=k.prev;var $=d[0],B=d[d.length-1];for(b=0;b<d.length;b+=1)bn(d[b],k,n);for(b=0;b<h.length;b+=1)u.delete(h[b]);Se(e,$.prev,B.next),Se(e,f,$),Se(e,B,k),o=k,f=B,T-=1,d=[],h=[]}else u.delete(v),bn(v,o,n),Se(e,v.prev,v.next),Se(e,v,f===null?e.first:f.next),Se(e,f,v),f=v;continue}for(d=[],h=[];o!==null&&o.k!==O;)(o.e.f&we)===0&&(u??=new Set).add(o),h.push(o),o=o.next;if(o===null)continue;v=o}d.push(v),f=v,o=v.next}let G=l.size>a;if(o!==null||u!==void 0){for(var D=u===void 0?[]:Bn(u);o!==null;)(o.e.f&we)===0&&D.push(o),o=o.next;var S=D.length;if(G=l.size-S>a,S>0){var w=(r&$r)!==0&&a===0?n:null;if(s){for(T=0;T<S;T+=1)D[T].a?.measure();for(T=0;T<S;T+=1)D[T].a?.fix()}Ds(e,D,w)}}if(G)for(const x of l.values())x.o||(Se(e,f,x),f=x);e.effect.last=f&&f.e,s&&Bt(()=>{if(_!==void 0)for(v of _)v.a?.apply()})}function Hs(e,t,n,r,i,s,a,l){var o=(a&Fr)!==0,u=(a&is)===0,f=o?u?js(n,!1,!1):dt(n):n,_=(a&Lr)===0?i:dt(i),d={i:_,v:f,k:r,a:null,e:null,o:!1,prev:t,next:null};try{if(e===null){var h=document.createDocumentFragment();h.append(e=st())}return d.e=be(()=>s(e,f,_,l)),t!==null&&(t.next=d),d}finally{}}function bn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var a=qt(s);i.before(s),s=a}}function Se(e,t,n){t===null?(e.first=n,e.effect.first=n&&n.e):(t.e.next&&(t.e.next.prev=null),t.next=n,t.e.next=n&&n.e),n!==null&&(n.e.prev&&(n.e.prev.next=null),n.prev=t,n.e.prev=t&&t.e)}function Fs(e,t,n,r){const i=Gn;if(n.length===0&&e.length===0){r(t.map(i));return}var s=W,a=L,l=Ls();function o(){Promise.all(n.map(u=>$s(u))).then(u=>{l();try{r([...t.map(i),...u])}catch(f){(a.f&tt)===0&&Et(f,a)}s?.deactivate(),en()}).catch(u=>{Et(u,a)})}e.length>0?Promise.all(e).then(()=>{l();try{return o()}finally{s?.deactivate(),en()}}):o()}function Ls(){var e=L,t=M,n=Te,r=W;return function(s=!0){De(e),de(t),bt(n),s&&r?.activate()}}function en(){De(null),de(null),bt(null)}function Gn(e){var t=ne|ve,n=M!==null&&(M.f&ne)!==0?M:null;return L!==null&&(L.f|=Pt),{ctx:Te,deps:null,effects:null,equals:Vr,f:t,fn:e,reactions:null,rv:0,v:re,wv:0,parent:n??L,ac:null}}function $s(e,t){let n=L;n===null&&ps();var r=n.b,i=void 0,s=dt(re),a=!M,l=new Map;return Zs(()=>{var o=jr();i=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(()=>{u===W&&u.committed&&u.deactivate(),en()})}catch(d){o.reject(d),en()}var u=W;if(a){var f=!r.is_pending();r.update_pending_count(1),u.increment(f),l.get(u)?.reject(gt),l.delete(u),l.set(u,o)}const _=(d,h=void 0)=>{if(u.activate(),h)h!==gt&&(s.f|=nt,Tt(s,h));else{(s.f&nt)!==0&&(s.f^=nt),Tt(s,d);for(const[E,O]of l){if(l.delete(E),E===u)break;O.reject(gt)}}a&&(r.update_pending_count(-1),u.decrement(f))};o.promise.then(_,d=>_(null,d||"unknown"))}),Ys(()=>{for(const o of l.values())o.reject(gt)}),new Promise(o=>{function u(f){function _(){f===i?o(s):u(i)}f.then(_,_)}u(i)})}function J(e){const t=Gn(e);return vi(t),t}function Bs(e){const t=Gn(e);return t.equals=Wr,t}function Qr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)he(t[n])}}function qs(e){for(var t=e.parent;t!==null;){if((t.f&ne)===0)return(t.f&tt)===0?t:null;t=t.parent}return null}function Kn(e){var t,n=L;De(qs(e));try{e.f&=~ut,Qr(e),t=mi(e)}finally{De(n)}return t}function Zr(e){var t=Kn(e);if(e.equals(t)||(W?.is_fork||(e.v=t),e.wv=pi()),!Mt)if(Ee!==null)(Dt()||W?.is_fork)&&Ee.set(e,t);else{var n=(e.f&Pe)===0?Ze:se;ae(e,n)}}let Cn=new Set;const rt=new Map;let Jr=!1;function dt(e,t){var n={f:0,v:e,reactions:null,equals:Vr,rv:0,wv:0};return n}function X(e,t){const n=dt(e);return vi(n),n}function js(e,t=!1,n=!0){const r=dt(e);return t||(r.equals=Wr),r}function N(e,t,n=!1){M!==null&&(!Re||(M.f&mr)!==0)&&Gr()&&(M.f&(ne|Xe|Vn|mr))!==0&&!Ge?.includes(e)&&Es();let r=n?ge(t):t;return Tt(e,r)}function Tt(e,t){if(!e.equals(t)){var n=e.v;Mt?rt.set(e,t):rt.set(e,n),e.v=t;var r=Ae.ensure();r.capture(e,n),(e.f&ne)!==0&&((e.f&ve)!==0&&Kn(e),ae(e,(e.f&Pe)!==0?se:Ze)),e.wv=pi(),ei(e,ve),L!==null&&(L.f&se)!==0&&(L.f&(Qe|ht))===0&&(xe===null?ta([e]):xe.push(e)),!r.is_fork&&Cn.size>0&&!Jr&&Us()}return t}function Us(){Jr=!1;var e=it;nn(!0);const t=Array.from(Cn);try{for(const n of t)(n.f&se)!==0&&ae(n,Ze),jt(n)&&Ht(n)}finally{nn(e)}Cn.clear()}function Rt(e){N(e,e.v+1)}function ei(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],a=s.f,l=(a&ve)===0;if(l&&ae(s,t),(a&ne)!==0){var o=s;Ee?.delete(o),(a&ut)===0&&(a&Pe&&(s.f|=ut),ei(o,Ze))}else l&&((a&Xe)!==0&&Ve!==null&&Ve.add(s),ft(s))}}function ge(e){if(typeof e!="object"||e===null||Qt in e)return e;const t=qr(e);if(t!==us&&t!==fs)return e;var n=new Map,r=Br(e),i=X(0),s=ct,a=l=>{if(ct===s)return l();var o=M,u=ct;de(null),br(s);var f=l();return de(o),br(u),f};return r&&n.set("length",X(e.length)),new Proxy(e,{defineProperty(l,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&xs();var f=n.get(o);return f===void 0?f=a(()=>{var _=X(u.value);return n.set(o,_),_}):N(f,u.value,!0),!0},deleteProperty(l,o){var u=n.get(o);if(u===void 0){if(o in l){const f=a(()=>X(re));n.set(o,f),Rt(i)}}else N(u,re),Rt(i);return!0},get(l,o,u){if(o===Qt)return e;var f=n.get(o),_=o in l;if(f===void 0&&(!_||At(l,o)?.writable)&&(f=a(()=>{var h=ge(_?l[o]:re),E=X(h);return E}),n.set(o,f)),f!==void 0){var d=c(f);return d===re?void 0:d}return Reflect.get(l,o,u)},getOwnPropertyDescriptor(l,o){var u=Reflect.getOwnPropertyDescriptor(l,o);if(u&&"value"in u){var f=n.get(o);f&&(u.value=c(f))}else if(u===void 0){var _=n.get(o),d=_?.v;if(_!==void 0&&d!==re)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(l,o){if(o===Qt)return!0;var u=n.get(o),f=u!==void 0&&u.v!==re||Reflect.has(l,o);if(u!==void 0||L!==null&&(!f||At(l,o)?.writable)){u===void 0&&(u=a(()=>{var d=f?ge(l[o]):re,h=X(d);return h}),n.set(o,u));var _=c(u);if(_===re)return!1}return f},set(l,o,u,f){var _=n.get(o),d=o in l;if(r&&o==="length")for(var h=u;h<_.v;h+=1){var E=n.get(h+"");E!==void 0?N(E,re):h in l&&(E=a(()=>X(re)),n.set(h+"",E))}if(_===void 0)(!d||At(l,o)?.writable)&&(_=a(()=>X(void 0)),N(_,ge(u)),n.set(o,_));else{d=_.v!==re;var O=a(()=>ge(u));N(_,O)}var v=Reflect.getOwnPropertyDescriptor(l,o);if(v?.set&&v.set.call(f,u),!d){if(r&&typeof o=="string"){var T=n.get("length"),H=Number(o);Number.isInteger(H)&&H>=T.v&&N(T,H+1)}Rt(i)}return!0},ownKeys(l){c(i);var o=Reflect.ownKeys(l).filter(_=>{var d=n.get(_);return d===void 0||d.v!==re});for(var[u,f]of n)f.v!==re&&!(u in l)&&o.push(u);return o},setPrototypeOf(){bs()}})}var yr,ti,ni,ri;function Vs(){if(yr===void 0){yr=window,ti=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ni=At(t,"firstChild").get,ri=At(t,"nextSibling").get,gr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),gr(n)&&(n.__t=void 0)}}function st(e=""){return document.createTextNode(e)}function Yn(e){return ni.call(e)}function qt(e){return ri.call(e)}function m(e,t){return Yn(e)}function ot(e,t=!1){{var n=Yn(e);return n instanceof Comment&&n.data===""?qt(n):n}}function P(e,t=1,n=!1){let r=e;for(;t--;)r=qt(r);return r}function Ws(e){e.textContent=""}function ii(){return!1}function si(e){var t=M,n=L;de(null),De(null);try{return e()}finally{de(t),De(n)}}function Gs(e){L===null&&(M===null&&ws(),ms()),Mt&&gs()}function Ks(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Je(e,t,n){var r=L;r!==null&&(r.f&we)!==0&&(e|=we);var i={ctx:Te,deps:null,nodes_start:null,nodes_end:null,f:e|ve|Pe,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ht(i),i.f|=Un}catch(l){throw he(i),l}else t!==null&&ft(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Pt)===0&&(s=s.first,(e&Xe)!==0&&(e&xt)!==0&&s!==null&&(s.f|=xt)),s!==null&&(s.parent=r,r!==null&&Ks(s,r),M!==null&&(M.f&ne)!==0&&(e&ht)===0)){var a=M;(a.effects??=[]).push(s)}return i}function Dt(){return M!==null&&!Re}function Ys(e){const t=Je(jn,null,!1);return ae(t,se),t.teardown=e,t}function tn(e){Gs();var t=L.f,n=!M&&(t&Qe)!==0&&(t&Un)===0;if(n){var r=Te;(r.e??=[]).push(e)}else return ai(e)}function ai(e){return Je(qn|vs,e,!1)}function Xs(e){Ae.ensure();const t=Je(ht|Pt,e,!0);return(n={})=>new Promise(r=>{n.outro?yt(t,()=>{he(t),r(void 0)}):(he(t),r(void 0))})}function Qs(e){return Je(qn,e,!1)}function Zs(e){return Je(Vn|Pt,e,!0)}function oi(e,t=0){return Je(jn|t,e,!0)}function ie(e,t=[],n=[],r=[]){Fs(r,t,n,i=>{Je(jn,()=>e(...i.map(c)),!0)})}function Xn(e,t=0){var n=Je(Xe|t,e,!0);return n}function be(e){return Je(Qe|Pt,e,!0)}function li(e){var t=e.teardown;if(t!==null){const n=Mt,r=M;xr(!0),de(null);try{t.call(null)}finally{xr(n),de(r)}}}function ci(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&si(()=>{i.abort(gt)});var r=n.next;(n.f&ht)!==0?n.parent=null:he(n,t),n=r}}function Js(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Qe)===0&&he(t),t=n}}function he(e,t=!0){var n=!1;(t||(e.f&Ur)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ea(e.nodes_start,e.nodes_end),n=!0),ci(e,t&&!n),rn(e,0),ae(e,tt);var r=e.transitions;if(r!==null)for(const s of r)s.stop();li(e);var i=e.parent;i!==null&&i.first!==null&&ui(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ea(e,t){for(;e!==null;){var n=e===t?null:qt(e);e.remove(),e=n}}function ui(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function yt(e,t,n=!0){var r=[];Qn(e,r,!0),fi(r,()=>{n&&he(e),t&&t()})}function fi(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Qn(e,t,n){if((e.f&we)===0){if(e.f^=we,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&xt)!==0||(r.f&Qe)!==0&&(e.f&Xe)!==0;Qn(r,t,s?n:!1),r=i}}}function Zn(e){di(e,!0)}function di(e,t){if((e.f&we)!==0){e.f^=we,(e.f&se)===0&&(ae(e,ve),ft(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&xt)!==0||(n.f&Qe)!==0;di(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}function hi(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:qt(n);t.append(n),n=i}}let it=!1;function nn(e){it=e}let Mt=!1;function xr(e){Mt=e}let M=null,Re=!1;function de(e){M=e}let L=null;function De(e){L=e}let Ge=null;function vi(e){M!==null&&(Ge===null?Ge=[e]:Ge.push(e))}let ue=null,_e=0,xe=null;function ta(e){xe=e}let _i=1,Nt=0,ct=Nt;function br(e){ct=e}function pi(){return++_i}function jt(e){var t=e.f;if((t&ve)!==0)return!0;if(t&ne&&(e.f&=~ut),(t&Ze)!==0){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(jt(s)&&Zr(s),s.wv>e.wv)return!0}(t&Pe)!==0&&Ee===null&&ae(e,se)}return!1}function gi(e,t,n=!0){var r=e.reactions;if(r!==null&&!Ge?.includes(e))for(var i=0;i<r.length;i++){var s=r[i];(s.f&ne)!==0?gi(s,t,!1):t===s&&(n?ae(s,ve):(s.f&se)!==0&&ae(s,Ze),ft(s))}}function mi(e){var t=ue,n=_e,r=xe,i=M,s=Ge,a=Te,l=Re,o=ct,u=e.f;ue=null,_e=0,xe=null,M=(u&(Qe|ht))===0?e:null,Ge=null,bt(e.ctx),Re=!1,ct=++Nt,e.ac!==null&&(si(()=>{e.ac.abort(gt)}),e.ac=null);try{e.f|=Pn;var f=e.fn,_=f(),d=e.deps;if(ue!==null){var h;if(rn(e,_e),d!==null&&_e>0)for(d.length=_e+ue.length,h=0;h<ue.length;h++)d[_e+h]=ue[h];else e.deps=d=ue;if(it&&Dt()&&(e.f&Pe)!==0)for(h=_e;h<d.length;h++)(d[h].reactions??=[]).push(e)}else d!==null&&_e<d.length&&(rn(e,_e),d.length=_e);if(Gr()&&xe!==null&&!Re&&d!==null&&(e.f&(ne|Ze|ve))===0)for(h=0;h<xe.length;h++)gi(xe[h],e);return i!==null&&i!==e&&(Nt++,xe!==null&&(r===null?r=xe:r.push(...xe))),(e.f&nt)!==0&&(e.f^=nt),_}catch(E){return Kr(E)}finally{e.f^=Pn,ue=t,_e=n,xe=r,M=i,Ge=s,bt(a),Re=l,ct=o}}function na(e,t){let n=t.reactions;if(n!==null){var r=os.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&ne)!==0&&(ue===null||!ue.includes(t))&&(ae(t,Ze),(t.f&Pe)!==0&&(t.f^=Pe,t.f&=~ut),Qr(t),rn(t,0))}function rn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)na(e,n[r])}function Ht(e){var t=e.f;if((t&tt)===0){ae(e,se);var n=L,r=it;L=e,it=!0;try{(t&(Xe|hs))!==0?Js(e):ci(e),li(e);var i=mi(e);e.teardown=typeof i=="function"?i:null,e.wv=_i;var s;kn&&Ps&&(e.f&ve)!==0&&e.deps}finally{it=r,L=n}}}function c(e){var t=e.f,n=(t&ne)!==0;if(M!==null&&!Re){var r=L!==null&&(L.f&tt)!==0;if(!r&&!Ge?.includes(e)){var i=M.deps;if((M.f&Pn)!==0)e.rv<Nt&&(e.rv=Nt,ue===null&&i!==null&&i[_e]===e?_e++:ue===null?ue=[e]:ue.includes(e)||ue.push(e));else{(M.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[M]:s.includes(M)||s.push(M)}}}if(Mt){if(rt.has(e))return rt.get(e);if(n){var a=e,l=a.v;return((a.f&se)===0&&a.reactions!==null||yi(a))&&(l=Kn(a)),rt.set(a,l),l}}else n&&(!Ee?.has(e)||W?.is_fork&&!Dt())&&(a=e,jt(a)&&Zr(a),it&&Dt()&&(a.f&Pe)===0&&wi(a));if(Ee?.has(e))return Ee.get(e);if((e.f&nt)!==0)throw e.v;return e.v}function wi(e){if(e.deps!==null){e.f^=Pe;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&ne)!==0&&(t.f&Pe)===0&&wi(t)}}function yi(e){if(e.v===re)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(rt.has(t)||(t.f&ne)!==0&&yi(t))return!0;return!1}function xi(e){var t=Re;try{return Re=!0,e()}finally{Re=t}}const ra=-7169;function ae(e,t){e.f=e.f&ra|t}const bi=new Set,Mn=new Set;function Jn(e){for(var t=0;t<e.length;t++)bi.add(e[t]);for(var n of Mn)n(e)}let Er=null;function Gt(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;Er=e;var a=0,l=Er===e&&e.__root;if(l){var o=i.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;o<=u&&(a=o)}if(s=i[a]||e.target,s!==t){ls(e,"currentTarget",{configurable:!0,get(){return s||n}});var f=M,_=L;de(null),De(null);try{for(var d,h=[];s!==null;){var E=s.assignedSlot||s.parentNode||s.host||null;try{var O=s["__"+r];O!=null&&(!s.disabled||e.target===s)&&O.call(s,e)}catch(v){d?h.push(v):d=v}if(e.cancelBubble||E===t||E===null)break;s=E}if(d){for(let v of h)queueMicrotask(()=>{throw v});throw d}}finally{e.__root=t,delete e.currentTarget,de(f),De(_)}}}function ia(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ei(e,t){var n=L;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function ee(e,t){var n=(t&ss)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=ia(i?e:"<!>"+e),r=Yn(r));var s=n||ti?document.importNode(r,!0):r.cloneNode(!0);return Ei(s,s),s}}function lt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=st();return e.append(t,n),Ei(t,n),e}function q(e,t){e!==null&&e.before(t)}const sa=["touchstart","touchmove"];function aa(e){return sa.includes(e)}function j(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function oa(e,t){return la(e,t)}const _t=new Map;function la(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:a=!0}){Vs();var l=new Set,o=_=>{for(var d=0;d<_.length;d++){var h=_[d];if(!l.has(h)){l.add(h);var E=aa(h);t.addEventListener(h,Gt,{passive:E});var O=_t.get(h);O===void 0?(document.addEventListener(h,Gt,{passive:E}),_t.set(h,1)):_t.set(h,O+1)}}};o(Bn(bi)),Mn.add(o);var u=void 0,f=Xs(()=>{var _=n??t.appendChild(st());return As(_,{pending:()=>{}},d=>{if(s){It({});var h=Te;h.c=s}i&&(r.$$events=i),u=e(d,r)||{},s&&Ct()}),()=>{for(var d of l){t.removeEventListener(d,Gt);var h=_t.get(d);--h===0?(document.removeEventListener(d,Gt),_t.delete(d)):_t.set(d,h)}Mn.delete(o),_!==n&&_.parentNode?.removeChild(_)}});return ca.set(u,f),u}let ca=new WeakMap;class ua{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#s=()=>{var t=W;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)Zn(r),this.#n.delete(n);else{var i=this.#r.get(n);i&&(this.#t.set(n,i.effect),this.#r.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,a]of this.#e){if(this.#e.delete(s),s===t)break;const l=this.#r.get(a);l&&(he(l.effect),this.#r.delete(a))}for(const[s,a]of this.#t){if(s===n||this.#n.has(s))continue;const l=()=>{if(Array.from(this.#e.values()).includes(s)){var u=document.createDocumentFragment();hi(a,u),u.append(st()),this.#r.set(s,{effect:a,fragment:u})}else he(a);this.#n.delete(s),this.#t.delete(s)};this.#l||!r?(this.#n.add(s),yt(a,l,!1)):l()}}};#i=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#r)n.includes(r)||(he(i.effect),this.#r.delete(r))};ensure(t,n){var r=W,i=ii();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(i){var s=document.createDocumentFragment(),a=st();s.append(a),this.#r.set(t,{effect:be(()=>n(a)),fragment:s})}else this.#t.set(t,be(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[l,o]of this.#t)l===t?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[l,o]of this.#r)l===t?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(this.#s),r.ondiscard(this.#i)}else this.#s()}}function pe(e,t,n=!1){var r=new ua(e),i=n?xt:0;function s(a,l){r.ensure(a,l)}Xn(()=>{var a=!1;t((l,o=!0)=>{a=!0,s(o,l)}),a||s(!1,null)},i)}const Tr=[...` 	
\r\fÂ \v\uFEFF`];function fa(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,a=0;(a=r.indexOf(i,a))>=0;){var l=a+s;(a===0||Tr.includes(r[a-1]))&&(l===r.length||Tr.includes(r[l]))?r=(a===0?"":r.substring(0,a))+r.substring(l+1):a=l}}return r===""?null:r}function da(e,t){return e==null?null:String(e)}function ze(e,t,n,r,i,s){var a=e.__className;if(a!==n||a===void 0){var l=fa(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&i!==s)for(var o in s){var u=!!s[o];(i==null||u!==!!i[o])&&e.classList.toggle(o,u)}return s}function wt(e,t,n,r){var i=e.__style;if(i!==t){var s=da(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const ha=Symbol("is custom element"),va=Symbol("is html");function R(e,t,n,r){var i=_a(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[_s]=n),n==null?e.removeAttribute(t):typeof n!="string"&&pa(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function _a(e){return e.__attributes??={[ha]:e.nodeName.includes("-"),[va]:e.namespaceURI===as}}var Sr=new Map;function pa(e){var t=e.getAttribute("is")||e.nodeName,n=Sr.get(t);if(n)return n;Sr.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=cs(i);for(var a in r)r[a].set&&n.push(a);i=qr(i)}return n}function kr(e,t){return e===t||e?.[Qt]===t}function ga(e={},t,n,r){return Qs(()=>{var i,s;return oi(()=>{i=s,s=[],xi(()=>{e!==n(...s)&&(t(e,...s),i&&kr(n(...i),e)&&t(null,...i))})}),()=>{Bt(()=>{s&&kr(n(...s),e)&&t(null,...s)})}}),e}function te(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ma=typeof Symbol=="function"&&Symbol.observable||"@@observable",Pr=ma,En=()=>Math.random().toString(36).substring(7).split("").join("."),wa={INIT:`@@redux/INIT${En()}`,REPLACE:`@@redux/REPLACE${En()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${En()}`},sn=wa;function er(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ti(e,t,n){if(typeof e!="function")throw new Error(te(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(te(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(te(1));return n(Ti)(e,t)}let r=e,i=t,s=new Map,a=s,l=0,o=!1;function u(){a===s&&(a=new Map,s.forEach((v,T)=>{a.set(T,v)}))}function f(){if(o)throw new Error(te(3));return i}function _(v){if(typeof v!="function")throw new Error(te(4));if(o)throw new Error(te(5));let T=!0;u();const H=l++;return a.set(H,v),function(){if(T){if(o)throw new Error(te(6));T=!1,u(),a.delete(H),s=null}}}function d(v){if(!er(v))throw new Error(te(7));if(typeof v.type>"u")throw new Error(te(8));if(typeof v.type!="string")throw new Error(te(17));if(o)throw new Error(te(9));try{o=!0,i=r(i,v)}finally{o=!1}return(s=a).forEach(H=>{H()}),v}function h(v){if(typeof v!="function")throw new Error(te(10));r=v,d({type:sn.REPLACE})}function E(){const v=_;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(te(11));function H(){const b=T;b.next&&b.next(f())}return H(),{unsubscribe:v(H)}},[Pr](){return this}}}return d({type:sn.INIT}),{dispatch:d,subscribe:_,getState:f,replaceReducer:h,[Pr]:E}}function ya(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:sn.INIT})>"u")throw new Error(te(12));if(typeof n(void 0,{type:sn.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(te(13))})}function xa(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{ya(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let o=!1;const u={};for(let f=0;f<r.length;f++){const _=r[f],d=n[_],h=a[_],E=d(h,l);if(typeof E>"u")throw l&&l.type,new Error(te(14));u[_]=E,o=o||E!==h}return o=o||r.length!==Object.keys(a).length,o?u:a}}function an(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function ba(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(te(15))};const a={getState:i.getState,dispatch:(o,...u)=>s(o,...u)},l=e.map(o=>o(a));return s=an(...l)(i.dispatch),{...i,dispatch:s}}}function Ea(e){return er(e)&&"type"in e&&typeof e.type=="string"}var Si=Symbol.for("immer-nothing"),Ir=Symbol.for("immer-draftable"),fe=Symbol.for("immer-state");function ke(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var me=Object,St=me.getPrototypeOf,on="constructor",dn="prototype",zn="configurable",ln="enumerable",Zt="writable",Ft="value",Ye=e=>!!e&&!!e[fe];function Ne(e){return e?ki(e)||hn(e)||!!e[Ir]||!!e[on]?.[Ir]||vn(e)||_n(e):!1}var Ta=me[dn][on].toString(),Cr=new WeakMap;function ki(e){if(!e||!tr(e))return!1;const t=St(e);if(t===null||t===me[dn])return!0;const n=me.hasOwnProperty.call(t,on)&&t[on];if(n===Object)return!0;if(!pt(n))return!1;let r=Cr.get(n);return r===void 0&&(r=Function.toString.call(n),Cr.set(n,r)),r===Ta}function Ut(e,t,n=!0){Vt(e)===0?(n?Reflect.ownKeys(e):me.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Vt(e){const t=e[fe];return t?t.type_:hn(e)?1:vn(e)?2:_n(e)?3:0}var Mr=(e,t,n=Vt(e))=>n===2?e.has(t):me[dn].hasOwnProperty.call(e,t),On=(e,t,n=Vt(e))=>n===2?e.get(t):e[t],cn=(e,t,n,r=Vt(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Sa(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var hn=Array.isArray,vn=e=>e instanceof Map,_n=e=>e instanceof Set,tr=e=>typeof e=="object",pt=e=>typeof e=="function",Tn=e=>typeof e=="boolean",We=e=>e.copy_||e.base_,nr=e=>e.modified_?e.copy_:e.base_;function An(e,t){if(vn(e))return new Map(e);if(_n(e))return new Set(e);if(hn(e))return Array[dn].slice.call(e);const n=ki(e);if(t===!0||t==="class_only"&&!n){const r=me.getOwnPropertyDescriptors(e);delete r[fe];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l[Zt]===!1&&(l[Zt]=!0,l[zn]=!0),(l.get||l.set)&&(r[a]={[zn]:!0,[Zt]:!0,[ln]:l[ln],[Ft]:e[a]})}return me.create(St(e),r)}else{const r=St(e);if(r!==null&&n)return{...e};const i=me.create(r);return me.assign(i,e)}}function rr(e,t=!1){return pn(e)||Ye(e)||(Vt(e)>1&&me.defineProperties(e,{set:Kt,add:Kt,clear:Kt,delete:Kt}),me.freeze(e),t&&Ut(e,(n,r)=>{rr(r,!0)},!1)),e}function ka(){ke(2)}var Kt={[Ft]:ka};function pn(e){return e===null||!tr(e)?!0:me.isFrozen(e)}var un="MapSet",Rn="Patches",Pi={};function kt(e){const t=Pi[e];return t||ke(0,e),t}var Pa=e=>!!Pi[e],Lt,Ii=()=>Lt,Ia=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Pa(un)?kt(un):void 0});function zr(e,t){t&&(e.patchPlugin_=kt(Rn),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dn(e){Nn(e),e.drafts_.forEach(Ca),e.drafts_=null}function Nn(e){e===Lt&&(Lt=e.parent_)}var Or=e=>Lt=Ia(Lt,e);function Ca(e){const t=e[fe];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ar(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[fe].modified_&&(Dn(t),ke(4)),Ne(e)&&(e=Rr(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[fe].base_,e,t)}else e=Rr(t,n);return Ma(t,e,!0),Dn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Si?e:void 0}function Rr(e,t){if(pn(t))return t;const n=t[fe];if(!n)return ir(t,e.handledSet_,e);if(!gn(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);zi(n,e)}return n.copy_}function Ma(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rr(t,n)}function Ci(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var gn=(e,t)=>e.scope_===t,za=[];function Mi(e,t,n,r){const i=We(e),s=e.type_;if(r!==void 0&&On(i,r,s)===t){cn(i,r,n,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Ut(i,(o,u)=>{if(Ye(u)){const f=l.get(u)||[];f.push(o),l.set(u,f)}})}const a=e.draftLocations_.get(t)??za;for(const l of a)cn(i,l,n,s)}function Oa(e,t,n){e.callbacks_.push(function(i){const s=t;if(!s||!gn(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=nr(s);Mi(e,s.draft_??s,a,n),zi(s,i)})}function zi(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}Ci(e)}}function Aa(e,t,n){const{scope_:r}=e;if(Ye(n)){const i=n[fe];gn(i,r)&&i.callbacks_.push(function(){Jt(e);const a=nr(i);Mi(e,n,a,t)})}else Ne(n)&&e.callbacks_.push(function(){const s=We(e);On(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ir(On(e.copy_,t,e.type_),r.handledSet_,r)})}function ir(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ye(e)||t.has(e)||!Ne(e)||pn(e)||(t.add(e),Ut(e,(r,i)=>{if(Ye(i)){const s=i[fe];if(gn(s,n)){const a=nr(s);cn(e,r,a,e.type_),Ci(s)}}else Ne(i)&&ir(i,t,n)})),e}function Ra(e,t){const n=hn(e),r={type_:n?1:0,scope_:t?t.scope_:Ii(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=sr;n&&(i=[r],s=$t);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,[l,r]}var sr={get(e,t){if(t===fe)return e;const n=We(e);if(!Mr(n,t,e.type_))return Da(e,n,t);const r=n[t];if(e.finalized_||!Ne(r))return r;if(r===Sn(e.base_,t)){Jt(e);const i=e.type_===1?+t:t,s=Fn(e.scope_,r,e,i);return e.copy_[i]=s}return r},has(e,t){return t in We(e)},ownKeys(e){return Reflect.ownKeys(We(e))},set(e,t,n){const r=Oi(We(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Sn(We(e),t),s=i?.[fe];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Sa(n,i)&&(n!==void 0||Mr(e.base_,t,e.type_)))return!0;Jt(e),Hn(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Aa(e,t,n)),!0},deleteProperty(e,t){return Jt(e),Sn(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Hn(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=We(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Zt]:!0,[zn]:e.type_!==1||t!=="length",[ln]:r[ln],[Ft]:n[t]}},defineProperty(){ke(11)},getPrototypeOf(e){return St(e.base_)},setPrototypeOf(){ke(12)}},$t={};Ut(sr,(e,t)=>{$t[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});$t.deleteProperty=function(e,t){return $t.set.call(this,e,t,void 0)};$t.set=function(e,t,n){return sr.set.call(this,e[0],t,n,e[0])};function Sn(e,t){const n=e[fe];return(n?We(n):e)[t]}function Da(e,t,n){const r=Oi(t,n);return r?Ft in r?r[Ft]:r.get?.call(e.draft_):void 0}function Oi(e,t){if(!(t in e))return;let n=St(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=St(n)}}function Hn(e){e.modified_||(e.modified_=!0,e.parent_&&Hn(e.parent_))}function Jt(e){e.copy_||(e.assigned_=new Map,e.copy_=An(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Na=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(pt(t)&&!pt(n)){const s=n;n=t;const a=this;return function(o=s,...u){return a.produce(o,f=>n.call(this,f,...u))}}pt(n)||ke(6),r!==void 0&&!pt(r)&&ke(7);let i;if(Ne(t)){const s=Or(this),a=Fn(s,t,void 0);let l=!0;try{i=n(a),l=!1}finally{l?Dn(s):Nn(s)}return zr(s,r),Ar(i,s)}else if(!t||!tr(t)){if(i=n(t),i===void 0&&(i=t),i===Si&&(i=void 0),this.autoFreeze_&&rr(i,!0),r){const s=[],a=[];kt(Rn).generateReplacementPatches_(t,i,{patches_:s,inversePatches_:a}),r(s,a)}return i}else ke(1,t)},this.produceWithPatches=(t,n)=>{if(pt(t))return(a,...l)=>this.produceWithPatches(a,o=>t(o,...l));let r,i;return[this.produce(t,n,(a,l)=>{r=a,i=l}),r,i]},Tn(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Tn(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Tn(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ne(e)||ke(8),Ye(e)&&(e=Ha(e));const t=Or(this),n=Fn(t,e,void 0);return n[fe].isManual_=!0,Nn(t),n}finishDraft(e,t){const n=e&&e[fe];(!n||!n.isManual_)&&ke(9);const{scope_:r}=n;return zr(r,t),Ar(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=kt(Rn).applyPatches_;return Ye(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Fn(e,t,n,r){const[i,s]=vn(t)?kt(un).proxyMap_(t,n):_n(t)?kt(un).proxySet_(t,n):Ra(t,n);return(n?.scope_??Ii()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?Oa(n,s,r):s.callbacks_.push(function(o){o.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:u}=o;s.modified_&&u&&u.generatePatches_(s,[],o)}),i}function Ha(e){return Ye(e)||ke(10,e),Ai(e)}function Ai(e){if(!Ne(e)||pn(e))return e;const t=e[fe];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=An(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=An(e,!0);return Ut(n,(i,s)=>{cn(n,i,Ai(s))},r),t&&(t.finalized_=!1),n}var Fa=new Na,Ri=Fa.produce;function Di(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var La=Di(),$a=Di,Ba=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?an:an.apply(null,arguments)};function Dr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Ke(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Ea(r)&&r.type===e,n}var Ni=class zt extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zt.prototype)}static get[Symbol.species](){return zt}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zt(...t[0].concat(this)):new zt(...t.concat(this))}};function Nr(e){return Ne(e)?Ri(e,()=>{}):e}function Yt(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function qa(e){return typeof e=="boolean"}var ja=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new Ni;return n&&(qa(n)?a.push(La):a.push($a(n.extraArgument))),a},Ua="RTK_autoBatch",Hr=e=>t=>{setTimeout(t,e)},Va=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,a=!1;const l=new Set,o=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Hr(10):e.type==="callback"?e.queueNotification:Hr(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const _=()=>i&&f(),d=r.subscribe(_);return l.add(f),()=>{d(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[Ua],s=!i,s&&(a||(a=!0,o(u))),r.dispatch(f)}finally{i=!0}}})},Wa=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Ni(e);return r&&i.push(Va(typeof r=="object"?r:void 0)),i};function Ga(e){const t=ja(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(er(n))l=xa(n);else throw new Error(Ke(1));let o;typeof r=="function"?o=r(t):o=t();let u=an;i&&(u=Ba({trace:!1,...typeof i=="object"&&i}));const f=ba(...o),_=Wa(f);let d=typeof a=="function"?a(_):_();const h=u(...d);return Ti(l,s,h)}function Hi(e){const t={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Ke(28));if(l in t)throw new Error(Ke(29));return t[l]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Ka(e){return typeof e=="function"}function Ya(e,t){let[n,r,i]=Hi(t),s;if(Ka(e))s=()=>Nr(e());else{const l=Nr(e);s=()=>l}function a(l=s(),o){let u=[n[o.type],...r.filter(({matcher:f})=>f(o)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[i]),u.reduce((f,_)=>{if(_)if(Ye(f)){const h=_(f,o);return h===void 0?f:h}else{if(Ne(f))return Ri(f,d=>_(d,o));{const d=_(f,o);if(d===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return f},l)}return a.getInitialState=s,a}var Xa=Symbol.for("rtk-slice-createasyncthunk");function Qa(e,t){return`${e}/${t}`}function Za({creators:e}={}){const t=e?.asyncThunk?.[Xa];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Ke(11));const a=(typeof r.reducers=="function"?r.reducers(eo()):r.reducers)||{},l=Object.keys(a),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(k,b){const $=typeof k=="string"?k:k.type;if(!$)throw new Error(Ke(12));if($ in o.sliceCaseReducersByType)throw new Error(Ke(13));return o.sliceCaseReducersByType[$]=b,u},addMatcher(k,b){return o.sliceMatchers.push({matcher:k,reducer:b}),u},exposeAction(k,b){return o.actionCreators[k]=b,u},exposeCaseReducer(k,b){return o.sliceCaseReducersByName[k]=b,u}};l.forEach(k=>{const b=a[k],$={reducerName:k,type:Qa(i,k),createNotation:typeof r.reducers=="function"};no(b)?io($,b,u,t):to($,b,u)});function f(){const[k={},b=[],$=void 0]=typeof r.extraReducers=="function"?Hi(r.extraReducers):[r.extraReducers],B={...k,...o.sliceCaseReducersByType};return Ya(r.initialState,G=>{for(let D in B)G.addCase(D,B[D]);for(let D of o.sliceMatchers)G.addMatcher(D.matcher,D.reducer);for(let D of b)G.addMatcher(D.matcher,D.reducer);$&&G.addDefaultCase($)})}const _=k=>k,d=new Map,h=new WeakMap;let E;function O(k,b){return E||(E=f()),E(k,b)}function v(){return E||(E=f()),E.getInitialState()}function T(k,b=!1){function $(G){let D=G[k];return typeof D>"u"&&b&&(D=Yt(h,$,v)),D}function B(G=_){const D=Yt(d,b,()=>new WeakMap);return Yt(D,G,()=>{const S={};for(const[w,x]of Object.entries(r.selectors??{}))S[w]=Ja(x,G,()=>Yt(h,G,v),b);return S})}return{reducerPath:k,getSelectors:B,get selectors(){return B($)},selectSlice:$}}const H={name:i,reducer:O,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:v,...T(s),injectInto(k,{reducerPath:b,...$}={}){const B=b??s;return k.inject({reducerPath:B,reducer:O},$),{...H,...T(B,!0)}}};return H}}function Ja(e,t,n,r){function i(s,...a){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...a)}return i.unwrapped=e,i}var Fi=Za();function eo(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function to({type:e,reducerName:t,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!ro(r))throw new Error(Ke(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Dr(e,a):Dr(e))}function no(e){return e._reducerDefinitionType==="asyncThunk"}function ro(e){return e._reducerDefinitionType==="reducerWithPrepare"}function io({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Ke(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:o,settled:u,options:f}=n,_=i(e,s,f);r.exposeAction(t,_),a&&r.addCase(_.fulfilled,a),l&&r.addCase(_.pending,l),o&&r.addCase(_.rejected,o),u&&r.addMatcher(_.settled,u),r.exposeCaseReducer(t,{fulfilled:a||Xt,pending:l||Xt,rejected:o||Xt,settled:u||Xt})}function Xt(){}function Ke(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const so=[{id:"quinn",name:"Quinn",heroClass:"Cleric",imagePath:"assets/Hero_Cleric_Quinn.png",speed:5},{id:"vistra",name:"Vistra",heroClass:"Fighter",imagePath:"assets/Hero_Fighter_Vistra.png",speed:5},{id:"keyleth",name:"Keyleth",heroClass:"Paladin",imagePath:"assets/Hero_Paladin_Keyleth.png",speed:6},{id:"tarak",name:"Tarak",heroClass:"Rogue",imagePath:"assets/Hero_Rogue_Tarak.png",speed:6},{id:"haskan",name:"Haskan",heroClass:"Wizard",imagePath:"assets/Hero_Wizard_Haskan.png",speed:6}],ao=[{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:3,y:3},{x:3,y:4},{x:1,y:5},{x:2,y:5},{x:3,y:5}],Li=[{tileType:"tile-2exit-a",imagePath:"assets/Tile_Black_x2_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-2exit-b",imagePath:"assets/Tile_Black_x2_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-2exit-c",imagePath:"assets/Tile_Black_x2_03.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-a",imagePath:"assets/Tile_Black_x3_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-b",imagePath:"assets/Tile_Black_x3_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-c",imagePath:"assets/Tile_Black_x3_03.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-4exit-a",imagePath:"assets/Tile_Black_x4_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-4exit-b",imagePath:"assets/Tile_Black_x4_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}}],oo=["tile-2exit-a","tile-2exit-b","tile-2exit-c","tile-3exit-a","tile-3exit-b","tile-3exit-c","tile-4exit-a","tile-4exit-b"],lo={id:"start-tile",tileType:"start",position:{col:0,row:0},rotation:0,edges:{north:"unexplored",south:"unexplored",east:"unexplored",west:"unexplored"}},co={availableHeroes:so,selectedHeroes:[],heroEdgeMap:{}},$i=Fi({name:"heroes",initialState:co,reducers:{toggleHeroSelection:(e,t)=>{const n=t.payload,r=e.selectedHeroes.findIndex(i=>i.id===n);if(r>=0)e.selectedHeroes.splice(r,1),delete e.heroEdgeMap[n];else if(e.selectedHeroes.length<5){const i=e.availableHeroes.find(s=>s.id===n);i&&e.selectedHeroes.push(i)}},selectHeroFromEdge:(e,t)=>{const{heroId:n,edge:r}=t.payload,i=e.selectedHeroes.findIndex(s=>s.id===n);if(i>=0)e.heroEdgeMap[n]===r&&(e.selectedHeroes.splice(i,1),delete e.heroEdgeMap[n]);else if(e.selectedHeroes.length<5){const s=e.availableHeroes.find(a=>a.id===n);s&&(e.selectedHeroes.push(s),e.heroEdgeMap[n]=r)}},clearSelection:e=>{e.selectedHeroes=[],e.heroEdgeMap={}}}}),{toggleHeroSelection:vl,selectHeroFromEdge:uo,clearSelection:_l}=$i.actions,fo=$i.reducer,Ot={minX:1,maxX:3,minY:0,maxY:7,staircase:[{x:1,y:3},{x:2,y:3},{x:1,y:4},{x:2,y:4}]};function ho(e){return e.x>=Ot.minX&&e.x<=Ot.maxX&&e.y>=Ot.minY&&e.y<=Ot.maxY}function vo(e){return Ot.staircase.some(t=>t.x===e.x&&t.y===e.y)}function _o(e){return ho(e)&&!vo(e)}function po(e,t,n){return t.some(r=>r.position.x===e.x&&r.position.y===e.y&&r.heroId!==n)}function go(e){const t=[],n=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:-1},{dx:1,dy:-1},{dx:-1,dy:1},{dx:1,dy:1}];for(const r of n){const i={x:e.x+r.dx,y:e.y+r.dy};_o(i)&&t.push(i)}return t}function mo(e,t,n,r){const i=[],s=new Set,a=[{pos:e,distance:0}];for(s.add(`${e.x},${e.y}`);a.length>0;){const l=a.shift();if(!l)break;if(l.distance>0&&!po(l.pos,n,r)&&i.push(l.pos),l.distance<t){const o=go(l.pos);for(const u of o){const f=`${u.x},${u.y}`;s.has(f)||(s.add(f),a.push({pos:u,distance:l.distance+1}))}}}return i}function wo(e,t){return t.some(n=>n.x===e.x&&n.y===e.y)}const yo={north:[{x:1,y:0},{x:2,y:0},{x:3,y:0}],south:[{x:1,y:7},{x:2,y:7},{x:3,y:7}],east:[{x:3,y:0},{x:3,y:1},{x:3,y:2},{x:3,y:5},{x:3,y:6},{x:3,y:7}],west:[{x:1,y:0},{x:1,y:1},{x:1,y:2},{x:1,y:5},{x:1,y:6},{x:1,y:7}]};function xo(e,t){return yo[t].some(r=>r.x===e.x&&r.y===e.y)}function Bi(e){return{north:"south",south:"north",east:"west",west:"east"}[e]}function bo(e,t){const n=t.tiles.find(r=>r.id==="start-tile");if(!n)return null;for(const r of t.unexploredEdges)if(r.tileId===n.id&&xo(e.position,r.direction))return r;return null}function Eo(e,t){const{col:n,row:r}=e.position;switch(t){case"north":return{col:n,row:r-1};case"south":return{col:n,row:r+1};case"east":return{col:n+1,row:r};case"west":return{col:n-1,row:r}}}function To(e){return 0}function So(e){return Li.find(t=>t.tileType===e)}function ko(e,t,n){const r=n.tiles.find(f=>f.id===e.tileId);if(!r)return null;const i=Eo(r,e.direction),s=To(e.direction);if(!So(t))return null;const l=`tile-${n.tiles.length}`,u={north:"unexplored",south:"unexplored",east:"unexplored",west:"unexplored",[Bi(e.direction)]:"open"};return{id:l,tileType:t,position:i,rotation:s,edges:u}}function Ln(){return{tiles:[{...lo}],unexploredEdges:[{tileId:"start-tile",direction:"north"},{tileId:"start-tile",direction:"south"},{tileId:"start-tile",direction:"east"},{tileId:"start-tile",direction:"west"}],tileDeck:[]}}function Po(e,t=Math.random){const n=[...e];for(let r=n.length-1;r>0;r--){const i=Math.floor(t()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}function Io(e,t=Math.random){return Po(e,t)}function Co(e){if(e.length===0)return{drawnTile:null,remainingDeck:[]};const[t,...n]=e;return{drawnTile:t,remainingDeck:n}}function Mo(e,t,n){const r=e.unexploredEdges.filter(o=>!(o.tileId===t.tileId&&o.direction===t.direction)),i=Bi(t.direction),a=["north","south","east","west"].filter(o=>o!==i&&n.edges[o]==="unexplored").map(o=>({tileId:n.id,direction:o}));return{tiles:[...e.tiles.map(o=>o.id===t.tileId?{...o,edges:{...o.edges,[t.direction]:"open"}}:o),n],unexploredEdges:[...r,...a],tileDeck:e.tileDeck}}const $n={currentHeroIndex:0,currentPhase:"hero-phase",turnNumber:1},zo={currentScreen:"character-select",heroTokens:[],turnState:{...$n},validMoveSquares:[],showingMovement:!1,dungeon:Ln()};function Oo(e){let t=e;return()=>(t=t*1103515245+12345&2147483647,t/2147483647)}function Ao(e,t=Math.random){const n=[...e];for(let r=n.length-1;r>0;r--){const i=Math.floor(t()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}const qi=Fi({name:"game",initialState:zo,reducers:{startGame:(e,t)=>{const{heroIds:n,positions:r,seed:i}=t.payload;if(n.length===0||n.length>5)return;const s=i??Date.now();e.randomSeed=s;let a;const l=Oo(s);r?a=r:a=Ao(ao,l).slice(0,5),e.heroTokens=n.map((u,f)=>({heroId:u,position:a[f]})),e.turnState={...$n},e.validMoveSquares=[],e.showingMovement=!1;const o=Ln();o.tileDeck=Io([...oo],l),e.dungeon=o,e.currentScreen="game-board"},setHeroPosition:(e,t)=>{const n=e.heroTokens.find(r=>r.heroId===t.payload.heroId);n&&(n.position=t.payload.position)},showMovement:(e,t)=>{const{heroId:n,speed:r}=t.payload,i=e.heroTokens.find(s=>s.heroId===n);i&&(e.validMoveSquares=mo(i.position,r,e.heroTokens,n),e.showingMovement=!0)},hideMovement:e=>{e.validMoveSquares=[],e.showingMovement=!1},moveHero:(e,t)=>{const{heroId:n,position:r}=t.payload;if(!wo(r,e.validMoveSquares))return;const i=e.heroTokens.find(s=>s.heroId===n);i&&(i.position=r,e.validMoveSquares=[],e.showingMovement=!1)},resetGame:e=>{e.currentScreen="character-select",e.heroTokens=[],e.turnState={...$n},e.randomSeed=void 0,e.validMoveSquares=[],e.showingMovement=!1,e.dungeon=Ln()},endHeroPhase:e=>{if(e.turnState.currentPhase!=="hero-phase")return;const t=e.heroTokens[e.turnState.currentHeroIndex];if(!t)return;const n=bo(t,e.dungeon);if(n&&e.dungeon.tileDeck.length>0){const{drawnTile:r,remainingDeck:i}=Co(e.dungeon.tileDeck);if(r){const s=ko(n,r,e.dungeon);s&&(e.dungeon=Mo(e.dungeon,n,s),e.dungeon.tileDeck=i)}}e.turnState.currentPhase="exploration-phase"},endExplorationPhase:e=>{e.turnState.currentPhase==="exploration-phase"&&(e.turnState.currentPhase="villain-phase")},endVillainPhase:e=>{e.turnState.currentPhase==="villain-phase"&&(e.turnState.currentHeroIndex=(e.turnState.currentHeroIndex+1)%e.heroTokens.length,e.turnState.currentHeroIndex===0&&(e.turnState.turnNumber+=1),e.turnState.currentPhase="hero-phase")}}}),{startGame:Ro,setHeroPosition:pl,showMovement:Do,hideMovement:No,moveHero:Ho,resetGame:Fo,endHeroPhase:Lo,endExplorationPhase:$o,endVillainPhase:Bo}=qi.actions,qo=qi.reducer,Q=Ga({reducer:{heroes:fo,game:qo}});typeof window<"u"&&(window.__REDUX_STORE__=Q);function Oe(e){const t="/Ashardalon/",n=e.startsWith("/")?e.slice(1):e;return(t.endsWith("/")?t:t+"/")+n}var jo=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Uo=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Vo=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Wo=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Go=ee('<div class="character-select svelte-1rwnzlz" data-testid="character-select"><div class="edge-zone edge-top svelte-1rwnzlz" data-testid="edge-top"><div class="hero-row svelte-1rwnzlz" data-testid="hero-grid"></div></div> <div class="middle-section svelte-1rwnzlz"><div class="edge-zone edge-left svelte-1rwnzlz" data-testid="edge-left"><div class="hero-column svelte-1rwnzlz"></div></div> <div class="center-zone svelte-1rwnzlz" data-testid="center-zone"><h1 class="svelte-1rwnzlz">Select Your Heroes</h1> <p class="instructions svelte-1rwnzlz">Choose 1-5 heroes for your adventure</p> <p class="instructions svelte-1rwnzlz">Tap a hero from your edge of the table</p> <div class="selection-info svelte-1rwnzlz"><span data-testid="selected-count"> </span></div> <button class="start-button svelte-1rwnzlz" data-testid="start-game-button">Start Adventure</button></div> <div class="edge-zone edge-right svelte-1rwnzlz" data-testid="edge-right"><div class="hero-column svelte-1rwnzlz"></div></div></div> <div class="edge-zone edge-bottom svelte-1rwnzlz" data-testid="edge-bottom"><div class="hero-row svelte-1rwnzlz"></div></div></div>');function Ko(e,t){It(t,!0);let n=X(ge([])),r=X(ge([])),i=X(ge({}));tn(()=>{const S=Q.subscribe(()=>{const x=Q.getState();N(n,x.heroes.selectedHeroes,!0),N(r,x.heroes.availableHeroes,!0),N(i,x.heroes.heroEdgeMap,!0)}),w=Q.getState();return N(n,w.heroes.selectedHeroes,!0),N(r,w.heroes.availableHeroes,!0),N(i,w.heroes.heroEdgeMap,!0),S});function s(S,w){return c(i)[S]===w}function a(S,w){const x=c(i)[S];return x!==void 0&&x!==w}function l(S,w){Q.dispatch(uo({heroId:S,edge:w}))}function o(){c(n).length>0&&Q.dispatch(Ro({heroIds:c(n).map(S=>S.id)}))}function u(){return c(n).length>=1&&c(n).length<=5}var f=Go(),_=m(f),d=m(_);et(d,21,()=>c(r),S=>S.id,(S,w)=>{var x=jo();let A;x.__click=()=>l(c(w).id,"top");var U=m(x),ye=P(U,2),oe=m(ye),Z=m(oe),Ie=P(oe,2),He=m(Ie);ie((Fe,Le,$e)=>{A=ze(x,1,"hero-card svelte-1rwnzlz",null,A,Fe),R(x,"data-testid",`hero-${c(w).id??""}-top`),x.disabled=Le,R(U,"src",$e),R(U,"alt",c(w).name),j(Z,c(w).name),j(He,c(w).heroClass)},[()=>({selected:s(c(w).id,"top"),unavailable:a(c(w).id,"top")}),()=>a(c(w).id,"top"),()=>Oe(c(w).imagePath)]),q(S,x)});var h=P(_,2),E=m(h),O=m(E);et(O,21,()=>c(r),S=>S.id,(S,w)=>{var x=Uo();let A;x.__click=()=>l(c(w).id,"left");var U=m(x),ye=P(U,2),oe=m(ye),Z=m(oe),Ie=P(oe,2),He=m(Ie);ie((Fe,Le,$e)=>{A=ze(x,1,"hero-card svelte-1rwnzlz",null,A,Fe),R(x,"data-testid",`hero-${c(w).id??""}-left`),x.disabled=Le,R(U,"src",$e),R(U,"alt",c(w).name),j(Z,c(w).name),j(He,c(w).heroClass)},[()=>({selected:s(c(w).id,"left"),unavailable:a(c(w).id,"left")}),()=>a(c(w).id,"left"),()=>Oe(c(w).imagePath)]),q(S,x)});var v=P(E,2),T=P(m(v),6),H=m(T),k=m(H),b=P(T,2);b.__click=o;var $=P(v,2),B=m($);et(B,21,()=>c(r),S=>S.id,(S,w)=>{var x=Vo();let A;x.__click=()=>l(c(w).id,"right");var U=m(x),ye=P(U,2),oe=m(ye),Z=m(oe),Ie=P(oe,2),He=m(Ie);ie((Fe,Le,$e)=>{A=ze(x,1,"hero-card svelte-1rwnzlz",null,A,Fe),R(x,"data-testid",`hero-${c(w).id??""}-right`),x.disabled=Le,R(U,"src",$e),R(U,"alt",c(w).name),j(Z,c(w).name),j(He,c(w).heroClass)},[()=>({selected:s(c(w).id,"right"),unavailable:a(c(w).id,"right")}),()=>a(c(w).id,"right"),()=>Oe(c(w).imagePath)]),q(S,x)});var G=P(h,2),D=m(G);et(D,21,()=>c(r),S=>S.id,(S,w)=>{var x=Wo();let A;x.__click=()=>l(c(w).id,"bottom");var U=m(x),ye=P(U,2),oe=m(ye),Z=m(oe),Ie=P(oe,2),He=m(Ie);ie((Fe,Le,$e)=>{A=ze(x,1,"hero-card svelte-1rwnzlz",null,A,Fe),R(x,"data-testid",`hero-${c(w).id??""}`),x.disabled=Le,R(U,"src",$e),R(U,"alt",c(w).name),j(Z,c(w).name),j(He,c(w).heroClass)},[()=>({selected:s(c(w).id,"bottom"),unavailable:a(c(w).id,"bottom")}),()=>a(c(w).id,"bottom"),()=>Oe(c(w).imagePath)]),q(S,x)}),ie(S=>{j(k,`${c(n).length??""} heroes selected`),b.disabled=S},[()=>!u()]),q(e,f),Ct()}Jn(["click"]);var Yo=ee('<button class="move-square svelte-ehd1hj" data-testid="move-square"><span class="sr-only svelte-ehd1hj"> </span></button>'),Xo=ee('<div class="movement-overlay svelte-ehd1hj" data-testid="movement-overlay"></div>');function Qo(e,t){It(t,!0);function n(s){const a=t.tileOffsetX+s.x*t.cellSize,l=t.tileOffsetY+s.y*t.cellSize;return`left: ${a}px; top: ${l}px; width: ${t.cellSize}px; height: ${t.cellSize}px;`}function r(s,a){s.stopPropagation(),t.onSquareClick(a)}var i=Xo();et(i,21,()=>t.validMoveSquares,s=>`${s.x},${s.y}`,(s,a)=>{var l=Yo();l.__click=f=>r(f,c(a));var o=m(l),u=m(o);ie(f=>{R(l,"data-position-x",c(a).x),R(l,"data-position-y",c(a).y),wt(l,f),j(u,`Move to (${c(a).x??""}, ${c(a).y??""})`)},[()=>n(c(a))]),q(s,l)}),q(e,i),Ct()}Jn(["click"]);var Zo=ee('<div class="tile-deck-counter svelte-9649r" data-testid="tile-deck-counter"><span class="deck-icon svelte-9649r">ð¦</span> <span class="deck-count svelte-9649r" data-testid="tile-deck-count"> </span> <span class="deck-label svelte-9649r">tiles</span></div>');function Jo(e,t){var n=Zo(),r=P(m(n),2),i=m(r);ie(()=>j(i,t.tileCount)),q(e,n)}var el=ee('<div class="unexplored-edge svelte-12eown4" data-testid="unexplored-edge"><span class="question-mark svelte-12eown4">?</span></div>');function tl(e,t){It(t,!0);const r=(()=>{const l=t.cellSize*1.5,o=36;switch(t.direction){case"north":return{left:`${t.tileWidth/2-l/2}px`,top:`${o-8/2}px`,width:`${l}px`,height:"8px"};case"south":return{left:`${t.tileWidth/2-l/2}px`,bottom:`${o-8/2}px`,width:`${l}px`,height:"8px"};case"east":return{right:`${o-8/2}px`,top:`${t.tileHeight/2-l/2}px`,width:"8px",height:`${l}px`};case"west":return{left:`${o-8/2}px`,top:`${t.tileHeight/2-l/2}px`,width:"8px",height:`${l}px`}}})(),i=Object.entries(r).map(([a,l])=>`${a}: ${l}`).join("; ");var s=el();ie(()=>{R(s,"data-direction",t.direction),wt(s,i)}),q(e,s),Ct()}var nl=ee('<div class="player-info svelte-8w11tm" data-testid="turn-indicator"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm" data-testid="turn-phase"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),rl=ee('<div class="player-info svelte-8w11tm"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),il=ee('<div><img class="tile-image svelte-8w11tm"/> <!></div>'),sl=ee('<div class="movement-overlay-container svelte-8w11tm"><!></div>'),al=ee('<div data-testid="hero-token"><img class="token-image svelte-8w11tm"/> <span class="token-label svelte-8w11tm"> </span></div>'),ol=ee('<div class="player-info svelte-8w11tm"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),ll=ee('<div class="player-info svelte-8w11tm" data-testid="turn-indicator"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm" data-testid="turn-phase"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),cl=ee('<div class="game-board svelte-8w11tm" data-testid="game-board"><div data-testid="player-zone-top"><!></div> <div class="middle-section svelte-8w11tm"><div data-testid="player-zone-left"><!></div> <div class="board-container svelte-8w11tm"><div class="dungeon-map svelte-8w11tm" data-testid="dungeon-map" role="button" tabindex="0"><!> <!> <!></div> <div class="board-controls svelte-8w11tm"><!> <button class="end-phase-button svelte-8w11tm" data-testid="end-phase-button"> </button> <button class="reset-button svelte-8w11tm" data-testid="reset-button">â© Return to Character Select</button></div></div> <div data-testid="player-zone-right"><!></div></div> <div data-testid="player-zone-bottom"><!></div></div>');function ul(e,t){It(t,!0);const n=140,r=4,i=8,s=4,a=n*r,l=n*i,o=n*s,u=32,f=.15,_=1,d=36,h=36;let E=X(ge([])),O=X(ge([])),v=X(ge({currentHeroIndex:0,currentPhase:"hero-phase",turnNumber:1})),T=X(ge([])),H=X(!1),k=X(ge({tiles:[],unexploredEdges:[],tileDeck:[]})),b=X(null),$=X(1),B=J(()=>G(c(k)));tn(()=>{const p=Q.subscribe(()=>{const y=Q.getState();N(E,y.game.heroTokens,!0),N(O,y.heroes.selectedHeroes,!0),N(v,y.game.turnState,!0),N(T,y.game.validMoveSquares,!0),N(H,y.game.showingMovement,!0),N(k,y.game.dungeon,!0)}),g=Q.getState();return N(E,g.game.heroTokens,!0),N(O,g.heroes.selectedHeroes,!0),N(v,g.game.turnState,!0),N(T,g.game.validMoveSquares,!0),N(H,g.game.showingMovement,!0),N(k,g.game.dungeon,!0),p});function G(p){if(p.tiles.length===0)return{minCol:0,maxCol:0,minRow:0,maxRow:0,width:a,height:l};let g=1/0,y=-1/0,C=1/0,z=-1/0;for(const Y of p.tiles)g=Math.min(g,Y.position.col),y=Math.max(y,Y.position.col),C=Math.min(C,Y.position.row),z=Math.max(z,Y.position.row);const F=(y-g+1)*a,K=Math.max(0,-C),I=Math.max(0,z),le=K*o+l+I*o;return{minCol:g,maxCol:y,minRow:C,maxRow:z,width:Math.max(F,a),height:Math.max(le,l)}}function D(p,g){const y=(p.position.col-g.minCol)*a;let C=0;return p.position.row<0?C=(p.position.row-g.minRow)*o:p.position.row===0?C=Math.max(0,-g.minRow)*o:C=Math.max(0,-g.minRow)*o+l+(p.position.row-1)*o,{x:y,y:C}}function S(p){return p.tileType==="start"?"assets/StartTile.png":Li.find(y=>y.tileType===p.tileType)?.imagePath||"assets/Tile_Black_x2_01.png"}function w(p){return p.tileType==="start"?{width:a,height:l}:{width:a,height:o}}tn(()=>{if(c(b)){const p=()=>{const y=c(b);if(!y)return;const C=y.clientWidth-u,z=y.clientHeight-u,V=c(B),F=C/V.width,K=z/V.height,I=Math.min(F,K,_);N($,Math.max(I,f),!0)};p();const g=new ResizeObserver(p);return g.observe(c(b)),()=>g.disconnect()}});function x(p){return c(O).find(g=>g.id===p)}function A(){return c(E)[c(v).currentHeroIndex]?.heroId}function U(p){switch(p){case"hero-phase":return"Hero Phase";case"exploration-phase":return"Exploration Phase";case"villain-phase":return"Villain Phase"}}function ye(){Q.dispatch(Fo())}function oe(p,g){const y=n/2,C=g.x+d+p.x*n+y,z=g.y+h+p.y*n+y;return`left: ${C}px; top: ${z}px;`}function Z(){const p=c(v).currentHeroIndex%4;return["bottom","right","top","left"][p]}function Ie(p){if(c(v).currentPhase!=="hero-phase")return;const g=A();if(!g)return;const y=x(g);y&&(c(H)?Q.dispatch(No()):Q.dispatch(Do({heroId:g,speed:y.speed})))}function He(p){const g=A();g&&Q.dispatch(Ho({heroId:g,position:p}))}function Fe(p){(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),Ie())}function Le(){switch(c(v).currentPhase){case"hero-phase":Q.dispatch(Lo());break;case"exploration-phase":Q.dispatch($o());break;case"villain-phase":Q.dispatch(Bo());break}}function $e(){switch(c(v).currentPhase){case"hero-phase":return"End Hero Phase";case"exploration-phase":return"End Exploration";case"villain-phase":return"End Villain Phase"}}var ar=cl(),mn=m(ar);let or;var ji=m(mn);{var Ui=p=>{const g=J(A),y=J(()=>c(g)?x(c(g)):void 0);var C=lt(),z=ot(C);{var V=F=>{var K=nl(),I=m(K),le=P(I,2),Y=m(le),Ce=m(Y),ce=P(Y,2),Be=m(ce),qe=P(ce,2),je=m(qe);ie((Ue,at)=>{R(I,"src",Ue),R(I,"alt",c(y).name),j(Ce,`${c(y).name??""}'s Turn`),j(Be,at),j(je,`Turn ${c(v).turnNumber??""}`)},[()=>Oe(c(y).imagePath),()=>U(c(v).currentPhase)]),q(F,K)};pe(z,F=>{c(y)&&F(V)})}q(p,C)};pe(ji,p=>{Z()==="top"&&p(Ui)})}var lr=P(mn,2),wn=m(lr);let cr;var Vi=m(wn);{var Wi=p=>{const g=J(A),y=J(()=>c(g)?x(c(g)):void 0);var C=lt(),z=ot(C);{var V=F=>{var K=rl(),I=m(K),le=P(I,2),Y=m(le),Ce=m(Y),ce=P(Y,2),Be=m(ce),qe=P(ce,2),je=m(qe);ie((Ue,at)=>{R(I,"src",Ue),R(I,"alt",c(y).name),j(Ce,`${c(y).name??""}'s Turn`),j(Be,at),j(je,`Turn ${c(v).turnNumber??""}`)},[()=>Oe(c(y).imagePath),()=>U(c(v).currentPhase)]),q(F,K)};pe(z,F=>{c(y)&&F(V)})}q(p,C)};pe(Vi,p=>{Z()==="left"&&p(Wi)})}var yn=P(wn,2),vt=m(yn);vt.__click=Ie,vt.__keydown=Fe;var ur=m(vt);et(ur,17,()=>c(k).tiles,p=>p.id,(p,g)=>{const y=J(()=>D(c(g),c(B))),C=J(()=>w(c(g)));var z=il();let V;var F=m(z),K=P(F,2);et(K,17,()=>c(k).unexploredEdges.filter(I=>I.tileId===c(g).id),I=>I.direction,(I,le)=>{tl(I,{get direction(){return c(le).direction},cellSize:n,get tileWidth(){return c(C).width},get tileHeight(){return c(C).height}})}),ie(I=>{V=ze(z,1,"placed-tile svelte-8w11tm",null,V,{"start-tile":c(g).tileType==="start"}),R(z,"data-testid",c(g).tileType==="start"?"start-tile":"dungeon-tile"),R(z,"data-tile-id",c(g).id),wt(z,`left: ${c(y).x??""}px; top: ${c(y).y??""}px; width: ${c(C).width??""}px; height: ${c(C).height??""}px;`),R(F,"src",I),R(F,"alt",c(g).tileType)},[()=>Oe(S(c(g)))]),q(p,z)});var fr=P(ur,2);{var Gi=p=>{const g=J(()=>c(k).tiles.find(V=>V.tileType==="start"));var y=lt(),C=ot(y);{var z=V=>{const F=J(()=>D(c(g),c(B))),K=J(()=>w(c(g)));var I=sl(),le=m(I);Qo(le,{get validMoveSquares(){return c(T)},tileOffsetX:d,tileOffsetY:h,cellSize:n,onSquareClick:He}),ie(()=>wt(I,`left: ${c(F).x??""}px; top: ${c(F).y??""}px; width: ${c(K).width??""}px; height: ${c(K).height??""}px;`)),q(V,I)};pe(C,V=>{c(g)&&V(z)})}q(p,y)};pe(fr,p=>{c(H)&&c(T).length>0&&p(Gi)})}var Ki=P(fr,2);et(Ki,17,()=>c(E),p=>p.heroId,(p,g)=>{const y=J(()=>x(c(g).heroId)),C=J(()=>c(g).heroId===A()),z=J(()=>c(k).tiles.find(I=>I.tileType==="start"));var V=lt(),F=ot(V);{var K=I=>{const le=J(()=>D(c(z),c(B)));var Y=al();let Ce;var ce=m(Y),Be=P(ce,2),qe=m(Be);ie((je,Ue)=>{Ce=ze(Y,1,"hero-token svelte-8w11tm",null,Ce,{active:c(C)}),R(Y,"data-hero-id",c(g).heroId),wt(Y,je),R(ce,"src",Ue),R(ce,"alt",c(y).name),j(qe,c(y).name)},[()=>oe(c(g).position,c(le)),()=>Oe(c(y).imagePath)]),q(I,Y)};pe(F,I=>{c(y)&&c(z)&&I(K)})}q(p,V)});var Yi=P(vt,2),dr=m(Yi);Jo(dr,{get tileCount(){return c(k).tileDeck.length}});var xn=P(dr,2);xn.__click=Le;var Xi=m(xn),Qi=P(xn,2);Qi.__click=ye,ga(yn,p=>N(b,p),()=>c(b));var hr=P(yn,2);let vr;var Zi=m(hr);{var Ji=p=>{const g=J(A),y=J(()=>c(g)?x(c(g)):void 0);var C=lt(),z=ot(C);{var V=F=>{var K=ol(),I=m(K),le=P(I,2),Y=m(le),Ce=m(Y),ce=P(Y,2),Be=m(ce),qe=P(ce,2),je=m(qe);ie((Ue,at)=>{R(I,"src",Ue),R(I,"alt",c(y).name),j(Ce,`${c(y).name??""}'s Turn`),j(Be,at),j(je,`Turn ${c(v).turnNumber??""}`)},[()=>Oe(c(y).imagePath),()=>U(c(v).currentPhase)]),q(F,K)};pe(z,F=>{c(y)&&F(V)})}q(p,C)};pe(Zi,p=>{Z()==="right"&&p(Ji)})}var _r=P(lr,2);let pr;var es=m(_r);{var ts=p=>{const g=J(A),y=J(()=>c(g)?x(c(g)):void 0);var C=lt(),z=ot(C);{var V=F=>{var K=ll(),I=m(K),le=P(I,2),Y=m(le),Ce=m(Y),ce=P(Y,2),Be=m(ce),qe=P(ce,2),je=m(qe);ie((Ue,at)=>{R(I,"src",Ue),R(I,"alt",c(y).name),j(Ce,`${c(y).name??""}'s Turn`),j(Be,at),j(je,`Turn ${c(v).turnNumber??""}`)},[()=>Oe(c(y).imagePath),()=>U(c(v).currentPhase)]),q(F,K)};pe(z,F=>{c(y)&&F(V)})}q(p,C)};pe(es,p=>{Z()==="bottom"&&p(ts)})}ie((p,g,y,C,z)=>{or=ze(mn,1,"edge-zone edge-top svelte-8w11tm",null,or,p),cr=ze(wn,1,"edge-zone edge-left svelte-8w11tm",null,cr,g),wt(vt,`transform: scale(${c($)??""}); width: ${c(B).width??""}px; height: ${c(B).height??""}px;`),R(vt,"aria-label",c(H)?"Click to hide movement options":"Click to show movement options for current hero"),j(Xi,y),vr=ze(hr,1,"edge-zone edge-right svelte-8w11tm",null,vr,C),pr=ze(_r,1,"edge-zone edge-bottom svelte-8w11tm",null,pr,z)},[()=>({"active-edge":Z()==="top"}),()=>({"active-edge":Z()==="left"}),$e,()=>({"active-edge":Z()==="right"}),()=>({"active-edge":Z()==="bottom"})]),q(e,ar),Ct()}Jn(["click","keydown"]);var fl=ee('<main class="svelte-1n46o8q"><!></main>');function dl(e,t){It(t,!0);let n=X("character-select");tn(()=>{const l=Q.subscribe(()=>{const u=Q.getState();N(n,u.game.currentScreen,!0)}),o=Q.getState();return N(n,o.game.currentScreen,!0),l});var r=fl(),i=m(r);{var s=l=>{Ko(l,{})},a=l=>{var o=lt(),u=ot(o);{var f=_=>{ul(_,{})};pe(u,_=>{c(n)==="game-board"&&_(f)},!0)}q(l,o)};pe(i,l=>{c(n)==="character-select"?l(s):l(a,!1)})}q(e,r),Ct()}oa(dl,{target:document.getElementById("app")});
