(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const ji="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ji);const es=1,ts=2,ns=4,qi=8,Bi=16,Ui=2,de=Symbol(),Gi="http://www.w3.org/1999/xhtml",Nn=!1;var rs=Array.isArray,Vi=Array.prototype.indexOf,Zn=Array.from,Wi=Object.defineProperty,Lt=Object.getOwnPropertyDescriptor,Ki=Object.getOwnPropertyDescriptors,Yi=Object.prototype,Xi=Array.prototype,ss=Object.getPrototypeOf,Ar=Object.isExtensible;function $i(e){for(var t=0;t<e.length;t++)e[t]()}function is(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const fe=2,Jn=4,er=8,Qi=1<<24,st=16,it=32,wt=64,wn=128,je=512,ve=1024,Te=2048,at=4096,Me=8192,ut=16384,tr=32768,It=65536,Dr=1<<17,as=1<<18,Rt=1<<19,Zi=1<<20,pt=32768,Fn=1<<21,nr=1<<22,ft=1<<23,sn=Symbol("$state"),Ji=Symbol(""),Tt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ea(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ta(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function na(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ra(e){throw new Error("https://svelte.dev/e/effect_orphan")}function sa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ia(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function aa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function oa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function la(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function ca(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function os(e){return e===this.v}function ua(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ls(e){return!ua(e,this.v)}let fa=!1,Oe=null;function Pt(e){Oe=e}function Ke(e,t=!1,n){Oe={p:Oe,i:!1,c:null,e:null,s:e,x:null,l:null}}function Ye(e){var t=Oe,n=t.e;if(n!==null){t.e=null;for(var r of n)bs(r)}return t.i=!0,Oe=t.p,{}}function cs(){return!0}let Et=[];function da(){var e=Et;Et=[],$i(e)}function Kt(e){if(Et.length===0){var t=Et;queueMicrotask(()=>{t===Et&&da()})}Et.push(e)}function us(e){var t=Y;if(t===null)return q.f|=ft,e;if((t.f&tr)===0){if((t.f&wn)===0)throw e;t.b.error(e)}else Mt(e,t)}function Mt(e,t){for(;t!==null;){if((t.f&wn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Jt=new Set;let J=null,Re=null,qe=[],rr=null,Ln=!1;class Be{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#i=[];#s=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){qe=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of t)this.#a(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(J=null,Rr(n.render_effects),Rr(n.effects),this.#l?.resolve()),Re=null}#a(t,n){t.f^=ve;for(var r=t.first;r!==null;){var s=r.f,i=(s&(it|wt))!==0,a=i&&(s&ve)!==0,l=a||(s&Me)!==0||this.skipped_effects.has(r);if((r.f&wn)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!l&&r.fn!==null){i?r.f^=ve:(s&Jn)!==0?n.effects.push(r):Xt(r)&&((r.f&st)!==0&&n.block_effects.push(r),Ut(r));var o=r.first;if(o!==null){r=o;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#o(t){for(const n of t)((n.f&Te)!==0?this.#i:this.#s).push(n),this.#c(n.deps),he(n,ve)}#c(t){if(t!==null)for(const n of t)(n.f&fe)===0||(n.f&pt)===0||(n.f^=pt,this.#c(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&ft)===0&&(this.current.set(t,t.v),Re?.set(t,t.v))}activate(){J=this,this.apply()}deactivate(){J===this&&(J=null,Re=null)}flush(){if(this.activate(),qe.length>0){if(va(),J!==null&&J!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(Jt.size>1){this.previous.clear();var t=Re,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of Jt){if(i===this){n=!1;continue}const a=[];for(const[o,u]of this.current){if(i.current.has(o))if(n&&u!==i.current.get(o))i.current.set(o,u);else continue;a.push(o)}if(a.length===0)continue;const l=[...i.current.keys()].filter(o=>!this.current.has(o));if(l.length>0){var s=qe;qe=[];const o=new Set,u=new Map;for(const f of a)fs(f,l,o,u);if(qe.length>0){J=i,i.apply();for(const f of qe)i.#a(f,r);i.deactivate()}qe=s}}J=null,Re=t}this.committed=!0,Jt.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#i)he(t,Te),mt(t);for(const t of this.#s)he(t,at),mt(t);this.#i=[],this.#s=[],this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=is()).promise}static ensure(){if(J===null){const t=J=new Be;Jt.add(J),Be.enqueue(()=>{J===t&&t.flush()})}return J}static enqueue(t){Kt(t)}apply(){}}function va(){var e=vt;Ln=!0;var t=null;try{var n=0;for(un(!0);qe.length>0;){var r=Be.ensure();if(n++>1e3){var s,i;ha()}r.process(qe),dt.clear()}}finally{Ln=!1,un(e),rr=null}}function ha(){try{sa()}catch(e){Mt(e,rr)}}let Je=null;function Rr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(ut|Me))===0&&Xt(r)&&(Je=new Set,Ut(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Ss(r):r.fn=null),Je?.size>0)){dt.clear();for(const s of Je){if((s.f&(ut|Me))!==0)continue;const i=[s];let a=s.parent;for(;a!==null;)Je.has(a)&&(Je.delete(a),i.push(a)),a=a.parent;for(let l=i.length-1;l>=0;l--){const o=i[l];(o.f&(ut|Me))===0&&Ut(o)}}Je.clear()}}Je=null}}function fs(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const s of e.reactions){const i=s.f;(i&fe)!==0?fs(s,t,n,r):(i&(nr|st))!==0&&(i&Te)===0&&ds(s,t,r)&&(he(s,Te),mt(s))}}function ds(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const s of e.deps){if(t.includes(s))return!0;if((s.f&fe)!==0&&ds(s,t,n))return n.set(s,!0),!0}return n.set(e,!1),!1}function mt(e){for(var t=rr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ln&&t===Y&&(n&st)!==0&&(n&as)===0)return;if((n&(wt|it))!==0){if((n&ve)===0)return;t.f^=ve}}qe.push(t)}function _a(e){let t=0,n=gt(0),r;return()=>{qt()&&(c(n),ks(()=>(t===0&&(r=Ns(()=>e(()=>jt(n)))),t+=1,()=>{Kt(()=>{t-=1,t===0&&(r?.(),r=void 0,jt(n))})})))}}var pa=It|Rt|wn;function ma(e,t,n){new ga(e,t,n)}class ga{parent;#e=!1;#t;#r=null;#n;#l;#i;#s=null;#a=null;#o=null;#c=null;#u=null;#f=0;#d=0;#h=!1;#v=null;#w=_a(()=>(this.#v=gt(this.#f),()=>{this.#v=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#l=r,this.parent=Y.b,this.#e=!!this.#n.pending,this.#i=or(()=>{Y.b=this;{var s=this.#m();try{this.#s=Ae(()=>r(s))}catch(i){this.error(i)}this.#d>0?this.#p():this.#e=!1}return()=>{this.#u?.remove()}},pa)}#y(){try{this.#s=Ae(()=>this.#l(this.#t))}catch(t){this.error(t)}this.#e=!1}#x(){const t=this.#n.pending;t&&(this.#a=Ae(()=>t(this.#t)),Be.enqueue(()=>{var n=this.#m();this.#s=this.#_(()=>(Be.ensure(),Ae(()=>this.#l(n)))),this.#d>0?this.#p():(St(this.#a,()=>{this.#a=null}),this.#e=!1)}))}#m(){var t=this.#t;return this.#e&&(this.#u=ht(),this.#t.before(this.#u),t=this.#u),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(t){var n=Y,r=q,s=Oe;Ve(this.#i),be(this.#i),Pt(this.#i.ctx);try{return t()}catch(i){return us(i),null}finally{Ve(n),be(r),Pt(s)}}#p(){const t=this.#n.pending;this.#s!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),Ms(this.#s,this.#c)),this.#a===null&&(this.#a=Ae(()=>t(this.#t)))}#g(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#a&&St(this.#a,()=>{this.#a=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(t){this.#g(t),this.#f+=t,this.#v&&Ct(this.#v,this.#f)}get_effect_pending(){return this.#w(),c(this.#v)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#h||!n&&!r)throw t;this.#s&&(ke(this.#s),this.#s=null),this.#a&&(ke(this.#a),this.#a=null),this.#o&&(ke(this.#o),this.#o=null);var s=!1,i=!1;const a=()=>{if(s){ca();return}s=!0,i&&la(),Be.ensure(),this.#f=0,this.#o!==null&&St(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#s=this.#_(()=>(this.#h=!1,Ae(()=>this.#l(this.#t)))),this.#d>0?this.#p():this.#e=!1};var l=q;try{be(null),i=!0,n?.(t,a),i=!1}catch(o){Mt(o,this.#i&&this.#i.parent)}finally{be(l)}r&&Kt(()=>{this.#o=this.#_(()=>{Be.ensure(),this.#h=!0;try{return Ae(()=>{r(this.#t,()=>t,()=>a)})}catch(o){return Mt(o,this.#i.parent),null}finally{this.#h=!1}})})}}function wa(e,t,n){for(var r=[],s=t.length,i=0;i<s;i++)lr(t[i].e,r,!0);Is(r,()=>{var a=r.length===0&&n!==null;if(a){var l=n,o=l.parentNode;Ca(o),o.append(l),e.items.clear(),Ne(e,t[0].prev,t[s-1].next)}for(var u=0;u<s;u++){var f=t[u];a||(e.items.delete(f.k),Ne(e,f.prev,f.next)),ke(f.e,!a)}e.first===t[0]&&(e.first=t[0].prev)})}function Ue(e,t,n,r,s,i=null){var a=e,l=new Map,o=null,u=(t&ns)!==0,f=(t&es)!==0,p=(t&ts)!==0;if(u){var _=e;a=_.appendChild(ht())}var m=null,T=Ea(()=>{var S=n();return rs(S)?S:S==null?[]:Zn(S)}),O,w=!0;function E(){ya(P,O,a,t,r),m!==null&&(O.length===0?(m.fragment?(a.before(m.fragment),m.fragment=null):cr(m.effect),U.first=m.effect):St(m.effect,()=>{m=null}))}var U=or(()=>{O=c(T);for(var S=O.length,j=new Set,C=J,K=null,N=ys(),b=0;b<S;b+=1){var y=O[b],k=r(y,b),V=w?null:l.get(k);V?(f&&Ct(V.v,y),p?Ct(V.i,b):V.i=b,N&&C.skipped_effects.delete(V.e)):(V=xa(w?a:null,K,y,k,b,s,t,n),w&&(V.o=!0,K===null?o=V:K.next=V,K=V),l.set(k,V)),j.add(k)}if(S===0&&i&&!m)if(w)m={fragment:null,effect:Ae(()=>i(a))};else{var $=document.createDocumentFragment(),se=ht();$.append(se),m={fragment:$,effect:Ae(()=>i(se))}}if(!w)if(N){for(const[ie,ne]of l)j.has(ie)||C.skipped_effects.add(ne.e);C.oncommit(E),C.ondiscard(()=>{})}else E();c(T)}),P={effect:U,items:l,first:o};w=!1}function ya(e,t,n,r,s){var i=(r&qi)!==0,a=t.length,l=e.items,o=e.first,u,f=null,p,_=[],m=[],T,O,w,E;if(i)for(E=0;E<a;E+=1)T=t[E],O=s(T,E),w=l.get(O),w.o&&(w.a?.measure(),(p??=new Set).add(w));for(E=0;E<a;E+=1){if(T=t[E],O=s(T,E),w=l.get(O),e.first??=w,!w.o){w.o=!0;var U=f?f.next:o;Ne(e,f,w),Ne(e,w,U),Rn(w,U,n),f=w,_=[],m=[],o=f.next;continue}if((w.e.f&Me)!==0&&(cr(w.e),i&&(w.a?.unfix(),(p??=new Set).delete(w))),w!==o){if(u!==void 0&&u.has(w)){if(_.length<m.length){var P=m[0],S;f=P.prev;var j=_[0],C=_[_.length-1];for(S=0;S<_.length;S+=1)Rn(_[S],P,n);for(S=0;S<m.length;S+=1)u.delete(m[S]);Ne(e,j.prev,C.next),Ne(e,f,j),Ne(e,C,P),o=P,f=C,E-=1,_=[],m=[]}else u.delete(w),Rn(w,o,n),Ne(e,w.prev,w.next),Ne(e,w,f===null?e.first:f.next),Ne(e,f,w),f=w;continue}for(_=[],m=[];o!==null&&o.k!==O;)(o.e.f&Me)===0&&(u??=new Set).add(o),m.push(o),o=o.next;if(o===null)continue;w=o}_.push(w),f=w,o=w.next}let K=l.size>a;if(o!==null||u!==void 0){for(var N=u===void 0?[]:Zn(u);o!==null;)(o.e.f&Me)===0&&N.push(o),o=o.next;var b=N.length;if(K=l.size-b>a,b>0){var y=(r&ns)!==0&&a===0?n:null;if(i){for(E=0;E<b;E+=1)N[E].a?.measure();for(E=0;E<b;E+=1)N[E].a?.fix()}wa(e,N,y)}}if(K)for(const k of l.values())k.o||(Ne(e,f,k),f=k);e.effect.last=f&&f.e,i&&Kt(()=>{if(p!==void 0)for(w of p)w.a?.apply()})}function xa(e,t,n,r,s,i,a,l){var o=(a&es)!==0,u=(a&Bi)===0,f=o?u?Ia(n,!1,!1):gt(n):n,p=(a&ts)===0?s:gt(s),_={i:p,v:f,k:r,a:null,e:null,o:!1,prev:t,next:null};try{if(e===null){var m=document.createDocumentFragment();m.append(e=ht())}return _.e=Ae(()=>i(e,f,p,l)),t!==null&&(t.next=_),_}finally{}}function Rn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==r;){var a=Yt(i);s.before(i),i=a}}function Ne(e,t,n){t===null?(e.first=n,e.effect.first=n&&n.e):(t.e.next&&(t.e.next.prev=null),t.next=n,t.e.next=n&&n.e),n!==null&&(n.e.prev&&(n.e.prev.next=null),n.prev=t,n.e.prev=t&&t.e)}function ba(e,t,n,r){const s=sr;if(n.length===0&&e.length===0){r(t.map(s));return}var i=J,a=Y,l=ka();function o(){Promise.all(n.map(u=>Ta(u))).then(u=>{l();try{r([...t.map(s),...u])}catch(f){(a.f&ut)===0&&Mt(f,a)}i?.deactivate(),ln()}).catch(u=>{Mt(u,a)})}e.length>0?Promise.all(e).then(()=>{l();try{return o()}finally{i?.deactivate(),ln()}}):o()}function ka(){var e=Y,t=q,n=Oe,r=J;return function(i=!0){Ve(e),be(t),Pt(n),i&&r?.activate()}}function ln(){Ve(null),be(null),Pt(null)}function sr(e){var t=fe|Te,n=q!==null&&(q.f&fe)!==0?q:null;return Y!==null&&(Y.f|=Rt),{ctx:Oe,deps:null,effects:null,equals:os,f:t,fn:e,reactions:null,rv:0,v:de,wv:0,parent:n??Y,ac:null}}function Ta(e,t){let n=Y;n===null&&ea();var r=n.b,s=void 0,i=gt(de),a=!q,l=new Map;return Ha(()=>{var o=is();s=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(()=>{u===J&&u.committed&&u.deactivate(),ln()})}catch(_){o.reject(_),ln()}var u=J;if(a){var f=!r.is_pending();r.update_pending_count(1),u.increment(f),l.get(u)?.reject(Tt),l.delete(u),l.set(u,o)}const p=(_,m=void 0)=>{if(u.activate(),m)m!==Tt&&(i.f|=ft,Ct(i,m));else{(i.f&ft)!==0&&(i.f^=ft),Ct(i,_);for(const[T,O]of l){if(l.delete(T),T===u)break;O.reject(Tt)}}a&&(r.update_pending_count(-1),u.decrement(f))};o.promise.then(p,_=>p(null,_||"unknown"))}),Ra(()=>{for(const o of l.values())o.reject(Tt)}),new Promise(o=>{function u(f){function p(){f===s?o(i):u(s)}f.then(p,p)}u(s)})}function G(e){const t=sr(e);return Cs(t),t}function Ea(e){const t=sr(e);return t.equals=ls,t}function vs(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ke(t[n])}}function Sa(e){for(var t=e.parent;t!==null;){if((t.f&fe)===0)return(t.f&ut)===0?t:null;t=t.parent}return null}function ir(e){var t,n=Y;Ve(Sa(e));try{e.f&=~pt,vs(e),t=Os(e)}finally{Ve(n)}return t}function hs(e){var t=ir(e);if(e.equals(t)||(J?.is_fork||(e.v=t),e.wv=Ds()),!Ot)if(Re!==null)(qt()||J?.is_fork)&&Re.set(e,t);else{var n=(e.f&je)===0?at:ve;he(e,n)}}let jn=new Set;const dt=new Map;let _s=!1;function gt(e,t){var n={f:0,v:e,reactions:null,equals:os,rv:0,wv:0};return n}function Z(e,t){const n=gt(e);return Cs(n),n}function Ia(e,t=!1,n=!0){const r=gt(e);return t||(r.equals=ls),r}function R(e,t,n=!1){q!==null&&(!Ge||(q.f&Dr)!==0)&&cs()&&(q.f&(fe|st|nr|Dr))!==0&&!tt?.includes(e)&&oa();let r=n?me(t):t;return Ct(e,r)}function Ct(e,t){if(!e.equals(t)){var n=e.v;Ot?dt.set(e,t):dt.set(e,n),e.v=t;var r=Be.ensure();r.capture(e,n),(e.f&fe)!==0&&((e.f&Te)!==0&&ir(e),he(e,(e.f&je)!==0?ve:at)),e.wv=Ds(),ps(e,Te),Y!==null&&(Y.f&ve)!==0&&(Y.f&(it|wt))===0&&(Ce===null?La([e]):Ce.push(e)),!r.is_fork&&jn.size>0&&!_s&&Pa()}return t}function Pa(){_s=!1;var e=vt;un(!0);const t=Array.from(jn);try{for(const n of t)(n.f&ve)!==0&&he(n,at),Xt(n)&&Ut(n)}finally{un(e)}jn.clear()}function jt(e){R(e,e.v+1)}function ps(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,s=0;s<r;s++){var i=n[s],a=i.f,l=(a&Te)===0;if(l&&he(i,t),(a&fe)!==0){var o=i;Re?.delete(o),(a&pt)===0&&(a&je&&(i.f|=pt),ps(o,at))}else l&&((a&st)!==0&&Je!==null&&Je.add(i),mt(i))}}function me(e){if(typeof e!="object"||e===null||sn in e)return e;const t=ss(e);if(t!==Yi&&t!==Xi)return e;var n=new Map,r=rs(e),s=Z(0),i=_t,a=l=>{if(_t===i)return l();var o=q,u=_t;be(null),Hr(i);var f=l();return be(o),Hr(u),f};return r&&n.set("length",Z(e.length)),new Proxy(e,{defineProperty(l,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ia();var f=n.get(o);return f===void 0?f=a(()=>{var p=Z(u.value);return n.set(o,p),p}):R(f,u.value,!0),!0},deleteProperty(l,o){var u=n.get(o);if(u===void 0){if(o in l){const f=a(()=>Z(de));n.set(o,f),jt(s)}}else R(u,de),jt(s);return!0},get(l,o,u){if(o===sn)return e;var f=n.get(o),p=o in l;if(f===void 0&&(!p||Lt(l,o)?.writable)&&(f=a(()=>{var m=me(p?l[o]:de),T=Z(m);return T}),n.set(o,f)),f!==void 0){var _=c(f);return _===de?void 0:_}return Reflect.get(l,o,u)},getOwnPropertyDescriptor(l,o){var u=Reflect.getOwnPropertyDescriptor(l,o);if(u&&"value"in u){var f=n.get(o);f&&(u.value=c(f))}else if(u===void 0){var p=n.get(o),_=p?.v;if(p!==void 0&&_!==de)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return u},has(l,o){if(o===sn)return!0;var u=n.get(o),f=u!==void 0&&u.v!==de||Reflect.has(l,o);if(u!==void 0||Y!==null&&(!f||Lt(l,o)?.writable)){u===void 0&&(u=a(()=>{var _=f?me(l[o]):de,m=Z(_);return m}),n.set(o,u));var p=c(u);if(p===de)return!1}return f},set(l,o,u,f){var p=n.get(o),_=o in l;if(r&&o==="length")for(var m=u;m<p.v;m+=1){var T=n.get(m+"");T!==void 0?R(T,de):m in l&&(T=a(()=>Z(de)),n.set(m+"",T))}if(p===void 0)(!_||Lt(l,o)?.writable)&&(p=a(()=>Z(void 0)),R(p,me(u)),n.set(o,p));else{_=p.v!==de;var O=a(()=>me(u));R(p,O)}var w=Reflect.getOwnPropertyDescriptor(l,o);if(w?.set&&w.set.call(f,u),!_){if(r&&typeof o=="string"){var E=n.get("length"),U=Number(o);Number.isInteger(U)&&U>=E.v&&R(E,U+1)}jt(s)}return!0},ownKeys(l){c(s);var o=Reflect.ownKeys(l).filter(p=>{var _=n.get(p);return _===void 0||_.v!==de});for(var[u,f]of n)f.v!==de&&!(u in l)&&o.push(u);return o},setPrototypeOf(){aa()}})}var Or,ms,gs,ws;function Ma(){if(Or===void 0){Or=window,ms=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;gs=Lt(t,"firstChild").get,ws=Lt(t,"nextSibling").get,Ar(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ar(n)&&(n.__t=void 0)}}function ht(e=""){return document.createTextNode(e)}function ar(e){return gs.call(e)}function Yt(e){return ws.call(e)}function h(e,t){return ar(e)}function ye(e,t=!1){{var n=ar(e);return n instanceof Comment&&n.data===""?Yt(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=Yt(r);return r}function Ca(e){e.textContent=""}function ys(){return!1}function xs(e){var t=q,n=Y;be(null),Ve(null);try{return e()}finally{be(t),Ve(n)}}function Aa(e){Y===null&&(q===null&&ra(),na()),Ot&&ta()}function Da(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ot(e,t,n){var r=Y;r!==null&&(r.f&Me)!==0&&(e|=Me);var s={ctx:Oe,deps:null,nodes_start:null,nodes_end:null,f:e|Te|je,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ut(s),s.f|=tr}catch(l){throw ke(s),l}else t!==null&&mt(s);var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Rt)===0&&(i=i.first,(e&st)!==0&&(e&It)!==0&&i!==null&&(i.f|=It)),i!==null&&(i.parent=r,r!==null&&Da(i,r),q!==null&&(q.f&fe)!==0&&(e&wt)===0)){var a=q;(a.effects??=[]).push(i)}return s}function qt(){return q!==null&&!Ge}function Ra(e){const t=ot(er,null,!1);return he(t,ve),t.teardown=e,t}function cn(e){Aa();var t=Y.f,n=!q&&(t&it)!==0&&(t&tr)===0;if(n){var r=Oe;(r.e??=[]).push(e)}else return bs(e)}function bs(e){return ot(Jn|Zi,e,!1)}function Oa(e){Be.ensure();const t=ot(wt|Rt,e,!0);return(n={})=>new Promise(r=>{n.outro?St(t,()=>{ke(t),r(void 0)}):(ke(t),r(void 0))})}function za(e){return ot(Jn,e,!1)}function Ha(e){return ot(nr|Rt,e,!0)}function ks(e,t=0){return ot(er|t,e,!0)}function te(e,t=[],n=[],r=[]){ba(r,t,n,s=>{ot(er,()=>e(...s.map(c)),!0)})}function or(e,t=0){var n=ot(st|t,e,!0);return n}function Ae(e){return ot(it|Rt,e,!0)}function Ts(e){var t=e.teardown;if(t!==null){const n=Ot,r=q;zr(!0),be(null);try{t.call(null)}finally{zr(n),be(r)}}}function Es(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&xs(()=>{s.abort(Tt)});var r=n.next;(n.f&wt)!==0?n.parent=null:ke(n,t),n=r}}function Na(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&it)===0&&ke(t),t=n}}function ke(e,t=!0){var n=!1;(t||(e.f&as)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Fa(e.nodes_start,e.nodes_end),n=!0),Es(e,t&&!n),fn(e,0),he(e,ut);var r=e.transitions;if(r!==null)for(const i of r)i.stop();Ts(e);var s=e.parent;s!==null&&s.first!==null&&Ss(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Fa(e,t){for(;e!==null;){var n=e===t?null:Yt(e);e.remove(),e=n}}function Ss(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function St(e,t,n=!0){var r=[];lr(e,r,!0),Is(r,()=>{n&&ke(e),t&&t()})}function Is(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function lr(e,t,n){if((e.f&Me)===0){if(e.f^=Me,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var s=r.next,i=(r.f&It)!==0||(r.f&it)!==0&&(e.f&st)!==0;lr(r,t,i?n:!1),r=s}}}function cr(e){Ps(e,!0)}function Ps(e,t){if((e.f&Me)!==0){e.f^=Me,(e.f&ve)===0&&(he(e,Te),mt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&It)!==0||(n.f&it)!==0;Ps(n,s?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}function Ms(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var s=n===r?null:Yt(n);t.append(n),n=s}}let vt=!1;function un(e){vt=e}let Ot=!1;function zr(e){Ot=e}let q=null,Ge=!1;function be(e){q=e}let Y=null;function Ve(e){Y=e}let tt=null;function Cs(e){q!==null&&(tt===null?tt=[e]:tt.push(e))}let pe=null,Ie=0,Ce=null;function La(e){Ce=e}let As=1,Bt=0,_t=Bt;function Hr(e){_t=e}function Ds(){return++As}function Xt(e){var t=e.f;if((t&Te)!==0)return!0;if(t&fe&&(e.f&=~pt),(t&at)!==0){var n=e.deps;if(n!==null)for(var r=n.length,s=0;s<r;s++){var i=n[s];if(Xt(i)&&hs(i),i.wv>e.wv)return!0}(t&je)!==0&&Re===null&&he(e,ve)}return!1}function Rs(e,t,n=!0){var r=e.reactions;if(r!==null&&!tt?.includes(e))for(var s=0;s<r.length;s++){var i=r[s];(i.f&fe)!==0?Rs(i,t,!1):t===i&&(n?he(i,Te):(i.f&ve)!==0&&he(i,at),mt(i))}}function Os(e){var t=pe,n=Ie,r=Ce,s=q,i=tt,a=Oe,l=Ge,o=_t,u=e.f;pe=null,Ie=0,Ce=null,q=(u&(it|wt))===0?e:null,tt=null,Pt(e.ctx),Ge=!1,_t=++Bt,e.ac!==null&&(xs(()=>{e.ac.abort(Tt)}),e.ac=null);try{e.f|=Fn;var f=e.fn,p=f(),_=e.deps;if(pe!==null){var m;if(fn(e,Ie),_!==null&&Ie>0)for(_.length=Ie+pe.length,m=0;m<pe.length;m++)_[Ie+m]=pe[m];else e.deps=_=pe;if(vt&&qt()&&(e.f&je)!==0)for(m=Ie;m<_.length;m++)(_[m].reactions??=[]).push(e)}else _!==null&&Ie<_.length&&(fn(e,Ie),_.length=Ie);if(cs()&&Ce!==null&&!Ge&&_!==null&&(e.f&(fe|at|Te))===0)for(m=0;m<Ce.length;m++)Rs(Ce[m],e);return s!==null&&s!==e&&(Bt++,Ce!==null&&(r===null?r=Ce:r.push(...Ce))),(e.f&ft)!==0&&(e.f^=ft),p}catch(T){return us(T)}finally{e.f^=Fn,pe=t,Ie=n,Ce=r,q=s,tt=i,Pt(a),Ge=l,_t=o}}function ja(e,t){let n=t.reactions;if(n!==null){var r=Vi.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&fe)!==0&&(pe===null||!pe.includes(t))&&(he(t,at),(t.f&je)!==0&&(t.f^=je,t.f&=~pt),vs(t),fn(t,0))}function fn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ja(e,n[r])}function Ut(e){var t=e.f;if((t&ut)===0){he(e,ve);var n=Y,r=vt;Y=e,vt=!0;try{(t&(st|Qi))!==0?Na(e):Es(e),Ts(e);var s=Os(e);e.teardown=typeof s=="function"?s:null,e.wv=As;var i;Nn&&fa&&(e.f&Te)!==0&&e.deps}finally{vt=r,Y=n}}}function c(e){var t=e.f,n=(t&fe)!==0;if(q!==null&&!Ge){var r=Y!==null&&(Y.f&ut)!==0;if(!r&&!tt?.includes(e)){var s=q.deps;if((q.f&Fn)!==0)e.rv<Bt&&(e.rv=Bt,pe===null&&s!==null&&s[Ie]===e?Ie++:pe===null?pe=[e]:pe.includes(e)||pe.push(e));else{(q.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[q]:i.includes(q)||i.push(q)}}}if(Ot){if(dt.has(e))return dt.get(e);if(n){var a=e,l=a.v;return((a.f&ve)===0&&a.reactions!==null||Hs(a))&&(l=ir(a)),dt.set(a,l),l}}else n&&(!Re?.has(e)||J?.is_fork&&!qt())&&(a=e,Xt(a)&&hs(a),vt&&qt()&&(a.f&je)===0&&zs(a));if(Re?.has(e))return Re.get(e);if((e.f&ft)!==0)throw e.v;return e.v}function zs(e){if(e.deps!==null){e.f^=je;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&fe)!==0&&(t.f&je)===0&&zs(t)}}function Hs(e){if(e.v===de)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(dt.has(t)||(t.f&fe)!==0&&Hs(t))return!0;return!1}function Ns(e){var t=Ge;try{return Ge=!0,e()}finally{Ge=t}}const qa=-7169;function he(e,t){e.f=e.f&qa|t}const Fs=new Set,qn=new Set;function zt(e){for(var t=0;t<e.length;t++)Fs.add(e[t]);for(var n of qn)n(e)}let Nr=null;function en(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],i=s[0]||e.target;Nr=e;var a=0,l=Nr===e&&e.__root;if(l){var o=s.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;o<=u&&(a=o)}if(i=s[a]||e.target,i!==t){Wi(e,"currentTarget",{configurable:!0,get(){return i||n}});var f=q,p=Y;be(null),Ve(null);try{for(var _,m=[];i!==null;){var T=i.assignedSlot||i.parentNode||i.host||null;try{var O=i["__"+r];O!=null&&(!i.disabled||e.target===i)&&O.call(i,e)}catch(w){_?m.push(w):_=w}if(e.cancelBubble||T===t||T===null)break;i=T}if(_){for(let w of m)queueMicrotask(()=>{throw w});throw _}}finally{e.__root=t,delete e.currentTarget,be(f),Ve(p)}}}function Ba(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ls(e,t){var n=Y;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function X(e,t){var n=(t&Ui)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=Ba(s?e:"<!>"+e),r=ar(r));var i=n||ms?document.importNode(r,!0):r.cloneNode(!0);return Ls(i,i),i}}function xe(){var e=document.createDocumentFragment(),t=document.createComment(""),n=ht();return e.append(t,n),Ls(t,n),e}function A(e,t){e!==null&&e.before(t)}const Ua=["touchstart","touchmove"];function Ga(e){return Ua.includes(e)}function D(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Va(e,t){return Wa(e,t)}const xt=new Map;function Wa(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:a=!0}){Ma();var l=new Set,o=p=>{for(var _=0;_<p.length;_++){var m=p[_];if(!l.has(m)){l.add(m);var T=Ga(m);t.addEventListener(m,en,{passive:T});var O=xt.get(m);O===void 0?(document.addEventListener(m,en,{passive:T}),xt.set(m,1)):xt.set(m,O+1)}}};o(Zn(Fs)),qn.add(o);var u=void 0,f=Oa(()=>{var p=n??t.appendChild(ht());return ma(p,{pending:()=>{}},_=>{if(i){Ke({});var m=Oe;m.c=i}s&&(r.$$events=s),u=e(_,r)||{},i&&Ye()}),()=>{for(var _ of l){t.removeEventListener(_,en);var m=xt.get(_);--m===0?(document.removeEventListener(_,en),xt.delete(_)):xt.set(_,m)}qn.delete(o),p!==n&&p.parentNode?.removeChild(p)}});return Ka.set(u,f),u}let Ka=new WeakMap;class Ya{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#i=()=>{var t=J;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)cr(r),this.#n.delete(n);else{var s=this.#r.get(n);s&&(this.#t.set(n,s.effect),this.#r.delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[i,a]of this.#e){if(this.#e.delete(i),i===t)break;const l=this.#r.get(a);l&&(ke(l.effect),this.#r.delete(a))}for(const[i,a]of this.#t){if(i===n||this.#n.has(i))continue;const l=()=>{if(Array.from(this.#e.values()).includes(i)){var u=document.createDocumentFragment();Ms(a,u),u.append(ht()),this.#r.set(i,{effect:a,fragment:u})}else ke(a);this.#n.delete(i),this.#t.delete(i)};this.#l||!r?(this.#n.add(i),St(a,l,!1)):l()}}};#s=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,s]of this.#r)n.includes(r)||(ke(s.effect),this.#r.delete(r))};ensure(t,n){var r=J,s=ys();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(s){var i=document.createDocumentFragment(),a=ht();i.append(a),this.#r.set(t,{effect:Ae(()=>n(a)),fragment:i})}else this.#t.set(t,Ae(()=>n(this.anchor)));if(this.#e.set(r,t),s){for(const[l,o]of this.#t)l===t?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[l,o]of this.#r)l===t?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(this.#i),r.ondiscard(this.#s)}else this.#i()}}function Q(e,t,n=!1){var r=new Ya(e),s=n?It:0;function i(a,l){r.ensure(a,l)}or(()=>{var a=!1;t((l,o=!0)=>{a=!0,i(o,l)}),a||i(!1,null)},s)}const Fr=[...` 	
\r\fÂ \v\uFEFF`];function Xa(e,t,n){var r=e==null?"":""+e;if(n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,a=0;(a=r.indexOf(s,a))>=0;){var l=a+i;(a===0||Fr.includes(r[a-1]))&&(l===r.length||Fr.includes(r[l]))?r=(a===0?"":r.substring(0,a))+r.substring(l+1):a=l}}return r===""?null:r}function $a(e,t){return e==null?null:String(e)}function Fe(e,t,n,r,s,i){var a=e.__className;if(a!==n||a===void 0){var l=Xa(n,r,i);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(i&&s!==i)for(var o in i){var u=!!i[o];(s==null||u!==!!s[o])&&e.classList.toggle(o,u)}return i}function ct(e,t,n,r){var s=e.__style;if(s!==t){var i=$a(t);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}return r}const Qa=Symbol("is custom element"),Za=Symbol("is html");function z(e,t,n,r){var s=Ja(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Ji]=n),n==null?e.removeAttribute(t):typeof n!="string"&&eo(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ja(e){return e.__attributes??={[Qa]:e.nodeName.includes("-"),[Za]:e.namespaceURI===Gi}}var Lr=new Map;function eo(e){var t=e.getAttribute("is")||e.nodeName,n=Lr.get(t);if(n)return n;Lr.set(t,n=[]);for(var r,s=e,i=Element.prototype;i!==s;){r=Ki(s);for(var a in r)r[a].set&&n.push(a);s=ss(s)}return n}function jr(e,t){return e===t||e?.[sn]===t}function to(e={},t,n,r){return za(()=>{var s,i;return ks(()=>{s=i,i=[],Ns(()=>{e!==n(...i)&&(t(e,...i),s&&jr(n(...s),e)&&t(null,...s))})}),()=>{Kt(()=>{i&&jr(n(...i),e)&&t(null,...i)})}}),e}function ue(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var no=typeof Symbol=="function"&&Symbol.observable||"@@observable",qr=no,On=()=>Math.random().toString(36).substring(7).split("").join("."),ro={INIT:`@@redux/INIT${On()}`,REPLACE:`@@redux/REPLACE${On()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${On()}`},dn=ro;function ur(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function js(e,t,n){if(typeof e!="function")throw new Error(ue(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ue(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ue(1));return n(js)(e,t)}let r=e,s=t,i=new Map,a=i,l=0,o=!1;function u(){a===i&&(a=new Map,i.forEach((w,E)=>{a.set(E,w)}))}function f(){if(o)throw new Error(ue(3));return s}function p(w){if(typeof w!="function")throw new Error(ue(4));if(o)throw new Error(ue(5));let E=!0;u();const U=l++;return a.set(U,w),function(){if(E){if(o)throw new Error(ue(6));E=!1,u(),a.delete(U),i=null}}}function _(w){if(!ur(w))throw new Error(ue(7));if(typeof w.type>"u")throw new Error(ue(8));if(typeof w.type!="string")throw new Error(ue(17));if(o)throw new Error(ue(9));try{o=!0,s=r(s,w)}finally{o=!1}return(i=a).forEach(U=>{U()}),w}function m(w){if(typeof w!="function")throw new Error(ue(10));r=w,_({type:dn.REPLACE})}function T(){const w=p;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(ue(11));function U(){const S=E;S.next&&S.next(f())}return U(),{unsubscribe:w(U)}},[qr](){return this}}}return _({type:dn.INIT}),{dispatch:_,subscribe:p,getState:f,replaceReducer:m,[qr]:T}}function so(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:dn.INIT})>"u")throw new Error(ue(12));if(typeof n(void 0,{type:dn.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ue(13))})}function io(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const a=t[i];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let s;try{so(n)}catch(i){s=i}return function(a={},l){if(s)throw s;let o=!1;const u={};for(let f=0;f<r.length;f++){const p=r[f],_=n[p],m=a[p],T=_(m,l);if(typeof T>"u")throw l&&l.type,new Error(ue(14));u[p]=T,o=o||T!==m}return o=o||r.length!==Object.keys(a).length,o?u:a}}function vn(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function ao(...e){return t=>(n,r)=>{const s=t(n,r);let i=()=>{throw new Error(ue(15))};const a={getState:s.getState,dispatch:(o,...u)=>i(o,...u)},l=e.map(o=>o(a));return i=vn(...l)(s.dispatch),{...s,dispatch:i}}}function oo(e){return ur(e)&&"type"in e&&typeof e.type=="string"}var qs=Symbol.for("immer-nothing"),Br=Symbol.for("immer-draftable"),ge=Symbol.for("immer-state");function Le(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pe=Object,At=Pe.getPrototypeOf,hn="constructor",yn="prototype",Bn="configurable",_n="enumerable",an="writable",Gt="value",rt=e=>!!e&&!!e[ge];function We(e){return e?Bs(e)||xn(e)||!!e[Br]||!!e[hn]?.[Br]||bn(e)||kn(e):!1}var lo=Pe[yn][hn].toString(),Ur=new WeakMap;function Bs(e){if(!e||!fr(e))return!1;const t=At(e);if(t===null||t===Pe[yn])return!0;const n=Pe.hasOwnProperty.call(t,hn)&&t[hn];if(n===Object)return!0;if(!kt(n))return!1;let r=Ur.get(n);return r===void 0&&(r=Function.toString.call(n),Ur.set(n,r)),r===lo}function $t(e,t,n=!0){Qt(e)===0?(n?Reflect.ownKeys(e):Pe.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((r,s)=>t(s,r,e))}function Qt(e){const t=e[ge];return t?t.type_:xn(e)?1:bn(e)?2:kn(e)?3:0}var Gr=(e,t,n=Qt(e))=>n===2?e.has(t):Pe[yn].hasOwnProperty.call(e,t),Un=(e,t,n=Qt(e))=>n===2?e.get(t):e[t],pn=(e,t,n,r=Qt(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function co(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var xn=Array.isArray,bn=e=>e instanceof Map,kn=e=>e instanceof Set,fr=e=>typeof e=="object",kt=e=>typeof e=="function",zn=e=>typeof e=="boolean",et=e=>e.copy_||e.base_,dr=e=>e.modified_?e.copy_:e.base_;function Gn(e,t){if(bn(e))return new Map(e);if(kn(e))return new Set(e);if(xn(e))return Array[yn].slice.call(e);const n=Bs(e);if(t===!0||t==="class_only"&&!n){const r=Pe.getOwnPropertyDescriptors(e);delete r[ge];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const a=s[i],l=r[a];l[an]===!1&&(l[an]=!0,l[Bn]=!0),(l.get||l.set)&&(r[a]={[Bn]:!0,[an]:!0,[_n]:l[_n],[Gt]:e[a]})}return Pe.create(At(e),r)}else{const r=At(e);if(r!==null&&n)return{...e};const s=Pe.create(r);return Pe.assign(s,e)}}function vr(e,t=!1){return Tn(e)||rt(e)||(Qt(e)>1&&Pe.defineProperties(e,{set:tn,add:tn,clear:tn,delete:tn}),Pe.freeze(e),t&&$t(e,(n,r)=>{vr(r,!0)},!1)),e}function uo(){Le(2)}var tn={[Gt]:uo};function Tn(e){return e===null||!fr(e)?!0:Pe.isFrozen(e)}var mn="MapSet",Vn="Patches",Us={};function Dt(e){const t=Us[e];return t||Le(0,e),t}var fo=e=>!!Us[e],Vt,Gs=()=>Vt,vo=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:fo(mn)?Dt(mn):void 0});function Vr(e,t){t&&(e.patchPlugin_=Dt(Vn),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Wn(e){Kn(e),e.drafts_.forEach(ho),e.drafts_=null}function Kn(e){e===Vt&&(Vt=e.parent_)}var Wr=e=>Vt=vo(Vt,e);function ho(e){const t=e[ge];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Kr(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ge].modified_&&(Wn(t),Le(4)),We(e)&&(e=Yr(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(n[ge].base_,e,t)}else e=Yr(t,n);return _o(t,e,!0),Wn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qs?e:void 0}function Yr(e,t){if(Tn(t))return t;const n=t[ge];if(!n)return hr(t,e.handledSet_,e);if(!En(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);Ks(n,e)}return n.copy_}function _o(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vr(t,n)}function Vs(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var En=(e,t)=>e.scope_===t,po=[];function Ws(e,t,n,r){const s=et(e),i=e.type_;if(r!==void 0&&Un(s,r,i)===t){pn(s,r,n,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;$t(s,(o,u)=>{if(rt(u)){const f=l.get(u)||[];f.push(o),l.set(u,f)}})}const a=e.draftLocations_.get(t)??po;for(const l of a)pn(s,l,n,i)}function mo(e,t,n){e.callbacks_.push(function(s){const i=t;if(!i||!En(i,s))return;s.mapSetPlugin_?.fixSetContents(i);const a=dr(i);Ws(e,i.draft_??i,a,n),Ks(i,s)})}function Ks(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const s=r.getPath(e);s&&r.generatePatches_(e,s,t)}Vs(e)}}function go(e,t,n){const{scope_:r}=e;if(rt(n)){const s=n[ge];En(s,r)&&s.callbacks_.push(function(){on(e);const a=dr(s);Ws(e,n,a,t)})}else We(n)&&e.callbacks_.push(function(){const i=et(e);Un(i,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&hr(Un(e.copy_,t,e.type_),r.handledSet_,r)})}function hr(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||rt(e)||t.has(e)||!We(e)||Tn(e)||(t.add(e),$t(e,(r,s)=>{if(rt(s)){const i=s[ge];if(En(i,n)){const a=dr(i);pn(e,r,a,e.type_),Vs(i)}}else We(s)&&hr(s,t,n)})),e}function wo(e,t){const n=xn(e),r={type_:n?1:0,scope_:t?t.scope_:Gs(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=r,i=_r;n&&(s=[r],i=Wt);const{revoke:a,proxy:l}=Proxy.revocable(s,i);return r.draft_=l,r.revoke_=a,[l,r]}var _r={get(e,t){if(t===ge)return e;const n=et(e);if(!Gr(n,t,e.type_))return yo(e,n,t);const r=n[t];if(e.finalized_||!We(r))return r;if(r===Hn(e.base_,t)){on(e);const s=e.type_===1?+t:t,i=Xn(e.scope_,r,e,s);return e.copy_[s]=i}return r},has(e,t){return t in et(e)},ownKeys(e){return Reflect.ownKeys(et(e))},set(e,t,n){const r=Ys(et(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=Hn(et(e),t),i=s?.[ge];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(co(n,s)&&(n!==void 0||Gr(e.base_,t,e.type_)))return!0;on(e),Yn(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),go(e,t,n)),!0},deleteProperty(e,t){return on(e),Hn(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Yn(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=et(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[an]:!0,[Bn]:e.type_!==1||t!=="length",[_n]:r[_n],[Gt]:n[t]}},defineProperty(){Le(11)},getPrototypeOf(e){return At(e.base_)},setPrototypeOf(){Le(12)}},Wt={};$t(_r,(e,t)=>{Wt[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Wt.deleteProperty=function(e,t){return Wt.set.call(this,e,t,void 0)};Wt.set=function(e,t,n){return _r.set.call(this,e[0],t,n,e[0])};function Hn(e,t){const n=e[ge];return(n?et(n):e)[t]}function yo(e,t,n){const r=Ys(t,n);return r?Gt in r?r[Gt]:r.get?.call(e.draft_):void 0}function Ys(e,t){if(!(t in e))return;let n=At(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=At(n)}}function Yn(e){e.modified_||(e.modified_=!0,e.parent_&&Yn(e.parent_))}function on(e){e.copy_||(e.assigned_=new Map,e.copy_=Gn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xo=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(kt(t)&&!kt(n)){const i=n;n=t;const a=this;return function(o=i,...u){return a.produce(o,f=>n.call(this,f,...u))}}kt(n)||Le(6),r!==void 0&&!kt(r)&&Le(7);let s;if(We(t)){const i=Wr(this),a=Xn(i,t,void 0);let l=!0;try{s=n(a),l=!1}finally{l?Wn(i):Kn(i)}return Vr(i,r),Kr(s,i)}else if(!t||!fr(t)){if(s=n(t),s===void 0&&(s=t),s===qs&&(s=void 0),this.autoFreeze_&&vr(s,!0),r){const i=[],a=[];Dt(Vn).generateReplacementPatches_(t,s,{patches_:i,inversePatches_:a}),r(i,a)}return s}else Le(1,t)},this.produceWithPatches=(t,n)=>{if(kt(t))return(a,...l)=>this.produceWithPatches(a,o=>t(o,...l));let r,s;return[this.produce(t,n,(a,l)=>{r=a,s=l}),r,s]},zn(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),zn(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),zn(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){We(e)||Le(8),rt(e)&&(e=bo(e));const t=Wr(this),n=Xn(t,e,void 0);return n[ge].isManual_=!0,Kn(t),n}finishDraft(e,t){const n=e&&e[ge];(!n||!n.isManual_)&&Le(9);const{scope_:r}=n;return Vr(r,t),Kr(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=Dt(Vn).applyPatches_;return rt(e)?r(e,t):this.produce(e,s=>r(s,t))}};function Xn(e,t,n,r){const[s,i]=bn(t)?Dt(mn).proxyMap_(t,n):kn(t)?Dt(mn).proxySet_(t,n):wo(t,n);return(n?.scope_??Gs()).drafts_.push(s),i.callbacks_=n?.callbacks_??[],i.key_=r,n&&r!==void 0?mo(n,i,r):i.callbacks_.push(function(o){o.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:u}=o;i.modified_&&u&&u.generatePatches_(i,[],o)}),s}function bo(e){return rt(e)||Le(10,e),Xs(e)}function Xs(e){if(!We(e)||Tn(e))return e;const t=e[ge];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Gn(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Gn(e,!0);return $t(n,(s,i)=>{pn(n,s,Xs(i))},r),t&&(t.finalized_=!1),n}var ko=new xo,$s=ko.produce;function Qs(e){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,e):s(i)}var To=Qs(),Eo=Qs,So=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vn:vn.apply(null,arguments)};function Xr(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(nt(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>oo(r)&&r.type===e,n}var Zs=class Nt extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Nt.prototype)}static get[Symbol.species](){return Nt}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Nt(...t[0].concat(this)):new Nt(...t.concat(this))}};function $r(e){return We(e)?$s(e,()=>{}):e}function nn(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Io(e){return typeof e=="boolean"}var Po=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let a=new Zs;return n&&(Io(n)?a.push(To):a.push(Eo(n.extraArgument))),a},Mo="RTK_autoBatch",Qr=e=>t=>{setTimeout(t,e)},Co=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,i=!1,a=!1;const l=new Set,o=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Qr(10):e.type==="callback"?e.queueNotification:Qr(e.timeout),u=()=>{a=!1,i&&(i=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>s&&f(),_=r.subscribe(p);return l.add(f),()=>{_(),l.delete(f)}},dispatch(f){try{return s=!f?.meta?.[Mo],i=!s,i&&(a||(a=!0,o(u))),r.dispatch(f)}finally{s=!0}}})},Ao=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new Zs(e);return r&&s.push(Co(typeof r=="object"?r:void 0)),s};function Do(e){const t=Po(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:a=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(ur(n))l=io(n);else throw new Error(nt(1));let o;typeof r=="function"?o=r(t):o=t();let u=vn;s&&(u=So({trace:!1,...typeof s=="object"&&s}));const f=ao(...o),p=Ao(f);let _=typeof a=="function"?a(p):p();const m=u(..._);return js(l,i,m)}function Js(e){const t={},n=[];let r;const s={addCase(i,a){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(nt(28));if(l in t)throw new Error(nt(29));return t[l]=a,s},addAsyncThunk(i,a){return a.pending&&(t[i.pending.type]=a.pending),a.rejected&&(t[i.rejected.type]=a.rejected),a.fulfilled&&(t[i.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:i.settled,reducer:a.settled}),s},addMatcher(i,a){return n.push({matcher:i,reducer:a}),s},addDefaultCase(i){return r=i,s}};return e(s),[t,n,r]}function Ro(e){return typeof e=="function"}function Oo(e,t){let[n,r,s]=Js(t),i;if(Ro(e))i=()=>$r(e());else{const l=$r(e);i=()=>l}function a(l=i(),o){let u=[n[o.type],...r.filter(({matcher:f})=>f(o)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[s]),u.reduce((f,p)=>{if(p)if(rt(f)){const m=p(f,o);return m===void 0?f:m}else{if(We(f))return $s(f,_=>p(_,o));{const _=p(f,o);if(_===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return f},l)}return a.getInitialState=i,a}var zo=Symbol.for("rtk-slice-createasyncthunk");function Ho(e,t){return`${e}/${t}`}function No({creators:e}={}){const t=e?.asyncThunk?.[zo];return function(r){const{name:s,reducerPath:i=s}=r;if(!s)throw new Error(nt(11));const a=(typeof r.reducers=="function"?r.reducers(Lo()):r.reducers)||{},l=Object.keys(a),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(P,S){const j=typeof P=="string"?P:P.type;if(!j)throw new Error(nt(12));if(j in o.sliceCaseReducersByType)throw new Error(nt(13));return o.sliceCaseReducersByType[j]=S,u},addMatcher(P,S){return o.sliceMatchers.push({matcher:P,reducer:S}),u},exposeAction(P,S){return o.actionCreators[P]=S,u},exposeCaseReducer(P,S){return o.sliceCaseReducersByName[P]=S,u}};l.forEach(P=>{const S=a[P],j={reducerName:P,type:Ho(s,P),createNotation:typeof r.reducers=="function"};qo(S)?Uo(j,S,u,t):jo(j,S,u)});function f(){const[P={},S=[],j=void 0]=typeof r.extraReducers=="function"?Js(r.extraReducers):[r.extraReducers],C={...P,...o.sliceCaseReducersByType};return Oo(r.initialState,K=>{for(let N in C)K.addCase(N,C[N]);for(let N of o.sliceMatchers)K.addMatcher(N.matcher,N.reducer);for(let N of S)K.addMatcher(N.matcher,N.reducer);j&&K.addDefaultCase(j)})}const p=P=>P,_=new Map,m=new WeakMap;let T;function O(P,S){return T||(T=f()),T(P,S)}function w(){return T||(T=f()),T.getInitialState()}function E(P,S=!1){function j(K){let N=K[P];return typeof N>"u"&&S&&(N=nn(m,j,w)),N}function C(K=p){const N=nn(_,S,()=>new WeakMap);return nn(N,K,()=>{const b={};for(const[y,k]of Object.entries(r.selectors??{}))b[y]=Fo(k,K,()=>nn(m,K,w),S);return b})}return{reducerPath:P,getSelectors:C,get selectors(){return C(j)},selectSlice:j}}const U={name:s,reducer:O,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:w,...E(i),injectInto(P,{reducerPath:S,...j}={}){const C=S??i;return P.inject({reducerPath:C,reducer:O},j),{...U,...E(C,!0)}}};return U}}function Fo(e,t,n,r){function s(i,...a){let l=t(i);return typeof l>"u"&&r&&(l=n()),e(l,...a)}return s.unwrapped=e,s}var ei=No();function Lo(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function jo({type:e,reducerName:t,createNotation:n},r,s){let i,a;if("reducer"in r){if(n&&!Bo(r))throw new Error(nt(17));i=r.reducer,a=r.prepare}else i=r;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?Xr(e,a):Xr(e))}function qo(e){return e._reducerDefinitionType==="asyncThunk"}function Bo(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Uo({type:e,reducerName:t},n,r,s){if(!s)throw new Error(nt(18));const{payloadCreator:i,fulfilled:a,pending:l,rejected:o,settled:u,options:f}=n,p=s(e,i,f);r.exposeAction(t,p),a&&r.addCase(p.fulfilled,a),l&&r.addCase(p.pending,l),o&&r.addCase(p.rejected,o),u&&r.addMatcher(p.settled,u),r.exposeCaseReducer(t,{fulfilled:a||rn,pending:l||rn,rejected:o||rn,settled:u||rn})}function rn(){}function nt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Zt=[{id:"kobold",name:"Kobold Dragonshield",ac:14,hp:1,maxHp:1,xp:1,imagePath:"assets/Monster_KoboldDragonshield.png"},{id:"snake",name:"Snake",ac:12,hp:1,maxHp:1,xp:1,imagePath:"assets/Monster_Snake.png"},{id:"cultist",name:"Cultist",ac:13,hp:2,maxHp:2,xp:1,imagePath:"assets/Monster_Cultist.png"}],Go=["kobold","kobold","kobold","snake","snake","snake","cultist","cultist","cultist"],ti=[{id:"quinn",name:"Quinn",heroClass:"Cleric",imagePath:"assets/Hero_Cleric_Quinn.png",speed:5,attack:{name:"Mace",attackBonus:6,damage:2,range:1}},{id:"vistra",name:"Vistra",heroClass:"Fighter",imagePath:"assets/Hero_Fighter_Vistra.png",speed:5,attack:{name:"Warhammer",attackBonus:8,damage:2,range:1}},{id:"keyleth",name:"Keyleth",heroClass:"Paladin",imagePath:"assets/Hero_Paladin_Keyleth.png",speed:6,attack:{name:"Longsword",attackBonus:7,damage:2,range:1}},{id:"tarak",name:"Tarak",heroClass:"Rogue",imagePath:"assets/Hero_Rogue_Tarak.png",speed:6,attack:{name:"Short Sword",attackBonus:7,damage:2,range:1}},{id:"haskan",name:"Haskan",heroClass:"Wizard",imagePath:"assets/Hero_Wizard_Haskan.png",speed:6,attack:{name:"Quarterstaff",attackBonus:4,damage:1,range:1}}],Vo=[{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:3,y:3},{x:3,y:4},{x:1,y:5},{x:2,y:5},{x:3,y:5}],ni=[{tileType:"tile-2exit-a",imagePath:"assets/Tile_Black_x2_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-2exit-b",imagePath:"assets/Tile_Black_x2_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-2exit-c",imagePath:"assets/Tile_Black_x2_03.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-a",imagePath:"assets/Tile_Black_x3_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-b",imagePath:"assets/Tile_Black_x3_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-c",imagePath:"assets/Tile_Black_x3_03.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-4exit-a",imagePath:"assets/Tile_Black_x4_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-4exit-b",imagePath:"assets/Tile_Black_x4_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}}],Wo=["tile-2exit-a","tile-2exit-b","tile-2exit-c","tile-3exit-a","tile-3exit-b","tile-3exit-c","tile-4exit-a","tile-4exit-b"],Ko={id:"start-tile",tileType:"start",position:{col:0,row:0},rotation:0,edges:{north:"unexplored",south:"unexplored",east:"unexplored",west:"unexplored"}},Yo={availableHeroes:ti,selectedHeroes:[],heroEdgeMap:{}},ri=ei({name:"heroes",initialState:Yo,reducers:{toggleHeroSelection:(e,t)=>{const n=t.payload,r=e.selectedHeroes.findIndex(s=>s.id===n);if(r>=0)e.selectedHeroes.splice(r,1),delete e.heroEdgeMap[n];else if(e.selectedHeroes.length<5){const s=e.availableHeroes.find(i=>i.id===n);s&&e.selectedHeroes.push(s)}},selectHeroFromEdge:(e,t)=>{const{heroId:n,edge:r}=t.payload,s=e.selectedHeroes.findIndex(i=>i.id===n);if(s>=0)e.heroEdgeMap[n]===r&&(e.selectedHeroes.splice(s,1),delete e.heroEdgeMap[n]);else if(e.selectedHeroes.length<5){const i=e.availableHeroes.find(a=>a.id===n);i&&(e.selectedHeroes.push(i),e.heroEdgeMap[n]=r)}},clearSelection:e=>{e.selectedHeroes=[],e.heroEdgeMap={}}}}),{toggleHeroSelection:Ic,selectHeroFromEdge:Xo,clearSelection:Pc}=ri.actions,$o=ri.reducer,Ft={minX:1,maxX:3,minY:0,maxY:7,staircase:[{x:1,y:3},{x:2,y:3},{x:1,y:4},{x:2,y:4}]},bt=4,Qo=4,Zo=8;function si(e){const{col:t,row:n}=e.position;if(e.tileType==="start")return{minX:0,maxX:3,minY:0,maxY:7};let r,s;return t>0?r=Qo+(t-1)*bt:t<0?r=t*bt:r=0,n>0?s=Zo+(n-1)*bt:n<0?s=n*bt:s=0,{minX:r,maxX:r+bt-1,minY:s,maxY:s+bt-1}}function gn(e,t){for(const n of t.tiles){const r=si(n);if(e.x>=r.minX&&e.x<=r.maxX&&e.y>=r.minY&&e.y<=r.maxY)return n}return null}function Jo(e){return e.x>=Ft.minX&&e.x<=Ft.maxX&&e.y>=Ft.minY&&e.y<=Ft.maxY}function ii(e){return Ft.staircase.some(t=>t.x===e.x&&t.y===e.y)}function el(e,t){return Jo(e)&&!ii(e)}function tl(e,t,n){return t.some(r=>r.position.x===e.x&&r.position.y===e.y&&r.heroId!==n)}function nl(e,t,n,r){const s=r.x-n.x,i=r.y-n.y;if(s!==0&&i!==0)return!1;let a,l;return i<0?(a="north",l="south"):i>0?(a="south",l="north"):s>0?(a="east",l="west"):(a="west",l="east"),!(e.edges[a]!=="open"||t.edges[l]!=="open")}function rl(e,t){const n=[],r=[{dx:0,dy:-1,cardinal:!0},{dx:0,dy:1,cardinal:!0},{dx:-1,dy:0,cardinal:!0},{dx:1,dy:0,cardinal:!0},{dx:-1,dy:-1,cardinal:!1},{dx:1,dy:-1,cardinal:!1},{dx:-1,dy:1,cardinal:!1},{dx:1,dy:1,cardinal:!1}];if(!t){for(const i of r){const a={x:e.x+i.dx,y:e.y+i.dy};el(a)&&n.push(a)}return n}const s=gn(e,t);if(!s)return n;for(const i of r){const a={x:e.x+i.dx,y:e.y+i.dy},l=gn(a,t);if(l&&!(l.tileType==="start"&&(ii(a)||a.x<1))){if(s.id===l.id){n.push(a);continue}i.cardinal&&nl(s,l,e,a)&&n.push(a)}}return n}function sl(e,t,n,r,s){const i=[],a=new Set,l=[{pos:e,distance:0}];for(a.add(`${e.x},${e.y}`);l.length>0;){const o=l.shift();if(!o)break;if(o.distance>0&&!tl(o.pos,n,r)&&i.push(o.pos),o.distance<t){const u=rl(o.pos,s);for(const f of u){const p=`${f.x},${f.y}`;a.has(p)||(a.add(p),l.push({pos:f,distance:o.distance+1}))}}}return i}function il(e,t){return t.some(n=>n.x===e.x&&n.y===e.y)}const al={north:[{x:1,y:0},{x:2,y:0},{x:3,y:0}],south:[{x:1,y:7},{x:2,y:7},{x:3,y:7}],east:[{x:3,y:0},{x:3,y:1},{x:3,y:2},{x:3,y:5},{x:3,y:6},{x:3,y:7}],west:[{x:1,y:0},{x:1,y:1},{x:1,y:2},{x:1,y:5},{x:1,y:6},{x:1,y:7}]};function ol(e,t){return al[t].some(r=>r.x===e.x&&r.y===e.y)}function pr(e){return{north:"south",south:"north",east:"west",west:"east"}[e]}function ll(e,t){const n=t.tiles.find(r=>r.id==="start-tile");if(!n)return null;for(const r of t.unexploredEdges)if(r.tileId===n.id&&ol(e.position,r.direction))return r;return null}function cl(e,t){const{col:n,row:r}=e.position;switch(t){case"north":return{col:n,row:r-1};case"south":return{col:n,row:r+1};case"east":return{col:n+1,row:r};case"west":return{col:n-1,row:r}}}function ul(e){const t=pr(e);return{south:0,west:90,north:180,east:270}[t]}function fl(e){return ni.find(t=>t.tileType===e)}function dl(e,t,n){const r=n.tiles.find(f=>f.id===e.tileId);if(!r)return null;const s=cl(r,e.direction),i=ul(e.direction);if(!fl(t))return null;const l=`tile-${n.tiles.length}`,u={north:"unexplored",south:"unexplored",east:"unexplored",west:"unexplored",[pr(e.direction)]:"open"};return{id:l,tileType:t,position:s,rotation:i,edges:u}}function $n(){return{tiles:[{...Ko}],unexploredEdges:[{tileId:"start-tile",direction:"north"},{tileId:"start-tile",direction:"south"},{tileId:"start-tile",direction:"east"},{tileId:"start-tile",direction:"west"}],tileDeck:[]}}function vl(e,t=Math.random){const n=[...e];for(let r=n.length-1;r>0;r--){const s=Math.floor(t()*(r+1));[n[r],n[s]]=[n[s],n[r]]}return n}function hl(e,t=Math.random){return vl(e,t)}function _l(e){if(e.length===0)return{drawnTile:null,remainingDeck:[]};const[t,...n]=e;return{drawnTile:t,remainingDeck:n}}function pl(e,t,n){const r=e.unexploredEdges.filter(o=>!(o.tileId===t.tileId&&o.direction===t.direction)),s=pr(t.direction),a=["north","south","east","west"].filter(o=>o!==s&&n.edges[o]==="unexplored").map(o=>({tileId:n.id,direction:o}));return{tiles:[...e.tiles.map(o=>o.id===t.tileId?{...o,edges:{...o.edges,[t.direction]:"open"}}:o),n],unexploredEdges:[...r,...a],tileDeck:e.tileDeck}}function ai(e,t=Math.random){const n=[...e];for(let r=n.length-1;r>0;r--){const s=Math.floor(t()*(r+1));[n[r],n[s]]=[n[s],n[r]]}return n}function ml(e=Math.random){return{drawPile:ai([...Go],e),discardPile:[]}}function gl(e,t=Math.random){if(e.drawPile.length===0){if(e.discardPile.length===0)return{monster:null,deck:e};const s=ai(e.discardPile,t);return{monster:s[0],deck:{drawPile:s.slice(1),discardPile:[]}}}const[n,...r]=e.drawPile;return{monster:n,deck:{drawPile:r,discardPile:e.discardPile}}}function wl(e,t){return{drawPile:e.drawPile,discardPile:[...e.discardPile,t]}}function oi(e){return Zt.find(t=>t.id===e)}function yl(e,t,n,r,s){const i=oi(e);return i?{monsterId:e,instanceId:`${e}-${s}`,position:t,currentHp:i.hp,controllerId:n,tileId:r}:null}const xl=4,Zr=Math.floor(xl/2);function bl(){return{x:Zr,y:Zr}}const Qn={currentHeroIndex:0,currentPhase:"hero-phase",turnNumber:1},kl={currentScreen:"character-select",heroTokens:[],turnState:{...Qn},validMoveSquares:[],showingMovement:!1,dungeon:$n(),monsterDeck:{drawPile:[],discardPile:[]},monsters:[],monsterInstanceCounter:0,recentlySpawnedMonsterId:null,attackResult:null,attackTargetId:null};function Tl(e){let t=e;return()=>(t=t*1103515245+12345&2147483647,t/2147483647)}function El(e,t=Math.random){const n=[...e];for(let r=n.length-1;r>0;r--){const s=Math.floor(t()*(r+1));[n[r],n[s]]=[n[s],n[r]]}return n}const li=ei({name:"game",initialState:kl,reducers:{startGame:(e,t)=>{const{heroIds:n,positions:r,seed:s}=t.payload;if(n.length===0||n.length>5)return;const i=s??Date.now();e.randomSeed=i;let a;const l=Tl(i);r?a=r:a=El(Vo,l).slice(0,5),e.heroTokens=n.map((u,f)=>({heroId:u,position:a[f]})),e.turnState={...Qn},e.validMoveSquares=[],e.showingMovement=!1;const o=$n();o.tileDeck=hl([...Wo],l),e.dungeon=o,e.monsterDeck=ml(l),e.monsters=[],e.monsterInstanceCounter=0,e.recentlySpawnedMonsterId=null,e.attackResult=null,e.attackTargetId=null,e.currentScreen="game-board"},setHeroPosition:(e,t)=>{const n=e.heroTokens.find(r=>r.heroId===t.payload.heroId);n&&(n.position=t.payload.position)},showMovement:(e,t)=>{const{heroId:n,speed:r}=t.payload,s=e.heroTokens.find(i=>i.heroId===n);s&&(e.validMoveSquares=sl(s.position,r,e.heroTokens,n,e.dungeon),e.showingMovement=!0)},hideMovement:e=>{e.validMoveSquares=[],e.showingMovement=!1},moveHero:(e,t)=>{const{heroId:n,position:r}=t.payload;if(!il(r,e.validMoveSquares))return;const s=e.heroTokens.find(i=>i.heroId===n);s&&(s.position=r,e.validMoveSquares=[],e.showingMovement=!1)},resetGame:e=>{e.currentScreen="character-select",e.heroTokens=[],e.turnState={...Qn},e.randomSeed=void 0,e.validMoveSquares=[],e.showingMovement=!1,e.dungeon=$n(),e.monsterDeck={drawPile:[],discardPile:[]},e.monsters=[],e.monsterInstanceCounter=0,e.recentlySpawnedMonsterId=null,e.attackResult=null,e.attackTargetId=null},endHeroPhase:e=>{if(e.turnState.currentPhase!=="hero-phase")return;e.recentlySpawnedMonsterId=null;const t=e.heroTokens[e.turnState.currentHeroIndex];if(!t)return;const n=ll(t,e.dungeon);if(n&&e.dungeon.tileDeck.length>0){const{drawnTile:r,remainingDeck:s}=_l(e.dungeon.tileDeck);if(r){const i=dl(n,r,e.dungeon);if(i){e.dungeon=pl(e.dungeon,n,i),e.dungeon.tileDeck=s;const{monster:a,deck:l}=gl(e.monsterDeck);if(a){const o=bl(),u=yl(a,o,t.heroId,i.id,e.monsterInstanceCounter);u&&(e.monsters.push(u),e.monsterInstanceCounter+=1,e.recentlySpawnedMonsterId=u.instanceId),e.monsterDeck=l}}}}e.turnState.currentPhase="exploration-phase"},endExplorationPhase:e=>{e.turnState.currentPhase==="exploration-phase"&&(e.turnState.currentPhase="villain-phase")},endVillainPhase:e=>{e.turnState.currentPhase==="villain-phase"&&(e.turnState.currentHeroIndex=(e.turnState.currentHeroIndex+1)%e.heroTokens.length,e.turnState.currentHeroIndex===0&&(e.turnState.turnNumber+=1),e.turnState.currentPhase="hero-phase")},dismissMonsterCard:e=>{e.recentlySpawnedMonsterId=null},setAttackResult:(e,t)=>{const{result:n,targetInstanceId:r}=t.payload;if(e.attackResult=n,e.attackTargetId=r,n.isHit&&n.damage>0){const s=e.monsters.find(i=>i.instanceId===r);s&&(s.currentHp-=n.damage,s.currentHp<=0&&(e.monsters=e.monsters.filter(i=>i.instanceId!==r),e.monsterDeck=wl(e.monsterDeck,s.monsterId)))}},dismissAttackResult:e=>{e.attackResult=null,e.attackTargetId=null},setMonsters:(e,t)=>{e.monsters=t.payload}}}),{startGame:Sl,setHeroPosition:Mc,showMovement:Il,hideMovement:Pl,moveHero:Ml,resetGame:Cl,endHeroPhase:Al,endExplorationPhase:Dl,endVillainPhase:Rl,dismissMonsterCard:Ol,setAttackResult:zl,dismissAttackResult:Hl,setMonsters:Cc}=li.actions,Nl=li.reducer,ee=Do({reducer:{heroes:$o,game:Nl}});typeof window<"u"&&(window.__REDUX_STORE__=ee);function De(e){const t="/Ashardalon/",n=e.startsWith("/")?e.slice(1):e;return(t.endsWith("/")?t:t+"/")+n}var Fl=X('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Ll=X('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),jl=X('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),ql=X('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Bl=X('<div class="character-select svelte-1rwnzlz" data-testid="character-select"><div class="edge-zone edge-top svelte-1rwnzlz" data-testid="edge-top"><div class="hero-row svelte-1rwnzlz" data-testid="hero-grid"></div></div> <div class="middle-section svelte-1rwnzlz"><div class="edge-zone edge-left svelte-1rwnzlz" data-testid="edge-left"><div class="hero-column svelte-1rwnzlz"></div></div> <div class="center-zone svelte-1rwnzlz" data-testid="center-zone"><h1 class="svelte-1rwnzlz">Select Your Heroes</h1> <p class="instructions svelte-1rwnzlz">Choose 1-5 heroes for your adventure</p> <p class="instructions svelte-1rwnzlz">Tap a hero from your edge of the table</p> <div class="selection-info svelte-1rwnzlz"><span data-testid="selected-count"> </span></div> <button class="start-button svelte-1rwnzlz" data-testid="start-game-button">Start Adventure</button></div> <div class="edge-zone edge-right svelte-1rwnzlz" data-testid="edge-right"><div class="hero-column svelte-1rwnzlz"></div></div></div> <div class="edge-zone edge-bottom svelte-1rwnzlz" data-testid="edge-bottom"><div class="hero-row svelte-1rwnzlz"></div></div></div>');function Ul(e,t){Ke(t,!0);let n=Z(me([])),r=Z(me([])),s=Z(me({}));cn(()=>{const b=ee.subscribe(()=>{const k=ee.getState();R(n,k.heroes.selectedHeroes,!0),R(r,k.heroes.availableHeroes,!0),R(s,k.heroes.heroEdgeMap,!0)}),y=ee.getState();return R(n,y.heroes.selectedHeroes,!0),R(r,y.heroes.availableHeroes,!0),R(s,y.heroes.heroEdgeMap,!0),b});function i(b,y){return c(s)[b]===y}function a(b,y){const k=c(s)[b];return k!==void 0&&k!==y}function l(b,y){ee.dispatch(Xo({heroId:b,edge:y}))}function o(){c(n).length>0&&ee.dispatch(Sl({heroIds:c(n).map(b=>b.id)}))}function u(){return c(n).length>=1&&c(n).length<=5}var f=Bl(),p=h(f),_=h(p);Ue(_,21,()=>c(r),b=>b.id,(b,y)=>{var k=Fl();let V;k.__click=()=>l(c(y).id,"top");var $=h(k),se=x($,2),ie=h(se),ne=h(ie),ze=x(ie,2),B=h(ze);te((le,_e,ae)=>{V=Fe(k,1,"hero-card svelte-1rwnzlz",null,V,le),z(k,"data-testid",`hero-${c(y).id??""}-top`),k.disabled=_e,z($,"src",ae),z($,"alt",c(y).name),D(ne,c(y).name),D(B,c(y).heroClass)},[()=>({selected:i(c(y).id,"top"),unavailable:a(c(y).id,"top")}),()=>a(c(y).id,"top"),()=>De(c(y).imagePath)]),A(b,k)});var m=x(p,2),T=h(m),O=h(T);Ue(O,21,()=>c(r),b=>b.id,(b,y)=>{var k=Ll();let V;k.__click=()=>l(c(y).id,"left");var $=h(k),se=x($,2),ie=h(se),ne=h(ie),ze=x(ie,2),B=h(ze);te((le,_e,ae)=>{V=Fe(k,1,"hero-card svelte-1rwnzlz",null,V,le),z(k,"data-testid",`hero-${c(y).id??""}-left`),k.disabled=_e,z($,"src",ae),z($,"alt",c(y).name),D(ne,c(y).name),D(B,c(y).heroClass)},[()=>({selected:i(c(y).id,"left"),unavailable:a(c(y).id,"left")}),()=>a(c(y).id,"left"),()=>De(c(y).imagePath)]),A(b,k)});var w=x(T,2),E=x(h(w),6),U=h(E),P=h(U),S=x(E,2);S.__click=o;var j=x(w,2),C=h(j);Ue(C,21,()=>c(r),b=>b.id,(b,y)=>{var k=jl();let V;k.__click=()=>l(c(y).id,"right");var $=h(k),se=x($,2),ie=h(se),ne=h(ie),ze=x(ie,2),B=h(ze);te((le,_e,ae)=>{V=Fe(k,1,"hero-card svelte-1rwnzlz",null,V,le),z(k,"data-testid",`hero-${c(y).id??""}-right`),k.disabled=_e,z($,"src",ae),z($,"alt",c(y).name),D(ne,c(y).name),D(B,c(y).heroClass)},[()=>({selected:i(c(y).id,"right"),unavailable:a(c(y).id,"right")}),()=>a(c(y).id,"right"),()=>De(c(y).imagePath)]),A(b,k)});var K=x(m,2),N=h(K);Ue(N,21,()=>c(r),b=>b.id,(b,y)=>{var k=ql();let V;k.__click=()=>l(c(y).id,"bottom");var $=h(k),se=x($,2),ie=h(se),ne=h(ie),ze=x(ie,2),B=h(ze);te((le,_e,ae)=>{V=Fe(k,1,"hero-card svelte-1rwnzlz",null,V,le),z(k,"data-testid",`hero-${c(y).id??""}`),k.disabled=_e,z($,"src",ae),z($,"alt",c(y).name),D(ne,c(y).name),D(B,c(y).heroClass)},[()=>({selected:i(c(y).id,"bottom"),unavailable:a(c(y).id,"bottom")}),()=>a(c(y).id,"bottom"),()=>De(c(y).imagePath)]),A(b,k)}),te(b=>{D(P,`${c(n).length??""} heroes selected`),S.disabled=b},[()=>!u()]),A(e,f),Ye()}zt(["click"]);var Gl=X('<button class="move-square svelte-ehd1hj" data-testid="move-square"><span class="sr-only svelte-ehd1hj"> </span></button>'),Vl=X('<div class="movement-overlay svelte-ehd1hj" data-testid="movement-overlay"></div>');function Wl(e,t){Ke(t,!0);function n(i){const a=t.tileOffsetX+i.x*t.cellSize,l=t.tileOffsetY+i.y*t.cellSize;return`left: ${a}px; top: ${l}px; width: ${t.cellSize}px; height: ${t.cellSize}px;`}function r(i,a){i.stopPropagation(),t.onSquareClick(a)}var s=Vl();Ue(s,21,()=>t.validMoveSquares,i=>`${i.x},${i.y}`,(i,a)=>{var l=Gl();l.__click=f=>r(f,c(a));var o=h(l),u=h(o);te(f=>{z(l,"data-position-x",c(a).x),z(l,"data-position-y",c(a).y),ct(l,f),D(u,`Move to (${c(a).x??""}, ${c(a).y??""})`)},[()=>n(c(a))]),A(i,l)}),A(e,s),Ye()}zt(["click"]);var Kl=X('<div class="tile-deck-counter svelte-9649r" data-testid="tile-deck-counter"><span class="deck-icon svelte-9649r">ð¦</span> <span class="deck-count svelte-9649r" data-testid="tile-deck-count"> </span> <span class="deck-label svelte-9649r">tiles</span></div>');function Yl(e,t){var n=Kl(),r=x(h(n),2),s=h(r);te(()=>D(s,t.tileCount)),A(e,n)}var Xl=X('<div class="unexplored-edge svelte-12eown4" data-testid="unexplored-edge"><span class="question-mark svelte-12eown4">?</span></div>');function $l(e,t){Ke(t,!0);const r=(()=>{const l=t.cellSize*1.5,o=36;switch(t.direction){case"north":return{left:`${t.tileWidth/2-l/2}px`,top:`${o-8/2}px`,width:`${l}px`,height:"8px"};case"south":return{left:`${t.tileWidth/2-l/2}px`,bottom:`${o-8/2}px`,width:`${l}px`,height:"8px"};case"east":return{right:`${o-8/2}px`,top:`${t.tileHeight/2-l/2}px`,width:"8px",height:`${l}px`};case"west":return{left:`${o-8/2}px`,top:`${t.tileHeight/2-l/2}px`,width:"8px",height:`${l}px`}}})(),s=Object.entries(r).map(([a,l])=>`${a}: ${l}`).join("; ");var i=Xl();te(()=>{z(i,"data-direction",t.direction),ct(i,s)}),A(e,i),Ye()}var Ql=X('<div class="monster-token svelte-1g5ysl" data-testid="monster-token"><img class="token-image svelte-1g5ysl"/> <span class="token-label svelte-1g5ysl"> </span></div>');function Zl(e,t){Ke(t,!0);const n=G(()=>Zt.find(l=>l.id===t.monster.monsterId)),r=G(()=>()=>{const l=t.cellSize/2,o=t.tilePixelOffset.x+t.tileOffsetX+t.monster.position.x*t.cellSize+l,u=t.tilePixelOffset.y+t.tileOffsetY+t.monster.position.y*t.cellSize+l;return`left: ${o}px; top: ${u}px;`});var s=xe(),i=ye(s);{var a=l=>{var o=Ql(),u=h(o),f=x(u,2),p=h(f);te((_,m)=>{z(o,"data-monster-id",t.monster.instanceId),ct(o,_),z(u,"src",m),z(u,"alt",c(n).name),D(p,c(n).name)},[()=>c(r)(),()=>De(c(n).imagePath)]),A(l,o)};Q(i,l=>{c(n)&&l(a)})}A(e,s),Ye()}var Jl=X('<div class="monster-card-overlay svelte-at5lsg" role="dialog" aria-modal="true" aria-label="Monster spawned" tabindex="0" data-testid="monster-card-overlay"><div class="monster-card svelte-at5lsg" role="article" data-testid="monster-card"><div class="card-header svelte-at5lsg"><h3 class="monster-name svelte-at5lsg" data-testid="monster-name"> </h3> <button class="dismiss-button svelte-at5lsg" aria-label="Dismiss monster card" data-testid="dismiss-monster-card">â</button></div> <div class="card-image svelte-at5lsg"><img class="monster-image svelte-at5lsg"/></div> <div class="card-stats svelte-at5lsg"><div class="stat svelte-at5lsg"><span class="stat-label svelte-at5lsg">AC</span> <span class="stat-value svelte-at5lsg" data-testid="monster-ac"> </span></div> <div class="stat svelte-at5lsg"><span class="stat-label svelte-at5lsg">HP</span> <span class="stat-value svelte-at5lsg" data-testid="monster-hp"> </span></div> <div class="stat svelte-at5lsg"><span class="stat-label svelte-at5lsg">XP</span> <span class="stat-value svelte-at5lsg" data-testid="monster-xp"> </span></div></div> <p class="card-hint svelte-at5lsg">Click anywhere to dismiss</p></div></div>');function ec(e,t){Ke(t,!0);const n=G(()=>Zt.find(o=>o.id===t.monsterId));function r(){t.onDismiss&&t.onDismiss()}function s(o){(o.key==="Escape"||o.key==="Enter"||o.key===" ")&&(o.preventDefault(),r())}var i=xe(),a=ye(i);{var l=o=>{var u=Jl();u.__click=r,u.__keydown=s;var f=h(u);f.__click=k=>k.stopPropagation(),f.__keydown=k=>k.stopPropagation();var p=h(f),_=h(p),m=h(_),T=x(_,2);T.__click=r;var O=x(p,2),w=h(O),E=x(O,2),U=h(E),P=x(h(U),2),S=h(P),j=x(U,2),C=x(h(j),2),K=h(C),N=x(j,2),b=x(h(N),2),y=h(b);te(k=>{D(m,c(n).name),z(w,"src",k),z(w,"alt",c(n).name),D(S,c(n).ac),D(K,c(n).hp),D(y,c(n).xp)},[()=>De(c(n).imagePath)]),A(o,u)};Q(a,o=>{c(n)&&o(l)})}A(e,i),Ye()}zt(["click","keydown"]);var tc=X('<button class="attack-button svelte-1ea4ae8" data-testid="attack-button"> </button>'),nc=X('<div class="attack-panel svelte-1ea4ae8" data-testid="attack-panel"><div class="attack-header svelte-1ea4ae8"><span class="attack-label svelte-1ea4ae8"> </span> <span class="attack-stats svelte-1ea4ae8"> </span></div> <div class="attack-targets svelte-1ea4ae8"></div></div>');function rc(e,t){Ke(t,!0);function n(l){return Zt.find(u=>u.id===l)?.name||"Unknown"}function r(l){t.onAttack(l)}var s=xe(),i=ye(s);{var a=l=>{var o=nc(),u=h(o),f=h(u),p=h(f),_=x(f,2),m=h(_),T=x(u,2);Ue(T,21,()=>t.adjacentMonsters,O=>O.instanceId,(O,w)=>{var E=tc();E.__click=()=>r(c(w).instanceId);var U=h(E);te((P,S)=>{z(E,"data-target-id",c(w).instanceId),z(E,"aria-label",`Attack ${P??""}`),D(U,`Attack ${S??""}`)},[()=>n(c(w).monsterId),()=>n(c(w).monsterId)]),A(O,E)}),te(()=>{D(p,`Attack with ${t.heroAttack.name??""}`),D(m,`+${t.heroAttack.attackBonus??""} / ${t.heroAttack.damage??""} dmg`)}),A(l,o)};Q(i,l=>{t.adjacentMonsters.length>0&&l(a)})}A(e,s),Ye()}zt(["click"]);var sc=X('<span class="result-text critical svelte-1jt2qdd" data-testid="result-text">âï¸ CRITICAL HIT!</span>'),ic=X('<span class="result-text hit svelte-1jt2qdd" data-testid="result-text">â HIT!</span>'),ac=X('<span class="result-text miss svelte-1jt2qdd" data-testid="result-text">â MISS!</span>'),oc=X('<div class="damage-info svelte-1jt2qdd" data-testid="damage-info"><span class="damage-value svelte-1jt2qdd"> </span> <span class="damage-label svelte-1jt2qdd"> </span></div>'),lc=X('<div class="combat-result-overlay svelte-1jt2qdd" role="dialog" aria-modal="true" aria-label="Combat result" tabindex="0" data-testid="combat-result-overlay"><div role="document" data-testid="combat-result"><div class="result-header svelte-1jt2qdd"><h3 class="attacker-info svelte-1jt2qdd" data-testid="attacker-info"> </h3> <button class="dismiss-button svelte-1jt2qdd" aria-label="Dismiss combat result" data-testid="dismiss-combat-result">â</button></div> <div class="dice-roll-section svelte-1jt2qdd"><div class="dice-container svelte-1jt2qdd"><span class="d20-icon svelte-1jt2qdd" aria-label="D20 die">D20</span> <span class="roll-value svelte-1jt2qdd" data-testid="roll-value"> </span></div> <div class="roll-breakdown svelte-1jt2qdd"><div class="breakdown-row svelte-1jt2qdd"><span class="breakdown-label svelte-1jt2qdd">Roll:</span> <span class="breakdown-value svelte-1jt2qdd" data-testid="dice-roll"> </span></div> <div class="breakdown-row svelte-1jt2qdd"><span class="breakdown-label svelte-1jt2qdd">+ Bonus:</span> <span class="breakdown-value svelte-1jt2qdd" data-testid="attack-bonus"> </span></div> <div class="breakdown-divider svelte-1jt2qdd"></div> <div class="breakdown-row total svelte-1jt2qdd"><span class="breakdown-label svelte-1jt2qdd">Total:</span> <span class="breakdown-value svelte-1jt2qdd" data-testid="attack-total"> </span></div> <div class="breakdown-row target svelte-1jt2qdd"><span class="breakdown-label svelte-1jt2qdd">vs AC:</span> <span class="breakdown-value svelte-1jt2qdd" data-testid="target-ac"> </span></div></div></div> <div class="result-section svelte-1jt2qdd"><!> <!></div> <p class="dismiss-hint svelte-1jt2qdd">Click anywhere to dismiss</p></div></div>');function cc(e,t){Ke(t,!0);function n(){t.onDismiss&&t.onDismiss()}function r(B){(B.key==="Escape"||B.key==="Enter"||B.key===" ")&&(B.preventDefault(),n())}var s=lc();s.__click=n,s.__keydown=r;var i=h(s);let a;i.__click=B=>B.stopPropagation(),i.__keydown=B=>B.stopPropagation();var l=h(i),o=h(l),u=h(o),f=x(o,2);f.__click=n;var p=x(l,2),_=h(p),m=x(h(_),2),T=h(m),O=x(_,2),w=h(O),E=x(h(w),2),U=h(E),P=x(w,2),S=x(h(P),2),j=h(S),C=x(P,4),K=x(h(C),2),N=h(K),b=x(C,2),y=x(h(b),2),k=h(y),V=x(p,2),$=h(V);{var se=B=>{var le=sc();A(B,le)},ie=B=>{var le=xe(),_e=ye(le);{var ae=Ee=>{var Ht=ic();A(Ee,Ht)},ce=Ee=>{var Ht=ac();A(Ee,Ht)};Q(_e,Ee=>{t.result.isHit?Ee(ae):Ee(ce,!1)},!0)}A(B,le)};Q($,B=>{t.result.isCritical?B(se):B(ie,!1)})}var ne=x($,2);{var ze=B=>{var le=oc(),_e=h(le),ae=h(_e),ce=x(_e,2),Ee=h(ce);te(()=>{D(ae,t.result.damage),D(Ee,`damage to ${t.targetName??""}`)}),A(B,le)};Q(ne,B=>{t.result.isHit&&B(ze)})}te(()=>{a=Fe(i,1,"combat-result svelte-1jt2qdd",null,a,{hit:t.result.isHit,miss:!t.result.isHit,critical:t.result.isCritical}),D(u,`${t.attackerName??""} attacks with ${t.attackName??""}!`),D(T,t.result.roll),D(U,t.result.roll),D(j,t.result.attackBonus),D(N,t.result.total),D(k,t.result.targetAC)}),A(e,s),Ye()}zt(["click","keydown"]);function uc(e=Math.random){return Math.floor(e()*20)+1}function fc(e,t,n=Math.random){const r=uc(n),s=r+e.attackBonus,i=r===20||s>=t,a=r===20;return{roll:r,attackBonus:e.attackBonus,total:s,targetAC:t,isHit:i,damage:i?e.damage:0,isCritical:a}}function Jr(e,t){const n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return n<=1&&r<=1&&(n>0||r>0)}function dc(e){return oi(e)?.ac}function vc(e,t){const n=t.tiles.find(s=>s.id===e.tileId);if(!n)return null;const r=si(n);return{x:r.minX+e.position.x,y:r.minY+e.position.y}}function hc(e,t,n,r){return r?gn(e,r)?t.filter(i=>{const a=vc(i,r);return a?Jr(e,a):!1}):[]:t.filter(i=>i.tileId===n&&Jr(e,i.position))}var _c=X('<div class="player-info svelte-8w11tm" data-testid="turn-indicator"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm" data-testid="turn-phase"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),pc=X('<div class="player-info svelte-8w11tm"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),mc=X('<div><img class="tile-image svelte-8w11tm"/> <!></div>'),gc=X('<div class="movement-overlay-container svelte-8w11tm"><!></div>'),wc=X('<div data-testid="hero-token"><img class="token-image svelte-8w11tm"/> <span class="token-label svelte-8w11tm"> </span></div>'),yc=X('<div class="player-info svelte-8w11tm"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),xc=X('<div class="player-info svelte-8w11tm" data-testid="turn-indicator"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm" data-testid="turn-phase"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),bc=X('<div class="game-board svelte-8w11tm" data-testid="game-board"><div data-testid="player-zone-top"><!></div> <div class="middle-section svelte-8w11tm"><div data-testid="player-zone-left"><!></div> <div class="board-container svelte-8w11tm"><div class="dungeon-map svelte-8w11tm" data-testid="dungeon-map" role="button" tabindex="0"><!> <!> <!> <!></div> <div class="board-controls svelte-8w11tm"><!> <button class="end-phase-button svelte-8w11tm" data-testid="end-phase-button"> </button> <button class="reset-button svelte-8w11tm" data-testid="reset-button">â© Return to Character Select</button> <!></div></div> <div data-testid="player-zone-right"><!></div></div> <div data-testid="player-zone-bottom"><!></div> <!> <!></div>');function kc(e,t){Ke(t,!0);const n=140,r=4,s=8,i=4,a=n*r,l=n*s,o=n*i,u=32,f=.15,p=1,_=36,m=36,T=632,O=632,w=1195,E=3,U=0;let P=Z(me([])),S=Z(me([])),j=Z(me({})),C=Z(me({currentHeroIndex:0,currentPhase:"hero-phase",turnNumber:1})),K=Z(me([])),N=Z(!1),b=Z(me({tiles:[],unexploredEdges:[],tileDeck:[]})),y=Z(me([])),k=Z(null),V=Z(null),$=Z(null),se=Z(null),ie=Z(1),ne=G(()=>ze(c(b)));cn(()=>{const d=ee.subscribe(()=>{const g=ee.getState();R(P,g.game.heroTokens,!0),R(S,g.heroes.selectedHeroes,!0),R(j,g.heroes.heroEdgeMap,!0),R(C,g.game.turnState,!0),R(K,g.game.validMoveSquares,!0),R(N,g.game.showingMovement,!0),R(b,g.game.dungeon,!0),R(y,g.game.monsters,!0),R(k,g.game.recentlySpawnedMonsterId,!0),R(V,g.game.attackResult,!0),R($,g.game.attackTargetId,!0)}),v=ee.getState();return R(P,v.game.heroTokens,!0),R(S,v.heroes.selectedHeroes,!0),R(j,v.heroes.heroEdgeMap,!0),R(C,v.game.turnState,!0),R(K,v.game.validMoveSquares,!0),R(N,v.game.showingMovement,!0),R(b,v.game.dungeon,!0),R(y,v.game.monsters,!0),R(k,v.game.recentlySpawnedMonsterId,!0),R(V,v.game.attackResult,!0),R($,v.game.attackTargetId,!0),d});function ze(d){if(d.tiles.length===0)return{minCol:0,maxCol:0,minRow:0,maxRow:0,width:T,height:w};let v=1/0,g=-1/0,I=1/0,M=-1/0;for(const oe of d.tiles)v=Math.min(v,oe.position.col),g=Math.max(g,oe.position.col),I=Math.min(I,oe.position.row),M=Math.max(M,oe.position.row);const F=g-v+1,H=T+(F-1)*a,W=Math.max(0,-I),L=Math.max(0,M),re=w+W*o+L*o;return{minCol:v,maxCol:g,minRow:I,maxRow:M,width:Math.max(H,T),height:Math.max(re,w)}}function B(d,v){const g=(d.position.col-v.minCol)*a;let I=0;return d.position.row<0?I=(d.position.row-v.minRow)*o:d.position.row===0?I=Math.max(0,-v.minRow)*o-E:I=Math.max(0,-v.minRow)*o+l+(d.position.row-1)*o-E-U,{x:g,y:I}}function le(d){return d.tileType==="start"?"assets/StartTile.png":ni.find(g=>g.tileType===d.tileType)?.imagePath||"assets/Tile_Black_x2_01.png"}function _e(d){return d.tileType==="start"?{width:T,height:w}:{width:T,height:O}}cn(()=>{if(c(se)){const d=()=>{const g=c(se);if(!g)return;const I=g.clientWidth-u,M=g.clientHeight-u,F=c(ne),H=I/F.width,W=M/F.height,L=Math.min(H,W,p);R(ie,Math.max(L,f),!0)};d();const v=new ResizeObserver(d);return v.observe(c(se)),()=>v.disconnect()}});function ae(d){return c(S).find(v=>v.id===d)}function ce(){return c(P)[c(C).currentHeroIndex]?.heroId}function Ee(d){switch(d){case"hero-phase":return"Hero Phase";case"exploration-phase":return"Exploration Phase";case"villain-phase":return"Villain Phase"}}function Ht(){ee.dispatch(Cl())}function ci(d,v){const g=n/2,I=v.x+_+d.x*n+g,M=v.y+m+d.y*n+g;return`left: ${I}px; top: ${M}px;`}function lt(){const d=ce();if(d&&c(j)[d])return c(j)[d];const v=c(C).currentHeroIndex%4;return["bottom","right","top","left"][v]}function ui(d){const v=c(j)[d];if(!v)return 0;switch(v){case"bottom":return 0;case"top":return 180;case"left":return 90;case"right":return-90;default:return 0}}function mr(d){if(c(C).currentPhase!=="hero-phase")return;const v=ce();if(!v)return;const g=ae(v);g&&(c(N)?ee.dispatch(Pl()):ee.dispatch(Il({heroId:v,speed:g.speed})))}function fi(d){const v=ce();v&&ee.dispatch(Ml({heroId:v,position:d}))}function di(d){(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),mr())}function vi(){switch(c(C).currentPhase){case"hero-phase":ee.dispatch(Al());break;case"exploration-phase":ee.dispatch(Dl());break;case"villain-phase":ee.dispatch(Rl());break}}function hi(){switch(c(C).currentPhase){case"hero-phase":return"End Hero Phase";case"exploration-phase":return"End Exploration";case"villain-phase":return"End Villain Phase"}}function _i(){ee.dispatch(Ol())}function pi(d){const v=c(b).tiles.find(g=>g.id===d);return v?B(v,c(ne)):{x:0,y:0}}const Sn="start-tile";function mi(){const d=ce();if(!d)return Sn;const v=c(P).find(I=>I.heroId===d);return v?gn(v.position,c(b))?.id??Sn:Sn}function gi(){const d=ce();if(!d)return[];const v=c(P).find(I=>I.heroId===d);if(!v)return[];const g=mi();return hc(v.position,c(y),g,c(b))}function In(d){return ti.find(v=>v.id===d)}function wi(d){const v=ce();if(!v)return;const g=In(v);if(!g)return;const I=c(y).find(H=>H.instanceId===d);if(!I)return;const M=dc(I.monsterId);if(M===void 0)return;const F=fc(g.attack,M);ee.dispatch(zl({result:F,targetInstanceId:d}))}function yi(){ee.dispatch(Hl())}function xi(d){return Zt.find(g=>g.id===d)?.name||"Monster"}function bi(){if(c($))return c(y).find(d=>d.instanceId===c($))}var gr=bc(),Pn=h(gr);let wr;var ki=h(Pn);{var Ti=d=>{const v=G(ce),g=G(()=>c(v)?ae(c(v)):void 0);var I=xe(),M=ye(I);{var F=H=>{var W=_c(),L=h(W),re=x(L,2),oe=h(re),Se=h(oe),we=x(oe,2),He=h(we),Xe=x(we,2),$e=h(Xe);te((Qe,Ze)=>{z(L,"src",Qe),z(L,"alt",c(g).name),D(Se,`${c(g).name??""}'s Turn`),D(He,Ze),D($e,`Turn ${c(C).turnNumber??""}`)},[()=>De(c(g).imagePath),()=>Ee(c(C).currentPhase)]),A(H,W)};Q(M,H=>{c(g)&&H(F)})}A(d,I)};Q(ki,d=>{lt()==="top"&&d(Ti)})}var yr=x(Pn,2),Mn=h(yr);let xr;var Ei=h(Mn);{var Si=d=>{const v=G(ce),g=G(()=>c(v)?ae(c(v)):void 0);var I=xe(),M=ye(I);{var F=H=>{var W=pc(),L=h(W),re=x(L,2),oe=h(re),Se=h(oe),we=x(oe,2),He=h(we),Xe=x(we,2),$e=h(Xe);te((Qe,Ze)=>{z(L,"src",Qe),z(L,"alt",c(g).name),D(Se,`${c(g).name??""}'s Turn`),D(He,Ze),D($e,`Turn ${c(C).turnNumber??""}`)},[()=>De(c(g).imagePath),()=>Ee(c(C).currentPhase)]),A(H,W)};Q(M,H=>{c(g)&&H(F)})}A(d,I)};Q(Ei,d=>{lt()==="left"&&d(Si)})}var Cn=x(Mn,2),yt=h(Cn);yt.__click=mr,yt.__keydown=di;var br=h(yt);Ue(br,17,()=>c(b).tiles,d=>d.id,(d,v)=>{const g=G(()=>B(c(v),c(ne))),I=G(()=>_e(c(v)));var M=mc();let F;var H=h(M),W=x(H,2);Ue(W,17,()=>c(b).unexploredEdges.filter(L=>L.tileId===c(v).id),L=>L.direction,(L,re)=>{$l(L,{get direction(){return c(re).direction},cellSize:n,get tileWidth(){return c(I).width},get tileHeight(){return c(I).height}})}),te(L=>{F=Fe(M,1,"placed-tile svelte-8w11tm",null,F,{"start-tile":c(v).tileType==="start"}),z(M,"data-testid",c(v).tileType==="start"?"start-tile":"dungeon-tile"),z(M,"data-tile-id",c(v).id),ct(M,`left: ${c(g).x??""}px; top: ${c(g).y??""}px; width: ${c(I).width??""}px; height: ${c(I).height??""}px;`),z(H,"src",L),z(H,"alt",c(v).tileType),ct(H,c(v).rotation!==0?`transform: rotate(${c(v).rotation}deg);`:"")},[()=>De(le(c(v)))]),A(d,M)});var kr=x(br,2);{var Ii=d=>{const v=G(()=>c(b).tiles.find(F=>F.tileType==="start"));var g=xe(),I=ye(g);{var M=F=>{const H=G(()=>B(c(v),c(ne))),W=G(()=>_e(c(v)));var L=gc(),re=h(L);Wl(re,{get validMoveSquares(){return c(K)},tileOffsetX:_,tileOffsetY:m,cellSize:n,onSquareClick:fi}),te(()=>ct(L,`left: ${c(H).x??""}px; top: ${c(H).y??""}px; width: ${c(W).width??""}px; height: ${c(W).height??""}px;`)),A(F,L)};Q(I,F=>{c(v)&&F(M)})}A(d,g)};Q(kr,d=>{c(N)&&c(K).length>0&&d(Ii)})}var Tr=x(kr,2);Ue(Tr,17,()=>c(P),d=>d.heroId,(d,v)=>{const g=G(()=>ae(c(v).heroId)),I=G(()=>c(v).heroId===ce()),M=G(()=>c(b).tiles.find(re=>re.tileType==="start")),F=G(()=>ui(c(v).heroId));var H=xe(),W=ye(H);{var L=re=>{const oe=G(()=>B(c(M),c(ne)));var Se=wc();let we;var He=h(Se),Xe=x(He,2),$e=h(Xe);te((Qe,Ze)=>{we=Fe(Se,1,"hero-token svelte-8w11tm",null,we,{active:c(I)}),z(Se,"data-hero-id",c(v).heroId),ct(Se,`${Qe??""} --token-rotation: ${c(F)??""}deg;`),z(He,"src",Ze),z(He,"alt",c(g).name),D($e,c(g).name)},[()=>ci(c(v).position,c(oe)),()=>De(c(g).imagePath)]),A(re,Se)};Q(W,re=>{c(g)&&c(M)&&re(L)})}A(d,H)});var Pi=x(Tr,2);Ue(Pi,17,()=>c(y),d=>d.instanceId,(d,v)=>{{let g=G(()=>pi(c(v).tileId));Zl(d,{get monster(){return c(v)},cellSize:n,tileOffsetX:_,tileOffsetY:m,get tilePixelOffset(){return c(g)}})}});var Mi=x(yt,2),Er=h(Mi);Yl(Er,{get tileCount(){return c(b).tileDeck.length}});var An=x(Er,2);An.__click=vi;var Ci=h(An),Sr=x(An,2);Sr.__click=Ht;var Ai=x(Sr,2);{var Di=d=>{const v=G(ce),g=G(()=>c(v)?In(c(v)):void 0),I=G(gi);var M=xe(),F=ye(M);{var H=W=>{rc(W,{get adjacentMonsters(){return c(I)},get heroAttack(){return c(g).attack},onAttack:wi})};Q(F,W=>{c(g)&&c(I).length>0&&W(H)})}A(d,M)};Q(Ai,d=>{c(C).currentPhase==="hero-phase"&&d(Di)})}to(Cn,d=>R(se,d),()=>c(se));var Ir=x(Cn,2);let Pr;var Ri=h(Ir);{var Oi=d=>{const v=G(ce),g=G(()=>c(v)?ae(c(v)):void 0);var I=xe(),M=ye(I);{var F=H=>{var W=yc(),L=h(W),re=x(L,2),oe=h(re),Se=h(oe),we=x(oe,2),He=h(we),Xe=x(we,2),$e=h(Xe);te((Qe,Ze)=>{z(L,"src",Qe),z(L,"alt",c(g).name),D(Se,`${c(g).name??""}'s Turn`),D(He,Ze),D($e,`Turn ${c(C).turnNumber??""}`)},[()=>De(c(g).imagePath),()=>Ee(c(C).currentPhase)]),A(H,W)};Q(M,H=>{c(g)&&H(F)})}A(d,I)};Q(Ri,d=>{lt()==="right"&&d(Oi)})}var Dn=x(yr,2);let Mr;var zi=h(Dn);{var Hi=d=>{const v=G(ce),g=G(()=>c(v)?ae(c(v)):void 0);var I=xe(),M=ye(I);{var F=H=>{var W=xc(),L=h(W),re=x(L,2),oe=h(re),Se=h(oe),we=x(oe,2),He=h(we),Xe=x(we,2),$e=h(Xe);te((Qe,Ze)=>{z(L,"src",Qe),z(L,"alt",c(g).name),D(Se,`${c(g).name??""}'s Turn`),D(He,Ze),D($e,`Turn ${c(C).turnNumber??""}`)},[()=>De(c(g).imagePath),()=>Ee(c(C).currentPhase)]),A(H,W)};Q(M,H=>{c(g)&&H(F)})}A(d,I)};Q(zi,d=>{lt()==="bottom"&&d(Hi)})}var Cr=x(Dn,2);{var Ni=d=>{const v=G(()=>c(y).find(F=>F.instanceId===c(k)));var g=xe(),I=ye(g);{var M=F=>{ec(F,{get monsterId(){return c(v).monsterId},onDismiss:_i})};Q(I,F=>{c(v)&&F(M)})}A(d,g)};Q(Cr,d=>{c(k)&&d(Ni)})}var Fi=x(Cr,2);{var Li=d=>{const v=G(ce),g=G(()=>c(v)?In(c(v)):void 0),I=G(bi);var M=xe(),F=ye(M);{var H=W=>{{let L=G(()=>c(I)?xi(c(I).monsterId):"Monster");cc(W,{get result(){return c(V)},get attackerName(){return c(g).name},get attackName(){return c(g).attack.name},get targetName(){return c(L)},onDismiss:yi})}};Q(F,W=>{c(g)&&W(H)})}A(d,M)};Q(Fi,d=>{c(V)&&d(Li)})}te((d,v,g,I,M)=>{wr=Fe(Pn,1,"edge-zone edge-top svelte-8w11tm",null,wr,d),xr=Fe(Mn,1,"edge-zone edge-left svelte-8w11tm",null,xr,v),ct(yt,`transform: scale(${c(ie)??""}); width: ${c(ne).width??""}px; height: ${c(ne).height??""}px;`),z(yt,"aria-label",c(N)?"Click to hide movement options":"Click to show movement options for current hero"),D(Ci,g),Pr=Fe(Ir,1,"edge-zone edge-right svelte-8w11tm",null,Pr,I),Mr=Fe(Dn,1,"edge-zone edge-bottom svelte-8w11tm",null,Mr,M)},[()=>({"active-edge":lt()==="top"}),()=>({"active-edge":lt()==="left"}),hi,()=>({"active-edge":lt()==="right"}),()=>({"active-edge":lt()==="bottom"})]),A(e,gr),Ye()}zt(["click","keydown"]);var Tc=X('<main class="svelte-1n46o8q"><!></main>');function Ec(e,t){Ke(t,!0);let n=Z("character-select");cn(()=>{const l=ee.subscribe(()=>{const u=ee.getState();R(n,u.game.currentScreen,!0)}),o=ee.getState();return R(n,o.game.currentScreen,!0),l});var r=Tc(),s=h(r);{var i=l=>{Ul(l,{})},a=l=>{var o=xe(),u=ye(o);{var f=p=>{kc(p,{})};Q(u,p=>{c(n)==="game-board"&&p(f)},!0)}A(l,o)};Q(s,l=>{c(n)==="character-select"?l(i):l(a,!1)})}A(e,r),Ye()}Va(Ec,{target:document.getElementById("app")});
