(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const ss="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ss);const Fr=1,Lr=2,$r=4,as=8,os=16,ls=2,se=Symbol(),cs="http://www.w3.org/1999/xhtml",kn=!1;var Br=Array.isArray,us=Array.prototype.indexOf,Bn=Array.from,fs=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,ds=Object.getOwnPropertyDescriptors,hs=Object.prototype,vs=Array.prototype,qr=Object.getPrototypeOf,gr=Object.isExtensible;function _s(e){for(var t=0;t<e.length;t++)e[t]()}function jr(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const re=2,qn=4,jn=8,ps=1<<24,Xe=16,Qe=32,ht=64,fn=128,Ie=512,oe=1024,pe=2048,Ze=4096,xe=8192,tt=16384,Un=32768,xt=65536,mr=1<<17,Ur=1<<18,Pt=1<<19,gs=1<<20,ut=32768,Pn=1<<21,Vn=1<<22,nt=1<<23,Qt=Symbol("$state"),ms=Symbol(""),gt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ws(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ys(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function xs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function bs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Es(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ts(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ss(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ks(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ps(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Is(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Vr(e){return e===this.v}function Cs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Gr(e){return!Cs(e,this.v)}let Ms=!1,Se=null;function bt(e){Se=e}function It(e,t=!1,n){Se={p:Se,i:!1,c:null,e:null,s:e,x:null,l:null}}function Ct(e){var t=Se,n=t.e;if(n!==null){t.e=null;for(var r of n)ai(r)}return t.i=!0,Se=t.p,{}}function Wr(){return!0}let mt=[];function zs(){var e=mt;mt=[],_s(e)}function Bt(e){if(mt.length===0){var t=mt;queueMicrotask(()=>{t===mt&&zs()})}mt.push(e)}function Kr(e){var t=L;if(t===null)return M.f|=nt,e;if((t.f&Un)===0){if((t.f&fn)===0)throw e;t.b.error(e)}else Et(e,t)}function Et(e,t){for(;t!==null;){if((t.f&fn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Gt=new Set;let G=null,Te=null,ze=[],Gn=null,In=!1;class Re{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#s=[];#i=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){ze=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of t)this.#a(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(G=null,wr(n.render_effects),wr(n.effects),this.#l?.resolve()),Te=null}#a(t,n){t.f^=oe;for(var r=t.first;r!==null;){var i=r.f,s=(i&(Qe|ht))!==0,a=s&&(i&oe)!==0,l=a||(i&xe)!==0||this.skipped_effects.has(r);if((r.f&fn)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!l&&r.fn!==null){s?r.f^=oe:(i&qn)!==0?n.effects.push(r):jt(r)&&((r.f&Xe)!==0&&n.block_effects.push(r),Ht(r));var o=r.first;if(o!==null){r=o;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#o(t){for(const n of t)((n.f&pe)!==0?this.#s:this.#i).push(n),this.#c(n.deps),le(n,oe)}#c(t){if(t!==null)for(const n of t)(n.f&re)===0||(n.f&ut)===0||(n.f^=ut,this.#c(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&nt)===0&&(this.current.set(t,t.v),Te?.set(t,t.v))}activate(){G=this,this.apply()}deactivate(){G===this&&(G=null,Te=null)}flush(){if(this.activate(),ze.length>0){if(As(),G!==null&&G!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(Gt.size>1){this.previous.clear();var t=Te,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of Gt){if(s===this){n=!1;continue}const a=[];for(const[o,u]of this.current){if(s.current.has(o))if(n&&u!==s.current.get(o))s.current.set(o,u);else continue;a.push(o)}if(a.length===0)continue;const l=[...s.current.keys()].filter(o=>!this.current.has(o));if(l.length>0){var i=ze;ze=[];const o=new Set,u=new Map;for(const f of a)Yr(f,l,o,u);if(ze.length>0){G=s,s.apply();for(const f of ze)s.#a(f,r);s.deactivate()}ze=i}}G=null,Te=t}this.committed=!0,Gt.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#s)le(t,pe),ft(t);for(const t of this.#i)le(t,Ze),ft(t);this.#s=[],this.#i=[],this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=jr()).promise}static ensure(){if(G===null){const t=G=new Re;Gt.add(G),Re.enqueue(()=>{G===t&&t.flush()})}return G}static enqueue(t){Bt(t)}apply(){}}function As(){var e=it;In=!0;var t=null;try{var n=0;for(nn(!0);ze.length>0;){var r=Re.ensure();if(n++>1e3){var i,s;Os()}r.process(ze),rt.clear()}}finally{In=!1,nn(e),Gn=null}}function Os(){try{Es()}catch(e){Et(e,Gn)}}let Ve=null;function wr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(tt|xe))===0&&jt(r)&&(Ve=new Set,Ht(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ui(r):r.fn=null),Ve?.size>0)){rt.clear();for(const i of Ve){if((i.f&(tt|xe))!==0)continue;const s=[i];let a=i.parent;for(;a!==null;)Ve.has(a)&&(Ve.delete(a),s.push(a)),a=a.parent;for(let l=s.length-1;l>=0;l--){const o=s[l];(o.f&(tt|xe))===0&&Ht(o)}}Ve.clear()}}Ve=null}}function Yr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&re)!==0?Yr(i,t,n,r):(s&(Vn|Xe))!==0&&(s&pe)===0&&Xr(i,t,r)&&(le(i,pe),ft(i))}}function Xr(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&re)!==0&&Xr(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function ft(e){for(var t=Gn=e;t.parent!==null;){t=t.parent;var n=t.f;if(In&&t===L&&(n&Xe)!==0&&(n&Ur)===0)return;if((n&(ht|Qe))!==0){if((n&oe)===0)return;t.f^=oe}}ze.push(t)}function Rs(e){let t=0,n=dt(0),r;return()=>{Dt()&&(c(n),oi(()=>(t===0&&(r=xi(()=>e(()=>Rt(n)))),t+=1,()=>{Bt(()=>{t-=1,t===0&&(r?.(),r=void 0,Rt(n))})})))}}var Ds=xt|Pt|fn;function Ns(e,t,n){new Hs(e,t,n)}class Hs{parent;#e=!1;#t;#r=null;#n;#l;#s;#i=null;#a=null;#o=null;#c=null;#u=null;#f=0;#d=0;#v=!1;#h=null;#w=Rs(()=>(this.#h=dt(this.#f),()=>{this.#h=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#l=r,this.parent=L.b,this.#e=!!this.#n.pending,this.#s=Xn(()=>{L.b=this;{var i=this.#g();try{this.#i=Ee(()=>r(i))}catch(s){this.error(s)}this.#d>0?this.#p():this.#e=!1}return()=>{this.#u?.remove()}},Ds)}#y(){try{this.#i=Ee(()=>this.#l(this.#t))}catch(t){this.error(t)}this.#e=!1}#x(){const t=this.#n.pending;t&&(this.#a=Ee(()=>t(this.#t)),Re.enqueue(()=>{var n=this.#g();this.#i=this.#_(()=>(Re.ensure(),Ee(()=>this.#l(n)))),this.#d>0?this.#p():(yt(this.#a,()=>{this.#a=null}),this.#e=!1)}))}#g(){var t=this.#t;return this.#e&&(this.#u=st(),this.#t.before(this.#u),t=this.#u),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(t){var n=L,r=M,i=Se;Ne(this.#s),ve(this.#s),bt(this.#s.ctx);try{return t()}catch(s){return Kr(s),null}finally{Ne(n),ve(r),bt(i)}}#p(){const t=this.#n.pending;this.#i!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),hi(this.#i,this.#c)),this.#a===null&&(this.#a=Ee(()=>t(this.#t)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#a&&yt(this.#a,()=>{this.#a=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(t){this.#m(t),this.#f+=t,this.#h&&Tt(this.#h,this.#f)}get_effect_pending(){return this.#w(),c(this.#h)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#v||!n&&!r)throw t;this.#i&&(_e(this.#i),this.#i=null),this.#a&&(_e(this.#a),this.#a=null),this.#o&&(_e(this.#o),this.#o=null);var i=!1,s=!1;const a=()=>{if(i){Is();return}i=!0,s&&Ps(),Re.ensure(),this.#f=0,this.#o!==null&&yt(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#_(()=>(this.#v=!1,Ee(()=>this.#l(this.#t)))),this.#d>0?this.#p():this.#e=!1};var l=M;try{ve(null),s=!0,n?.(t,a),s=!1}catch(o){Et(o,this.#s&&this.#s.parent)}finally{ve(l)}r&&Bt(()=>{this.#o=this.#_(()=>{Re.ensure(),this.#v=!0;try{return Ee(()=>{r(this.#t,()=>t,()=>a)})}catch(o){return Et(o,this.#s.parent),null}finally{this.#v=!1}})})}}function Fs(e,t,n){for(var r=[],i=t.length,s=0;s<i;s++)Qn(t[s].e,r,!0);fi(r,()=>{var a=r.length===0&&n!==null;if(a){var l=n,o=l.parentNode;Ys(o),o.append(l),e.items.clear(),ke(e,t[0].prev,t[i-1].next)}for(var u=0;u<i;u++){var f=t[u];a||(e.items.delete(f.k),ke(e,f.prev,f.next)),_e(f.e,!a)}e.first===t[0]&&(e.first=t[0].prev)})}function et(e,t,n,r,i,s=null){var a=e,l=new Map,o=null,u=(t&$r)!==0,f=(t&Fr)!==0,v=(t&Lr)!==0;if(u){var d=e;a=d.appendChild(st())}var h=null,S=Us(()=>{var E=n();return Br(E)?E:E==null?[]:Bn(E)}),O,_=!0;function k(){Ls(x,O,a,t,r),h!==null&&(O.length===0?(h.fragment?(a.before(h.fragment),h.fragment=null):Zn(h.effect),$.first=h.effect):yt(h.effect,()=>{h=null}))}var $=Xn(()=>{O=c(S);for(var E=O.length,R=new Set,N=G,B=null,H=ii(),b=0;b<E;b+=1){var w=O[b],T=r(w,b),q=_?null:l.get(T);q?(f&&Tt(q.v,w),v?Tt(q.i,b):q.i=b,H&&N.skipped_effects.delete(q.e)):(q=$s(_?a:null,B,w,T,b,i,t,n),_&&(q.o=!0,B===null?o=q:B.next=q,B=q),l.set(T,q)),R.add(T)}if(E===0&&s&&!h)if(_)h={fragment:null,effect:Ee(()=>s(a))};else{var Y=document.createDocumentFragment(),te=st();Y.append(te),h={fragment:Y,effect:Ee(()=>s(te))}}if(!_)if(H){for(const[X,he]of l)R.has(X)||N.skipped_effects.add(he.e);N.oncommit(k),N.ondiscard(()=>{})}else k();c(S)}),x={effect:$,items:l,first:o};_=!1}function Ls(e,t,n,r,i){var s=(r&as)!==0,a=t.length,l=e.items,o=e.first,u,f=null,v,d=[],h=[],S,O,_,k;if(s)for(k=0;k<a;k+=1)S=t[k],O=i(S,k),_=l.get(O),_.o&&(_.a?.measure(),(v??=new Set).add(_));for(k=0;k<a;k+=1){if(S=t[k],O=i(S,k),_=l.get(O),e.first??=_,!_.o){_.o=!0;var $=f?f.next:o;ke(e,f,_),ke(e,_,$),bn(_,$,n),f=_,d=[],h=[],o=f.next;continue}if((_.e.f&xe)!==0&&(Zn(_.e),s&&(_.a?.unfix(),(v??=new Set).delete(_))),_!==o){if(u!==void 0&&u.has(_)){if(d.length<h.length){var x=h[0],E;f=x.prev;var R=d[0],N=d[d.length-1];for(E=0;E<d.length;E+=1)bn(d[E],x,n);for(E=0;E<h.length;E+=1)u.delete(h[E]);ke(e,R.prev,N.next),ke(e,f,R),ke(e,N,x),o=x,f=N,k-=1,d=[],h=[]}else u.delete(_),bn(_,o,n),ke(e,_.prev,_.next),ke(e,_,f===null?e.first:f.next),ke(e,f,_),f=_;continue}for(d=[],h=[];o!==null&&o.k!==O;)(o.e.f&xe)===0&&(u??=new Set).add(o),h.push(o),o=o.next;if(o===null)continue;_=o}d.push(_),f=_,o=_.next}let B=l.size>a;if(o!==null||u!==void 0){for(var H=u===void 0?[]:Bn(u);o!==null;)(o.e.f&xe)===0&&H.push(o),o=o.next;var b=H.length;if(B=l.size-b>a,b>0){var w=(r&$r)!==0&&a===0?n:null;if(s){for(k=0;k<b;k+=1)H[k].a?.measure();for(k=0;k<b;k+=1)H[k].a?.fix()}Fs(e,H,w)}}if(B)for(const T of l.values())T.o||(ke(e,f,T),f=T);e.effect.last=f&&f.e,s&&Bt(()=>{if(v!==void 0)for(_ of v)_.a?.apply()})}function $s(e,t,n,r,i,s,a,l){var o=(a&Fr)!==0,u=(a&os)===0,f=o?u?Gs(n,!1,!1):dt(n):n,v=(a&Lr)===0?i:dt(i),d={i:v,v:f,k:r,a:null,e:null,o:!1,prev:t,next:null};try{if(e===null){var h=document.createDocumentFragment();h.append(e=st())}return d.e=Ee(()=>s(e,f,v,l)),t!==null&&(t.next=d),d}finally{}}function bn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var a=qt(s);i.before(s),s=a}}function ke(e,t,n){t===null?(e.first=n,e.effect.first=n&&n.e):(t.e.next&&(t.e.next.prev=null),t.next=n,t.e.next=n&&n.e),n!==null&&(n.e.prev&&(n.e.prev.next=null),n.prev=t,n.e.prev=t&&t.e)}function Bs(e,t,n,r){const i=Wn;if(n.length===0&&e.length===0){r(t.map(i));return}var s=G,a=L,l=qs();function o(){Promise.all(n.map(u=>js(u))).then(u=>{l();try{r([...t.map(i),...u])}catch(f){(a.f&tt)===0&&Et(f,a)}s?.deactivate(),en()}).catch(u=>{Et(u,a)})}e.length>0?Promise.all(e).then(()=>{l();try{return o()}finally{s?.deactivate(),en()}}):o()}function qs(){var e=L,t=M,n=Se,r=G;return function(s=!0){Ne(e),ve(t),bt(n),s&&r?.activate()}}function en(){Ne(null),ve(null),bt(null)}function Wn(e){var t=re|pe,n=M!==null&&(M.f&re)!==0?M:null;return L!==null&&(L.f|=Pt),{ctx:Se,deps:null,effects:null,equals:Vr,f:t,fn:e,reactions:null,rv:0,v:se,wv:0,parent:n??L,ac:null}}function js(e,t){let n=L;n===null&&ws();var r=n.b,i=void 0,s=dt(se),a=!M,l=new Map;return ta(()=>{var o=jr();i=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(()=>{u===G&&u.committed&&u.deactivate(),en()})}catch(d){o.reject(d),en()}var u=G;if(a){var f=!r.is_pending();r.update_pending_count(1),u.increment(f),l.get(u)?.reject(gt),l.delete(u),l.set(u,o)}const v=(d,h=void 0)=>{if(u.activate(),h)h!==gt&&(s.f|=nt,Tt(s,h));else{(s.f&nt)!==0&&(s.f^=nt),Tt(s,d);for(const[S,O]of l){if(l.delete(S),S===u)break;O.reject(gt)}}a&&(r.update_pending_count(-1),u.decrement(f))};o.promise.then(v,d=>v(null,d||"unknown"))}),Zs(()=>{for(const o of l.values())o.reject(gt)}),new Promise(o=>{function u(f){function v(){f===i?o(s):u(i)}f.then(v,v)}u(i)})}function J(e){const t=Wn(e);return vi(t),t}function Us(e){const t=Wn(e);return t.equals=Gr,t}function Qr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)_e(t[n])}}function Vs(e){for(var t=e.parent;t!==null;){if((t.f&re)===0)return(t.f&tt)===0?t:null;t=t.parent}return null}function Kn(e){var t,n=L;Ne(Vs(e));try{e.f&=~ut,Qr(e),t=mi(e)}finally{Ne(n)}return t}function Zr(e){var t=Kn(e);if(e.equals(t)||(G?.is_fork||(e.v=t),e.wv=pi()),!Mt)if(Te!==null)(Dt()||G?.is_fork)&&Te.set(e,t);else{var n=(e.f&Ie)===0?Ze:oe;le(e,n)}}let Cn=new Set;const rt=new Map;let Jr=!1;function dt(e,t){var n={f:0,v:e,reactions:null,equals:Vr,rv:0,wv:0};return n}function Q(e,t){const n=dt(e);return vi(n),n}function Gs(e,t=!1,n=!0){const r=dt(e);return t||(r.equals=Gr),r}function D(e,t,n=!1){M!==null&&(!De||(M.f&mr)!==0)&&Wr()&&(M.f&(re|Xe|Vn|mr))!==0&&!We?.includes(e)&&ks();let r=n?we(t):t;return Tt(e,r)}function Tt(e,t){if(!e.equals(t)){var n=e.v;Mt?rt.set(e,t):rt.set(e,n),e.v=t;var r=Re.ensure();r.capture(e,n),(e.f&re)!==0&&((e.f&pe)!==0&&Kn(e),le(e,(e.f&Ie)!==0?oe:Ze)),e.wv=pi(),ei(e,pe),L!==null&&(L.f&oe)!==0&&(L.f&(Qe|ht))===0&&(be===null?ia([e]):be.push(e)),!r.is_fork&&Cn.size>0&&!Jr&&Ws()}return t}function Ws(){Jr=!1;var e=it;nn(!0);const t=Array.from(Cn);try{for(const n of t)(n.f&oe)!==0&&le(n,Ze),jt(n)&&Ht(n)}finally{nn(e)}Cn.clear()}function Rt(e){D(e,e.v+1)}function ei(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],a=s.f,l=(a&pe)===0;if(l&&le(s,t),(a&re)!==0){var o=s;Te?.delete(o),(a&ut)===0&&(a&Ie&&(s.f|=ut),ei(o,Ze))}else l&&((a&Xe)!==0&&Ve!==null&&Ve.add(s),ft(s))}}function we(e){if(typeof e!="object"||e===null||Qt in e)return e;const t=qr(e);if(t!==hs&&t!==vs)return e;var n=new Map,r=Br(e),i=Q(0),s=ct,a=l=>{if(ct===s)return l();var o=M,u=ct;ve(null),br(s);var f=l();return ve(o),br(u),f};return r&&n.set("length",Q(e.length)),new Proxy(e,{defineProperty(l,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ts();var f=n.get(o);return f===void 0?f=a(()=>{var v=Q(u.value);return n.set(o,v),v}):D(f,u.value,!0),!0},deleteProperty(l,o){var u=n.get(o);if(u===void 0){if(o in l){const f=a(()=>Q(se));n.set(o,f),Rt(i)}}else D(u,se),Rt(i);return!0},get(l,o,u){if(o===Qt)return e;var f=n.get(o),v=o in l;if(f===void 0&&(!v||Ot(l,o)?.writable)&&(f=a(()=>{var h=we(v?l[o]:se),S=Q(h);return S}),n.set(o,f)),f!==void 0){var d=c(f);return d===se?void 0:d}return Reflect.get(l,o,u)},getOwnPropertyDescriptor(l,o){var u=Reflect.getOwnPropertyDescriptor(l,o);if(u&&"value"in u){var f=n.get(o);f&&(u.value=c(f))}else if(u===void 0){var v=n.get(o),d=v?.v;if(v!==void 0&&d!==se)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(l,o){if(o===Qt)return!0;var u=n.get(o),f=u!==void 0&&u.v!==se||Reflect.has(l,o);if(u!==void 0||L!==null&&(!f||Ot(l,o)?.writable)){u===void 0&&(u=a(()=>{var d=f?we(l[o]):se,h=Q(d);return h}),n.set(o,u));var v=c(u);if(v===se)return!1}return f},set(l,o,u,f){var v=n.get(o),d=o in l;if(r&&o==="length")for(var h=u;h<v.v;h+=1){var S=n.get(h+"");S!==void 0?D(S,se):h in l&&(S=a(()=>Q(se)),n.set(h+"",S))}if(v===void 0)(!d||Ot(l,o)?.writable)&&(v=a(()=>Q(void 0)),D(v,we(u)),n.set(o,v));else{d=v.v!==se;var O=a(()=>we(u));D(v,O)}var _=Reflect.getOwnPropertyDescriptor(l,o);if(_?.set&&_.set.call(f,u),!d){if(r&&typeof o=="string"){var k=n.get("length"),$=Number(o);Number.isInteger($)&&$>=k.v&&D(k,$+1)}Rt(i)}return!0},ownKeys(l){c(i);var o=Reflect.ownKeys(l).filter(v=>{var d=n.get(v);return d===void 0||d.v!==se});for(var[u,f]of n)f.v!==se&&!(u in l)&&o.push(u);return o},setPrototypeOf(){Ss()}})}var yr,ti,ni,ri;function Ks(){if(yr===void 0){yr=window,ti=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ni=Ot(t,"firstChild").get,ri=Ot(t,"nextSibling").get,gr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),gr(n)&&(n.__t=void 0)}}function st(e=""){return document.createTextNode(e)}function Yn(e){return ni.call(e)}function qt(e){return ri.call(e)}function m(e,t){return Yn(e)}function ot(e,t=!1){{var n=Yn(e);return n instanceof Comment&&n.data===""?qt(n):n}}function P(e,t=1,n=!1){let r=e;for(;t--;)r=qt(r);return r}function Ys(e){e.textContent=""}function ii(){return!1}function si(e){var t=M,n=L;ve(null),Ne(null);try{return e()}finally{ve(t),Ne(n)}}function Xs(e){L===null&&(M===null&&bs(),xs()),Mt&&ys()}function Qs(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Je(e,t,n){var r=L;r!==null&&(r.f&xe)!==0&&(e|=xe);var i={ctx:Se,deps:null,nodes_start:null,nodes_end:null,f:e|pe|Ie,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ht(i),i.f|=Un}catch(l){throw _e(i),l}else t!==null&&ft(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Pt)===0&&(s=s.first,(e&Xe)!==0&&(e&xt)!==0&&s!==null&&(s.f|=xt)),s!==null&&(s.parent=r,r!==null&&Qs(s,r),M!==null&&(M.f&re)!==0&&(e&ht)===0)){var a=M;(a.effects??=[]).push(s)}return i}function Dt(){return M!==null&&!De}function Zs(e){const t=Je(jn,null,!1);return le(t,oe),t.teardown=e,t}function tn(e){Xs();var t=L.f,n=!M&&(t&Qe)!==0&&(t&Un)===0;if(n){var r=Se;(r.e??=[]).push(e)}else return ai(e)}function ai(e){return Je(qn|gs,e,!1)}function Js(e){Re.ensure();const t=Je(ht|Pt,e,!0);return(n={})=>new Promise(r=>{n.outro?yt(t,()=>{_e(t),r(void 0)}):(_e(t),r(void 0))})}function ea(e){return Je(qn,e,!1)}function ta(e){return Je(Vn|Pt,e,!0)}function oi(e,t=0){return Je(jn|t,e,!0)}function ae(e,t=[],n=[],r=[]){Bs(r,t,n,i=>{Je(jn,()=>e(...i.map(c)),!0)})}function Xn(e,t=0){var n=Je(Xe|t,e,!0);return n}function Ee(e){return Je(Qe|Pt,e,!0)}function li(e){var t=e.teardown;if(t!==null){const n=Mt,r=M;xr(!0),ve(null);try{t.call(null)}finally{xr(n),ve(r)}}}function ci(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&si(()=>{i.abort(gt)});var r=n.next;(n.f&ht)!==0?n.parent=null:_e(n,t),n=r}}function na(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Qe)===0&&_e(t),t=n}}function _e(e,t=!0){var n=!1;(t||(e.f&Ur)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ra(e.nodes_start,e.nodes_end),n=!0),ci(e,t&&!n),rn(e,0),le(e,tt);var r=e.transitions;if(r!==null)for(const s of r)s.stop();li(e);var i=e.parent;i!==null&&i.first!==null&&ui(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ra(e,t){for(;e!==null;){var n=e===t?null:qt(e);e.remove(),e=n}}function ui(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function yt(e,t,n=!0){var r=[];Qn(e,r,!0),fi(r,()=>{n&&_e(e),t&&t()})}function fi(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Qn(e,t,n){if((e.f&xe)===0){if(e.f^=xe,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&xt)!==0||(r.f&Qe)!==0&&(e.f&Xe)!==0;Qn(r,t,s?n:!1),r=i}}}function Zn(e){di(e,!0)}function di(e,t){if((e.f&xe)!==0){e.f^=xe,(e.f&oe)===0&&(le(e,pe),ft(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&xt)!==0||(n.f&Qe)!==0;di(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}function hi(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:qt(n);t.append(n),n=i}}let it=!1;function nn(e){it=e}let Mt=!1;function xr(e){Mt=e}let M=null,De=!1;function ve(e){M=e}let L=null;function Ne(e){L=e}let We=null;function vi(e){M!==null&&(We===null?We=[e]:We.push(e))}let fe=null,ge=0,be=null;function ia(e){be=e}let _i=1,Nt=0,ct=Nt;function br(e){ct=e}function pi(){return++_i}function jt(e){var t=e.f;if((t&pe)!==0)return!0;if(t&re&&(e.f&=~ut),(t&Ze)!==0){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(jt(s)&&Zr(s),s.wv>e.wv)return!0}(t&Ie)!==0&&Te===null&&le(e,oe)}return!1}function gi(e,t,n=!0){var r=e.reactions;if(r!==null&&!We?.includes(e))for(var i=0;i<r.length;i++){var s=r[i];(s.f&re)!==0?gi(s,t,!1):t===s&&(n?le(s,pe):(s.f&oe)!==0&&le(s,Ze),ft(s))}}function mi(e){var t=fe,n=ge,r=be,i=M,s=We,a=Se,l=De,o=ct,u=e.f;fe=null,ge=0,be=null,M=(u&(Qe|ht))===0?e:null,We=null,bt(e.ctx),De=!1,ct=++Nt,e.ac!==null&&(si(()=>{e.ac.abort(gt)}),e.ac=null);try{e.f|=Pn;var f=e.fn,v=f(),d=e.deps;if(fe!==null){var h;if(rn(e,ge),d!==null&&ge>0)for(d.length=ge+fe.length,h=0;h<fe.length;h++)d[ge+h]=fe[h];else e.deps=d=fe;if(it&&Dt()&&(e.f&Ie)!==0)for(h=ge;h<d.length;h++)(d[h].reactions??=[]).push(e)}else d!==null&&ge<d.length&&(rn(e,ge),d.length=ge);if(Wr()&&be!==null&&!De&&d!==null&&(e.f&(re|Ze|pe))===0)for(h=0;h<be.length;h++)gi(be[h],e);return i!==null&&i!==e&&(Nt++,be!==null&&(r===null?r=be:r.push(...be))),(e.f&nt)!==0&&(e.f^=nt),v}catch(S){return Kr(S)}finally{e.f^=Pn,fe=t,ge=n,be=r,M=i,We=s,bt(a),De=l,ct=o}}function sa(e,t){let n=t.reactions;if(n!==null){var r=us.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&re)!==0&&(fe===null||!fe.includes(t))&&(le(t,Ze),(t.f&Ie)!==0&&(t.f^=Ie,t.f&=~ut),Qr(t),rn(t,0))}function rn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)sa(e,n[r])}function Ht(e){var t=e.f;if((t&tt)===0){le(e,oe);var n=L,r=it;L=e,it=!0;try{(t&(Xe|ps))!==0?na(e):ci(e),li(e);var i=mi(e);e.teardown=typeof i=="function"?i:null,e.wv=_i;var s;kn&&Ms&&(e.f&pe)!==0&&e.deps}finally{it=r,L=n}}}function c(e){var t=e.f,n=(t&re)!==0;if(M!==null&&!De){var r=L!==null&&(L.f&tt)!==0;if(!r&&!We?.includes(e)){var i=M.deps;if((M.f&Pn)!==0)e.rv<Nt&&(e.rv=Nt,fe===null&&i!==null&&i[ge]===e?ge++:fe===null?fe=[e]:fe.includes(e)||fe.push(e));else{(M.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[M]:s.includes(M)||s.push(M)}}}if(Mt){if(rt.has(e))return rt.get(e);if(n){var a=e,l=a.v;return((a.f&oe)===0&&a.reactions!==null||yi(a))&&(l=Kn(a)),rt.set(a,l),l}}else n&&(!Te?.has(e)||G?.is_fork&&!Dt())&&(a=e,jt(a)&&Zr(a),it&&Dt()&&(a.f&Ie)===0&&wi(a));if(Te?.has(e))return Te.get(e);if((e.f&nt)!==0)throw e.v;return e.v}function wi(e){if(e.deps!==null){e.f^=Ie;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&re)!==0&&(t.f&Ie)===0&&wi(t)}}function yi(e){if(e.v===se)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(rt.has(t)||(t.f&re)!==0&&yi(t))return!0;return!1}function xi(e){var t=De;try{return De=!0,e()}finally{De=t}}const aa=-7169;function le(e,t){e.f=e.f&aa|t}const bi=new Set,Mn=new Set;function Jn(e){for(var t=0;t<e.length;t++)bi.add(e[t]);for(var n of Mn)n(e)}let Er=null;function Wt(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;Er=e;var a=0,l=Er===e&&e.__root;if(l){var o=i.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;o<=u&&(a=o)}if(s=i[a]||e.target,s!==t){fs(e,"currentTarget",{configurable:!0,get(){return s||n}});var f=M,v=L;ve(null),Ne(null);try{for(var d,h=[];s!==null;){var S=s.assignedSlot||s.parentNode||s.host||null;try{var O=s["__"+r];O!=null&&(!s.disabled||e.target===s)&&O.call(s,e)}catch(_){d?h.push(_):d=_}if(e.cancelBubble||S===t||S===null)break;s=S}if(d){for(let _ of h)queueMicrotask(()=>{throw _});throw d}}finally{e.__root=t,delete e.currentTarget,ve(f),Ne(v)}}}function oa(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ei(e,t){var n=L;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function ee(e,t){var n=(t&ls)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=oa(i?e:"<!>"+e),r=Yn(r));var s=n||ti?document.importNode(r,!0):r.cloneNode(!0);return Ei(s,s),s}}function lt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=st();return e.append(t,n),Ei(t,n),e}function j(e,t){e!==null&&e.before(t)}const la=["touchstart","touchmove"];function ca(e){return la.includes(e)}function U(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ua(e,t){return fa(e,t)}const _t=new Map;function fa(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:a=!0}){Ks();var l=new Set,o=v=>{for(var d=0;d<v.length;d++){var h=v[d];if(!l.has(h)){l.add(h);var S=ca(h);t.addEventListener(h,Wt,{passive:S});var O=_t.get(h);O===void 0?(document.addEventListener(h,Wt,{passive:S}),_t.set(h,1)):_t.set(h,O+1)}}};o(Bn(bi)),Mn.add(o);var u=void 0,f=Js(()=>{var v=n??t.appendChild(st());return Ns(v,{pending:()=>{}},d=>{if(s){It({});var h=Se;h.c=s}i&&(r.$$events=i),u=e(d,r)||{},s&&Ct()}),()=>{for(var d of l){t.removeEventListener(d,Wt);var h=_t.get(d);--h===0?(document.removeEventListener(d,Wt),_t.delete(d)):_t.set(d,h)}Mn.delete(o),v!==n&&v.parentNode?.removeChild(v)}});return da.set(u,f),u}let da=new WeakMap;class ha{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#s=()=>{var t=G;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)Zn(r),this.#n.delete(n);else{var i=this.#r.get(n);i&&(this.#t.set(n,i.effect),this.#r.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,a]of this.#e){if(this.#e.delete(s),s===t)break;const l=this.#r.get(a);l&&(_e(l.effect),this.#r.delete(a))}for(const[s,a]of this.#t){if(s===n||this.#n.has(s))continue;const l=()=>{if(Array.from(this.#e.values()).includes(s)){var u=document.createDocumentFragment();hi(a,u),u.append(st()),this.#r.set(s,{effect:a,fragment:u})}else _e(a);this.#n.delete(s),this.#t.delete(s)};this.#l||!r?(this.#n.add(s),yt(a,l,!1)):l()}}};#i=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#r)n.includes(r)||(_e(i.effect),this.#r.delete(r))};ensure(t,n){var r=G,i=ii();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(i){var s=document.createDocumentFragment(),a=st();s.append(a),this.#r.set(t,{effect:Ee(()=>n(a)),fragment:s})}else this.#t.set(t,Ee(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[l,o]of this.#t)l===t?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[l,o]of this.#r)l===t?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(this.#s),r.ondiscard(this.#i)}else this.#s()}}function me(e,t,n=!1){var r=new ha(e),i=n?xt:0;function s(a,l){r.ensure(a,l)}Xn(()=>{var a=!1;t((l,o=!0)=>{a=!0,s(o,l)}),a||s(!1,null)},i)}const Tr=[...` 	
\r\fÂ \v\uFEFF`];function va(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,a=0;(a=r.indexOf(i,a))>=0;){var l=a+s;(a===0||Tr.includes(r[a-1]))&&(l===r.length||Tr.includes(r[l]))?r=(a===0?"":r.substring(0,a))+r.substring(l+1):a=l}}return r===""?null:r}function _a(e,t){return e==null?null:String(e)}function Ae(e,t,n,r,i,s){var a=e.__className;if(a!==n||a===void 0){var l=va(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&i!==s)for(var o in s){var u=!!s[o];(i==null||u!==!!i[o])&&e.classList.toggle(o,u)}return s}function wt(e,t,n,r){var i=e.__style;if(i!==t){var s=_a(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const pa=Symbol("is custom element"),ga=Symbol("is html");function A(e,t,n,r){var i=ma(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[ms]=n),n==null?e.removeAttribute(t):typeof n!="string"&&wa(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ma(e){return e.__attributes??={[pa]:e.nodeName.includes("-"),[ga]:e.namespaceURI===cs}}var Sr=new Map;function wa(e){var t=e.getAttribute("is")||e.nodeName,n=Sr.get(t);if(n)return n;Sr.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=ds(i);for(var a in r)r[a].set&&n.push(a);i=qr(i)}return n}function kr(e,t){return e===t||e?.[Qt]===t}function ya(e={},t,n,r){return ea(()=>{var i,s;return oi(()=>{i=s,s=[],xi(()=>{e!==n(...s)&&(t(e,...s),i&&kr(n(...i),e)&&t(null,...i))})}),()=>{Bt(()=>{s&&kr(n(...s),e)&&t(null,...s)})}}),e}function ne(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var xa=typeof Symbol=="function"&&Symbol.observable||"@@observable",Pr=xa,En=()=>Math.random().toString(36).substring(7).split("").join("."),ba={INIT:`@@redux/INIT${En()}`,REPLACE:`@@redux/REPLACE${En()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${En()}`},sn=ba;function er(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ti(e,t,n){if(typeof e!="function")throw new Error(ne(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ne(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ne(1));return n(Ti)(e,t)}let r=e,i=t,s=new Map,a=s,l=0,o=!1;function u(){a===s&&(a=new Map,s.forEach((_,k)=>{a.set(k,_)}))}function f(){if(o)throw new Error(ne(3));return i}function v(_){if(typeof _!="function")throw new Error(ne(4));if(o)throw new Error(ne(5));let k=!0;u();const $=l++;return a.set($,_),function(){if(k){if(o)throw new Error(ne(6));k=!1,u(),a.delete($),s=null}}}function d(_){if(!er(_))throw new Error(ne(7));if(typeof _.type>"u")throw new Error(ne(8));if(typeof _.type!="string")throw new Error(ne(17));if(o)throw new Error(ne(9));try{o=!0,i=r(i,_)}finally{o=!1}return(s=a).forEach($=>{$()}),_}function h(_){if(typeof _!="function")throw new Error(ne(10));r=_,d({type:sn.REPLACE})}function S(){const _=v;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(ne(11));function $(){const E=k;E.next&&E.next(f())}return $(),{unsubscribe:_($)}},[Pr](){return this}}}return d({type:sn.INIT}),{dispatch:d,subscribe:v,getState:f,replaceReducer:h,[Pr]:S}}function Ea(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:sn.INIT})>"u")throw new Error(ne(12));if(typeof n(void 0,{type:sn.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ne(13))})}function Ta(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{Ea(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let o=!1;const u={};for(let f=0;f<r.length;f++){const v=r[f],d=n[v],h=a[v],S=d(h,l);if(typeof S>"u")throw l&&l.type,new Error(ne(14));u[v]=S,o=o||S!==h}return o=o||r.length!==Object.keys(a).length,o?u:a}}function an(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Sa(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(ne(15))};const a={getState:i.getState,dispatch:(o,...u)=>s(o,...u)},l=e.map(o=>o(a));return s=an(...l)(i.dispatch),{...i,dispatch:s}}}function ka(e){return er(e)&&"type"in e&&typeof e.type=="string"}var Si=Symbol.for("immer-nothing"),Ir=Symbol.for("immer-draftable"),de=Symbol.for("immer-state");function Pe(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ye=Object,St=ye.getPrototypeOf,on="constructor",dn="prototype",zn="configurable",ln="enumerable",Zt="writable",Ft="value",Ye=e=>!!e&&!!e[de];function He(e){return e?ki(e)||hn(e)||!!e[Ir]||!!e[on]?.[Ir]||vn(e)||_n(e):!1}var Pa=ye[dn][on].toString(),Cr=new WeakMap;function ki(e){if(!e||!tr(e))return!1;const t=St(e);if(t===null||t===ye[dn])return!0;const n=ye.hasOwnProperty.call(t,on)&&t[on];if(n===Object)return!0;if(!pt(n))return!1;let r=Cr.get(n);return r===void 0&&(r=Function.toString.call(n),Cr.set(n,r)),r===Pa}function Ut(e,t,n=!0){Vt(e)===0?(n?Reflect.ownKeys(e):ye.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Vt(e){const t=e[de];return t?t.type_:hn(e)?1:vn(e)?2:_n(e)?3:0}var Mr=(e,t,n=Vt(e))=>n===2?e.has(t):ye[dn].hasOwnProperty.call(e,t),An=(e,t,n=Vt(e))=>n===2?e.get(t):e[t],cn=(e,t,n,r=Vt(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Ia(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var hn=Array.isArray,vn=e=>e instanceof Map,_n=e=>e instanceof Set,tr=e=>typeof e=="object",pt=e=>typeof e=="function",Tn=e=>typeof e=="boolean",Ge=e=>e.copy_||e.base_,nr=e=>e.modified_?e.copy_:e.base_;function On(e,t){if(vn(e))return new Map(e);if(_n(e))return new Set(e);if(hn(e))return Array[dn].slice.call(e);const n=ki(e);if(t===!0||t==="class_only"&&!n){const r=ye.getOwnPropertyDescriptors(e);delete r[de];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l[Zt]===!1&&(l[Zt]=!0,l[zn]=!0),(l.get||l.set)&&(r[a]={[zn]:!0,[Zt]:!0,[ln]:l[ln],[Ft]:e[a]})}return ye.create(St(e),r)}else{const r=St(e);if(r!==null&&n)return{...e};const i=ye.create(r);return ye.assign(i,e)}}function rr(e,t=!1){return pn(e)||Ye(e)||(Vt(e)>1&&ye.defineProperties(e,{set:Kt,add:Kt,clear:Kt,delete:Kt}),ye.freeze(e),t&&Ut(e,(n,r)=>{rr(r,!0)},!1)),e}function Ca(){Pe(2)}var Kt={[Ft]:Ca};function pn(e){return e===null||!tr(e)?!0:ye.isFrozen(e)}var un="MapSet",Rn="Patches",Pi={};function kt(e){const t=Pi[e];return t||Pe(0,e),t}var Ma=e=>!!Pi[e],Lt,Ii=()=>Lt,za=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Ma(un)?kt(un):void 0});function zr(e,t){t&&(e.patchPlugin_=kt(Rn),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dn(e){Nn(e),e.drafts_.forEach(Aa),e.drafts_=null}function Nn(e){e===Lt&&(Lt=e.parent_)}var Ar=e=>Lt=za(Lt,e);function Aa(e){const t=e[de];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Or(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[de].modified_&&(Dn(t),Pe(4)),He(e)&&(e=Rr(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[de].base_,e,t)}else e=Rr(t,n);return Oa(t,e,!0),Dn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Si?e:void 0}function Rr(e,t){if(pn(t))return t;const n=t[de];if(!n)return ir(t,e.handledSet_,e);if(!gn(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);zi(n,e)}return n.copy_}function Oa(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rr(t,n)}function Ci(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var gn=(e,t)=>e.scope_===t,Ra=[];function Mi(e,t,n,r){const i=Ge(e),s=e.type_;if(r!==void 0&&An(i,r,s)===t){cn(i,r,n,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Ut(i,(o,u)=>{if(Ye(u)){const f=l.get(u)||[];f.push(o),l.set(u,f)}})}const a=e.draftLocations_.get(t)??Ra;for(const l of a)cn(i,l,n,s)}function Da(e,t,n){e.callbacks_.push(function(i){const s=t;if(!s||!gn(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=nr(s);Mi(e,s.draft_??s,a,n),zi(s,i)})}function zi(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}Ci(e)}}function Na(e,t,n){const{scope_:r}=e;if(Ye(n)){const i=n[de];gn(i,r)&&i.callbacks_.push(function(){Jt(e);const a=nr(i);Mi(e,n,a,t)})}else He(n)&&e.callbacks_.push(function(){const s=Ge(e);An(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ir(An(e.copy_,t,e.type_),r.handledSet_,r)})}function ir(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ye(e)||t.has(e)||!He(e)||pn(e)||(t.add(e),Ut(e,(r,i)=>{if(Ye(i)){const s=i[de];if(gn(s,n)){const a=nr(s);cn(e,r,a,e.type_),Ci(s)}}else He(i)&&ir(i,t,n)})),e}function Ha(e,t){const n=hn(e),r={type_:n?1:0,scope_:t?t.scope_:Ii(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=sr;n&&(i=[r],s=$t);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,[l,r]}var sr={get(e,t){if(t===de)return e;const n=Ge(e);if(!Mr(n,t,e.type_))return Fa(e,n,t);const r=n[t];if(e.finalized_||!He(r))return r;if(r===Sn(e.base_,t)){Jt(e);const i=e.type_===1?+t:t,s=Fn(e.scope_,r,e,i);return e.copy_[i]=s}return r},has(e,t){return t in Ge(e)},ownKeys(e){return Reflect.ownKeys(Ge(e))},set(e,t,n){const r=Ai(Ge(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Sn(Ge(e),t),s=i?.[de];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Ia(n,i)&&(n!==void 0||Mr(e.base_,t,e.type_)))return!0;Jt(e),Hn(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Na(e,t,n)),!0},deleteProperty(e,t){return Jt(e),Sn(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Hn(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ge(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Zt]:!0,[zn]:e.type_!==1||t!=="length",[ln]:r[ln],[Ft]:n[t]}},defineProperty(){Pe(11)},getPrototypeOf(e){return St(e.base_)},setPrototypeOf(){Pe(12)}},$t={};Ut(sr,(e,t)=>{$t[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});$t.deleteProperty=function(e,t){return $t.set.call(this,e,t,void 0)};$t.set=function(e,t,n){return sr.set.call(this,e[0],t,n,e[0])};function Sn(e,t){const n=e[de];return(n?Ge(n):e)[t]}function Fa(e,t,n){const r=Ai(t,n);return r?Ft in r?r[Ft]:r.get?.call(e.draft_):void 0}function Ai(e,t){if(!(t in e))return;let n=St(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=St(n)}}function Hn(e){e.modified_||(e.modified_=!0,e.parent_&&Hn(e.parent_))}function Jt(e){e.copy_||(e.assigned_=new Map,e.copy_=On(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var La=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(pt(t)&&!pt(n)){const s=n;n=t;const a=this;return function(o=s,...u){return a.produce(o,f=>n.call(this,f,...u))}}pt(n)||Pe(6),r!==void 0&&!pt(r)&&Pe(7);let i;if(He(t)){const s=Ar(this),a=Fn(s,t,void 0);let l=!0;try{i=n(a),l=!1}finally{l?Dn(s):Nn(s)}return zr(s,r),Or(i,s)}else if(!t||!tr(t)){if(i=n(t),i===void 0&&(i=t),i===Si&&(i=void 0),this.autoFreeze_&&rr(i,!0),r){const s=[],a=[];kt(Rn).generateReplacementPatches_(t,i,{patches_:s,inversePatches_:a}),r(s,a)}return i}else Pe(1,t)},this.produceWithPatches=(t,n)=>{if(pt(t))return(a,...l)=>this.produceWithPatches(a,o=>t(o,...l));let r,i;return[this.produce(t,n,(a,l)=>{r=a,i=l}),r,i]},Tn(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Tn(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Tn(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){He(e)||Pe(8),Ye(e)&&(e=$a(e));const t=Ar(this),n=Fn(t,e,void 0);return n[de].isManual_=!0,Nn(t),n}finishDraft(e,t){const n=e&&e[de];(!n||!n.isManual_)&&Pe(9);const{scope_:r}=n;return zr(r,t),Or(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=kt(Rn).applyPatches_;return Ye(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Fn(e,t,n,r){const[i,s]=vn(t)?kt(un).proxyMap_(t,n):_n(t)?kt(un).proxySet_(t,n):Ha(t,n);return(n?.scope_??Ii()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?Da(n,s,r):s.callbacks_.push(function(o){o.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:u}=o;s.modified_&&u&&u.generatePatches_(s,[],o)}),i}function $a(e){return Ye(e)||Pe(10,e),Oi(e)}function Oi(e){if(!He(e)||pn(e))return e;const t=e[de];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=On(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=On(e,!0);return Ut(n,(i,s)=>{cn(n,i,Oi(s))},r),t&&(t.finalized_=!1),n}var Ba=new La,Ri=Ba.produce;function Di(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var qa=Di(),ja=Di,Ua=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?an:an.apply(null,arguments)};function Dr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Ke(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>ka(r)&&r.type===e,n}var Ni=class zt extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zt.prototype)}static get[Symbol.species](){return zt}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zt(...t[0].concat(this)):new zt(...t.concat(this))}};function Nr(e){return He(e)?Ri(e,()=>{}):e}function Yt(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Va(e){return typeof e=="boolean"}var Ga=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new Ni;return n&&(Va(n)?a.push(qa):a.push(ja(n.extraArgument))),a},Wa="RTK_autoBatch",Hr=e=>t=>{setTimeout(t,e)},Ka=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,a=!1;const l=new Set,o=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Hr(10):e.type==="callback"?e.queueNotification:Hr(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const v=()=>i&&f(),d=r.subscribe(v);return l.add(f),()=>{d(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[Wa],s=!i,s&&(a||(a=!0,o(u))),r.dispatch(f)}finally{i=!0}}})},Ya=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Ni(e);return r&&i.push(Ka(typeof r=="object"?r:void 0)),i};function Xa(e){const t=Ga(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(er(n))l=Ta(n);else throw new Error(Ke(1));let o;typeof r=="function"?o=r(t):o=t();let u=an;i&&(u=Ua({trace:!1,...typeof i=="object"&&i}));const f=Sa(...o),v=Ya(f);let d=typeof a=="function"?a(v):v();const h=u(...d);return Ti(l,s,h)}function Hi(e){const t={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Ke(28));if(l in t)throw new Error(Ke(29));return t[l]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Qa(e){return typeof e=="function"}function Za(e,t){let[n,r,i]=Hi(t),s;if(Qa(e))s=()=>Nr(e());else{const l=Nr(e);s=()=>l}function a(l=s(),o){let u=[n[o.type],...r.filter(({matcher:f})=>f(o)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[i]),u.reduce((f,v)=>{if(v)if(Ye(f)){const h=v(f,o);return h===void 0?f:h}else{if(He(f))return Ri(f,d=>v(d,o));{const d=v(f,o);if(d===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return f},l)}return a.getInitialState=s,a}var Ja=Symbol.for("rtk-slice-createasyncthunk");function eo(e,t){return`${e}/${t}`}function to({creators:e}={}){const t=e?.asyncThunk?.[Ja];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Ke(11));const a=(typeof r.reducers=="function"?r.reducers(ro()):r.reducers)||{},l=Object.keys(a),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(x,E){const R=typeof x=="string"?x:x.type;if(!R)throw new Error(Ke(12));if(R in o.sliceCaseReducersByType)throw new Error(Ke(13));return o.sliceCaseReducersByType[R]=E,u},addMatcher(x,E){return o.sliceMatchers.push({matcher:x,reducer:E}),u},exposeAction(x,E){return o.actionCreators[x]=E,u},exposeCaseReducer(x,E){return o.sliceCaseReducersByName[x]=E,u}};l.forEach(x=>{const E=a[x],R={reducerName:x,type:eo(i,x),createNotation:typeof r.reducers=="function"};so(E)?oo(R,E,u,t):io(R,E,u)});function f(){const[x={},E=[],R=void 0]=typeof r.extraReducers=="function"?Hi(r.extraReducers):[r.extraReducers],N={...x,...o.sliceCaseReducersByType};return Za(r.initialState,B=>{for(let H in N)B.addCase(H,N[H]);for(let H of o.sliceMatchers)B.addMatcher(H.matcher,H.reducer);for(let H of E)B.addMatcher(H.matcher,H.reducer);R&&B.addDefaultCase(R)})}const v=x=>x,d=new Map,h=new WeakMap;let S;function O(x,E){return S||(S=f()),S(x,E)}function _(){return S||(S=f()),S.getInitialState()}function k(x,E=!1){function R(B){let H=B[x];return typeof H>"u"&&E&&(H=Yt(h,R,_)),H}function N(B=v){const H=Yt(d,E,()=>new WeakMap);return Yt(H,B,()=>{const b={};for(const[w,T]of Object.entries(r.selectors??{}))b[w]=no(T,B,()=>Yt(h,B,_),E);return b})}return{reducerPath:x,getSelectors:N,get selectors(){return N(R)},selectSlice:R}}const $={name:i,reducer:O,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:_,...k(s),injectInto(x,{reducerPath:E,...R}={}){const N=E??s;return x.inject({reducerPath:N,reducer:O},R),{...$,...k(N,!0)}}};return $}}function no(e,t,n,r){function i(s,...a){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...a)}return i.unwrapped=e,i}var Fi=to();function ro(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function io({type:e,reducerName:t,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!ao(r))throw new Error(Ke(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Dr(e,a):Dr(e))}function so(e){return e._reducerDefinitionType==="asyncThunk"}function ao(e){return e._reducerDefinitionType==="reducerWithPrepare"}function oo({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Ke(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:o,settled:u,options:f}=n,v=i(e,s,f);r.exposeAction(t,v),a&&r.addCase(v.fulfilled,a),l&&r.addCase(v.pending,l),o&&r.addCase(v.rejected,o),u&&r.addMatcher(v.settled,u),r.exposeCaseReducer(t,{fulfilled:a||Xt,pending:l||Xt,rejected:o||Xt,settled:u||Xt})}function Xt(){}function Ke(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const lo=[{id:"quinn",name:"Quinn",heroClass:"Cleric",imagePath:"assets/Hero_Cleric_Quinn.png",speed:5},{id:"vistra",name:"Vistra",heroClass:"Fighter",imagePath:"assets/Hero_Fighter_Vistra.png",speed:5},{id:"keyleth",name:"Keyleth",heroClass:"Paladin",imagePath:"assets/Hero_Paladin_Keyleth.png",speed:6},{id:"tarak",name:"Tarak",heroClass:"Rogue",imagePath:"assets/Hero_Rogue_Tarak.png",speed:6},{id:"haskan",name:"Haskan",heroClass:"Wizard",imagePath:"assets/Hero_Wizard_Haskan.png",speed:6}],co=[{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:3,y:3},{x:3,y:4},{x:1,y:5},{x:2,y:5},{x:3,y:5}],Li=[{tileType:"tile-2exit-a",imagePath:"assets/Tile_Black_x2_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-2exit-b",imagePath:"assets/Tile_Black_x2_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-2exit-c",imagePath:"assets/Tile_Black_x2_03.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-a",imagePath:"assets/Tile_Black_x3_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-b",imagePath:"assets/Tile_Black_x3_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-3exit-c",imagePath:"assets/Tile_Black_x3_03.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-4exit-a",imagePath:"assets/Tile_Black_x4_01.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}},{tileType:"tile-4exit-b",imagePath:"assets/Tile_Black_x4_02.png",defaultEdges:{north:"wall",south:"wall",east:"wall",west:"wall"}}],uo=["tile-2exit-a","tile-2exit-b","tile-2exit-c","tile-3exit-a","tile-3exit-b","tile-3exit-c","tile-4exit-a","tile-4exit-b"],fo={id:"start-tile",tileType:"start",position:{col:0,row:0},rotation:0,edges:{north:"unexplored",south:"unexplored",east:"unexplored",west:"unexplored"}},ho={availableHeroes:lo,selectedHeroes:[],heroEdgeMap:{}},$i=Fi({name:"heroes",initialState:ho,reducers:{toggleHeroSelection:(e,t)=>{const n=t.payload,r=e.selectedHeroes.findIndex(i=>i.id===n);if(r>=0)e.selectedHeroes.splice(r,1),delete e.heroEdgeMap[n];else if(e.selectedHeroes.length<5){const i=e.availableHeroes.find(s=>s.id===n);i&&e.selectedHeroes.push(i)}},selectHeroFromEdge:(e,t)=>{const{heroId:n,edge:r}=t.payload,i=e.selectedHeroes.findIndex(s=>s.id===n);if(i>=0)e.heroEdgeMap[n]===r&&(e.selectedHeroes.splice(i,1),delete e.heroEdgeMap[n]);else if(e.selectedHeroes.length<5){const s=e.availableHeroes.find(a=>a.id===n);s&&(e.selectedHeroes.push(s),e.heroEdgeMap[n]=r)}},clearSelection:e=>{e.selectedHeroes=[],e.heroEdgeMap={}}}}),{toggleHeroSelection:gl,selectHeroFromEdge:vo,clearSelection:ml}=$i.actions,_o=$i.reducer,At={minX:1,maxX:3,minY:0,maxY:7,staircase:[{x:1,y:3},{x:2,y:3},{x:1,y:4},{x:2,y:4}]};function po(e){return e.x>=At.minX&&e.x<=At.maxX&&e.y>=At.minY&&e.y<=At.maxY}function go(e){return At.staircase.some(t=>t.x===e.x&&t.y===e.y)}function mo(e){return po(e)&&!go(e)}function wo(e,t,n){return t.some(r=>r.position.x===e.x&&r.position.y===e.y&&r.heroId!==n)}function yo(e){const t=[],n=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:-1},{dx:1,dy:-1},{dx:-1,dy:1},{dx:1,dy:1}];for(const r of n){const i={x:e.x+r.dx,y:e.y+r.dy};mo(i)&&t.push(i)}return t}function xo(e,t,n,r){const i=[],s=new Set,a=[{pos:e,distance:0}];for(s.add(`${e.x},${e.y}`);a.length>0;){const l=a.shift();if(!l)break;if(l.distance>0&&!wo(l.pos,n,r)&&i.push(l.pos),l.distance<t){const o=yo(l.pos);for(const u of o){const f=`${u.x},${u.y}`;s.has(f)||(s.add(f),a.push({pos:u,distance:l.distance+1}))}}}return i}function bo(e,t){return t.some(n=>n.x===e.x&&n.y===e.y)}const Eo={north:[{x:1,y:0},{x:2,y:0},{x:3,y:0}],south:[{x:1,y:7},{x:2,y:7},{x:3,y:7}],east:[{x:3,y:0},{x:3,y:1},{x:3,y:2},{x:3,y:5},{x:3,y:6},{x:3,y:7}],west:[{x:1,y:0},{x:1,y:1},{x:1,y:2},{x:1,y:5},{x:1,y:6},{x:1,y:7}]};function To(e,t){return Eo[t].some(r=>r.x===e.x&&r.y===e.y)}function Bi(e){return{north:"south",south:"north",east:"west",west:"east"}[e]}function So(e,t){const n=t.tiles.find(r=>r.id==="start-tile");if(!n)return null;for(const r of t.unexploredEdges)if(r.tileId===n.id&&To(e.position,r.direction))return r;return null}function ko(e,t){const{col:n,row:r}=e.position;switch(t){case"north":return{col:n,row:r-1};case"south":return{col:n,row:r+1};case"east":return{col:n+1,row:r};case"west":return{col:n-1,row:r}}}function Po(e){return 0}function Io(e){return Li.find(t=>t.tileType===e)}function Co(e,t,n){const r=n.tiles.find(f=>f.id===e.tileId);if(!r)return null;const i=ko(r,e.direction),s=Po(e.direction);if(!Io(t))return null;const l=`tile-${n.tiles.length}`,u={north:"unexplored",south:"unexplored",east:"unexplored",west:"unexplored",[Bi(e.direction)]:"open"};return{id:l,tileType:t,position:i,rotation:s,edges:u}}function Ln(){return{tiles:[{...fo}],unexploredEdges:[{tileId:"start-tile",direction:"north"},{tileId:"start-tile",direction:"south"},{tileId:"start-tile",direction:"east"},{tileId:"start-tile",direction:"west"}],tileDeck:[]}}function Mo(e,t=Math.random){const n=[...e];for(let r=n.length-1;r>0;r--){const i=Math.floor(t()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}function zo(e,t=Math.random){return Mo(e,t)}function Ao(e){if(e.length===0)return{drawnTile:null,remainingDeck:[]};const[t,...n]=e;return{drawnTile:t,remainingDeck:n}}function Oo(e,t,n){const r=e.unexploredEdges.filter(o=>!(o.tileId===t.tileId&&o.direction===t.direction)),i=Bi(t.direction),a=["north","south","east","west"].filter(o=>o!==i&&n.edges[o]==="unexplored").map(o=>({tileId:n.id,direction:o}));return{tiles:[...e.tiles.map(o=>o.id===t.tileId?{...o,edges:{...o.edges,[t.direction]:"open"}}:o),n],unexploredEdges:[...r,...a],tileDeck:e.tileDeck}}const $n={currentHeroIndex:0,currentPhase:"hero-phase",turnNumber:1},Ro={currentScreen:"character-select",heroTokens:[],turnState:{...$n},validMoveSquares:[],showingMovement:!1,dungeon:Ln()};function Do(e){let t=e;return()=>(t=t*1103515245+12345&2147483647,t/2147483647)}function No(e,t=Math.random){const n=[...e];for(let r=n.length-1;r>0;r--){const i=Math.floor(t()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}const qi=Fi({name:"game",initialState:Ro,reducers:{startGame:(e,t)=>{const{heroIds:n,positions:r,seed:i}=t.payload;if(n.length===0||n.length>5)return;const s=i??Date.now();e.randomSeed=s;let a;const l=Do(s);r?a=r:a=No(co,l).slice(0,5),e.heroTokens=n.map((u,f)=>({heroId:u,position:a[f]})),e.turnState={...$n},e.validMoveSquares=[],e.showingMovement=!1;const o=Ln();o.tileDeck=zo([...uo],l),e.dungeon=o,e.currentScreen="game-board"},setHeroPosition:(e,t)=>{const n=e.heroTokens.find(r=>r.heroId===t.payload.heroId);n&&(n.position=t.payload.position)},showMovement:(e,t)=>{const{heroId:n,speed:r}=t.payload,i=e.heroTokens.find(s=>s.heroId===n);i&&(e.validMoveSquares=xo(i.position,r,e.heroTokens,n),e.showingMovement=!0)},hideMovement:e=>{e.validMoveSquares=[],e.showingMovement=!1},moveHero:(e,t)=>{const{heroId:n,position:r}=t.payload;if(!bo(r,e.validMoveSquares))return;const i=e.heroTokens.find(s=>s.heroId===n);i&&(i.position=r,e.validMoveSquares=[],e.showingMovement=!1)},resetGame:e=>{e.currentScreen="character-select",e.heroTokens=[],e.turnState={...$n},e.randomSeed=void 0,e.validMoveSquares=[],e.showingMovement=!1,e.dungeon=Ln()},endHeroPhase:e=>{if(e.turnState.currentPhase!=="hero-phase")return;const t=e.heroTokens[e.turnState.currentHeroIndex];if(!t)return;const n=So(t,e.dungeon);if(n&&e.dungeon.tileDeck.length>0){const{drawnTile:r,remainingDeck:i}=Ao(e.dungeon.tileDeck);if(r){const s=Co(n,r,e.dungeon);s&&(e.dungeon=Oo(e.dungeon,n,s),e.dungeon.tileDeck=i)}}e.turnState.currentPhase="exploration-phase"},endExplorationPhase:e=>{e.turnState.currentPhase==="exploration-phase"&&(e.turnState.currentPhase="villain-phase")},endVillainPhase:e=>{e.turnState.currentPhase==="villain-phase"&&(e.turnState.currentHeroIndex=(e.turnState.currentHeroIndex+1)%e.heroTokens.length,e.turnState.currentHeroIndex===0&&(e.turnState.turnNumber+=1),e.turnState.currentPhase="hero-phase")}}}),{startGame:Ho,setHeroPosition:wl,showMovement:Fo,hideMovement:Lo,moveHero:$o,resetGame:Bo,endHeroPhase:qo,endExplorationPhase:jo,endVillainPhase:Uo}=qi.actions,Vo=qi.reducer,Z=Xa({reducer:{heroes:_o,game:Vo}});typeof window<"u"&&(window.__REDUX_STORE__=Z);function Oe(e){const t="/Ashardalon/pr-51/",n=e.startsWith("/")?e.slice(1):e;return(t.endsWith("/")?t:t+"/")+n}var Go=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Wo=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Ko=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Yo=ee('<button><img class="hero-image svelte-1rwnzlz"/> <div class="hero-info svelte-1rwnzlz"><span class="hero-name svelte-1rwnzlz" data-testid="hero-name"> </span> <span class="hero-class svelte-1rwnzlz"> </span></div></button>'),Xo=ee('<div class="character-select svelte-1rwnzlz" data-testid="character-select"><div class="edge-zone edge-top svelte-1rwnzlz" data-testid="edge-top"><div class="hero-row svelte-1rwnzlz" data-testid="hero-grid"></div></div> <div class="middle-section svelte-1rwnzlz"><div class="edge-zone edge-left svelte-1rwnzlz" data-testid="edge-left"><div class="hero-column svelte-1rwnzlz"></div></div> <div class="center-zone svelte-1rwnzlz" data-testid="center-zone"><h1 class="svelte-1rwnzlz">Select Your Heroes</h1> <p class="instructions svelte-1rwnzlz">Choose 1-5 heroes for your adventure</p> <p class="instructions svelte-1rwnzlz">Tap a hero from your edge of the table</p> <div class="selection-info svelte-1rwnzlz"><span data-testid="selected-count"> </span></div> <button class="start-button svelte-1rwnzlz" data-testid="start-game-button">Start Adventure</button></div> <div class="edge-zone edge-right svelte-1rwnzlz" data-testid="edge-right"><div class="hero-column svelte-1rwnzlz"></div></div></div> <div class="edge-zone edge-bottom svelte-1rwnzlz" data-testid="edge-bottom"><div class="hero-row svelte-1rwnzlz"></div></div></div>');function Qo(e,t){It(t,!0);let n=Q(we([])),r=Q(we([])),i=Q(we({}));tn(()=>{const b=Z.subscribe(()=>{const T=Z.getState();D(n,T.heroes.selectedHeroes,!0),D(r,T.heroes.availableHeroes,!0),D(i,T.heroes.heroEdgeMap,!0)}),w=Z.getState();return D(n,w.heroes.selectedHeroes,!0),D(r,w.heroes.availableHeroes,!0),D(i,w.heroes.heroEdgeMap,!0),b});function s(b,w){return c(i)[b]===w}function a(b,w){const T=c(i)[b];return T!==void 0&&T!==w}function l(b,w){Z.dispatch(vo({heroId:b,edge:w}))}function o(){c(n).length>0&&Z.dispatch(Ho({heroIds:c(n).map(b=>b.id)}))}function u(){return c(n).length>=1&&c(n).length<=5}var f=Xo(),v=m(f),d=m(v);et(d,21,()=>c(r),b=>b.id,(b,w)=>{var T=Go();let q;T.__click=()=>l(c(w).id,"top");var Y=m(T),te=P(Y,2),X=m(te),he=m(X),Fe=P(X,2),Le=m(Fe);ae((ie,Ce,$e)=>{q=Ae(T,1,"hero-card svelte-1rwnzlz",null,q,ie),A(T,"data-testid",`hero-${c(w).id??""}-top`),T.disabled=Ce,A(Y,"src",$e),A(Y,"alt",c(w).name),U(he,c(w).name),U(Le,c(w).heroClass)},[()=>({selected:s(c(w).id,"top"),unavailable:a(c(w).id,"top")}),()=>a(c(w).id,"top"),()=>Oe(c(w).imagePath)]),j(b,T)});var h=P(v,2),S=m(h),O=m(S);et(O,21,()=>c(r),b=>b.id,(b,w)=>{var T=Wo();let q;T.__click=()=>l(c(w).id,"left");var Y=m(T),te=P(Y,2),X=m(te),he=m(X),Fe=P(X,2),Le=m(Fe);ae((ie,Ce,$e)=>{q=Ae(T,1,"hero-card svelte-1rwnzlz",null,q,ie),A(T,"data-testid",`hero-${c(w).id??""}-left`),T.disabled=Ce,A(Y,"src",$e),A(Y,"alt",c(w).name),U(he,c(w).name),U(Le,c(w).heroClass)},[()=>({selected:s(c(w).id,"left"),unavailable:a(c(w).id,"left")}),()=>a(c(w).id,"left"),()=>Oe(c(w).imagePath)]),j(b,T)});var _=P(S,2),k=P(m(_),6),$=m(k),x=m($),E=P(k,2);E.__click=o;var R=P(_,2),N=m(R);et(N,21,()=>c(r),b=>b.id,(b,w)=>{var T=Ko();let q;T.__click=()=>l(c(w).id,"right");var Y=m(T),te=P(Y,2),X=m(te),he=m(X),Fe=P(X,2),Le=m(Fe);ae((ie,Ce,$e)=>{q=Ae(T,1,"hero-card svelte-1rwnzlz",null,q,ie),A(T,"data-testid",`hero-${c(w).id??""}-right`),T.disabled=Ce,A(Y,"src",$e),A(Y,"alt",c(w).name),U(he,c(w).name),U(Le,c(w).heroClass)},[()=>({selected:s(c(w).id,"right"),unavailable:a(c(w).id,"right")}),()=>a(c(w).id,"right"),()=>Oe(c(w).imagePath)]),j(b,T)});var B=P(h,2),H=m(B);et(H,21,()=>c(r),b=>b.id,(b,w)=>{var T=Yo();let q;T.__click=()=>l(c(w).id,"bottom");var Y=m(T),te=P(Y,2),X=m(te),he=m(X),Fe=P(X,2),Le=m(Fe);ae((ie,Ce,$e)=>{q=Ae(T,1,"hero-card svelte-1rwnzlz",null,q,ie),A(T,"data-testid",`hero-${c(w).id??""}`),T.disabled=Ce,A(Y,"src",$e),A(Y,"alt",c(w).name),U(he,c(w).name),U(Le,c(w).heroClass)},[()=>({selected:s(c(w).id,"bottom"),unavailable:a(c(w).id,"bottom")}),()=>a(c(w).id,"bottom"),()=>Oe(c(w).imagePath)]),j(b,T)}),ae(b=>{U(x,`${c(n).length??""} heroes selected`),E.disabled=b},[()=>!u()]),j(e,f),Ct()}Jn(["click"]);var Zo=ee('<button class="move-square svelte-ehd1hj" data-testid="move-square"><span class="sr-only svelte-ehd1hj"> </span></button>'),Jo=ee('<div class="movement-overlay svelte-ehd1hj" data-testid="movement-overlay"></div>');function el(e,t){It(t,!0);function n(s){const a=t.tileOffsetX+s.x*t.cellSize,l=t.tileOffsetY+s.y*t.cellSize;return`left: ${a}px; top: ${l}px; width: ${t.cellSize}px; height: ${t.cellSize}px;`}function r(s,a){s.stopPropagation(),t.onSquareClick(a)}var i=Jo();et(i,21,()=>t.validMoveSquares,s=>`${s.x},${s.y}`,(s,a)=>{var l=Zo();l.__click=f=>r(f,c(a));var o=m(l),u=m(o);ae(f=>{A(l,"data-position-x",c(a).x),A(l,"data-position-y",c(a).y),wt(l,f),U(u,`Move to (${c(a).x??""}, ${c(a).y??""})`)},[()=>n(c(a))]),j(s,l)}),j(e,i),Ct()}Jn(["click"]);var tl=ee('<div class="tile-deck-counter svelte-9649r" data-testid="tile-deck-counter"><span class="deck-icon svelte-9649r">ð¦</span> <span class="deck-count svelte-9649r" data-testid="tile-deck-count"> </span> <span class="deck-label svelte-9649r">tiles</span></div>');function nl(e,t){var n=tl(),r=P(m(n),2),i=m(r);ae(()=>U(i,t.tileCount)),j(e,n)}var rl=ee('<div class="unexplored-edge svelte-12eown4" data-testid="unexplored-edge"><span class="question-mark svelte-12eown4">?</span></div>');function il(e,t){It(t,!0);const r=(()=>{const l=t.cellSize*1.5,o=36;switch(t.direction){case"north":return{left:`${t.tileWidth/2-l/2}px`,top:`${o-8/2}px`,width:`${l}px`,height:"8px"};case"south":return{left:`${t.tileWidth/2-l/2}px`,bottom:`${o-8/2}px`,width:`${l}px`,height:"8px"};case"east":return{right:`${o-8/2}px`,top:`${t.tileHeight/2-l/2}px`,width:"8px",height:`${l}px`};case"west":return{left:`${o-8/2}px`,top:`${t.tileHeight/2-l/2}px`,width:"8px",height:`${l}px`}}})(),i=Object.entries(r).map(([a,l])=>`${a}: ${l}`).join("; ");var s=rl();ae(()=>{A(s,"data-direction",t.direction),wt(s,i)}),j(e,s),Ct()}var sl=ee('<div class="player-info svelte-8w11tm" data-testid="turn-indicator"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm" data-testid="turn-phase"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),al=ee('<div class="player-info svelte-8w11tm"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),ol=ee('<div><img class="tile-image svelte-8w11tm"/> <!></div>'),ll=ee('<div class="movement-overlay-container svelte-8w11tm"><!></div>'),cl=ee('<div data-testid="hero-token"><img class="token-image svelte-8w11tm"/> <span class="token-label svelte-8w11tm"> </span></div>'),ul=ee('<div class="player-info svelte-8w11tm"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),fl=ee('<div class="player-info svelte-8w11tm" data-testid="turn-indicator"><img class="player-avatar svelte-8w11tm"/> <div class="turn-details svelte-8w11tm"><span class="player-name svelte-8w11tm"> </span> <span class="turn-phase svelte-8w11tm" data-testid="turn-phase"> </span> <span class="turn-number svelte-8w11tm"> </span></div></div>'),dl=ee('<div class="game-board svelte-8w11tm" data-testid="game-board"><div data-testid="player-zone-top"><!></div> <div class="middle-section svelte-8w11tm"><div data-testid="player-zone-left"><!></div> <div class="board-container svelte-8w11tm"><div class="dungeon-map svelte-8w11tm" data-testid="dungeon-map" role="button" tabindex="0"><!> <!> <!></div> <div class="board-controls svelte-8w11tm"><!> <button class="end-phase-button svelte-8w11tm" data-testid="end-phase-button"> </button> <button class="reset-button svelte-8w11tm" data-testid="reset-button">â© Return to Character Select</button></div></div> <div data-testid="player-zone-right"><!></div></div> <div data-testid="player-zone-bottom"><!></div></div>');function hl(e,t){It(t,!0);const n=140,r=4,i=8,s=4,a=n*r,l=n*i,o=n*s,u=32,f=.15,v=1,d=36,h=36,S=632,O=632,_=1195;let k=Q(we([])),$=Q(we([])),x=Q(we({currentHeroIndex:0,currentPhase:"hero-phase",turnNumber:1})),E=Q(we([])),R=Q(!1),N=Q(we({tiles:[],unexploredEdges:[],tileDeck:[]})),B=Q(null),H=Q(1),b=J(()=>w(c(N)));tn(()=>{const p=Z.subscribe(()=>{const y=Z.getState();D(k,y.game.heroTokens,!0),D($,y.heroes.selectedHeroes,!0),D(x,y.game.turnState,!0),D(E,y.game.validMoveSquares,!0),D(R,y.game.showingMovement,!0),D(N,y.game.dungeon,!0)}),g=Z.getState();return D(k,g.game.heroTokens,!0),D($,g.heroes.selectedHeroes,!0),D(x,g.game.turnState,!0),D(E,g.game.validMoveSquares,!0),D(R,g.game.showingMovement,!0),D(N,g.game.dungeon,!0),p});function w(p){if(p.tiles.length===0)return{minCol:0,maxCol:0,minRow:0,maxRow:0,width:S,height:_};let g=1/0,y=-1/0,C=1/0,z=-1/0;for(const K of p.tiles)g=Math.min(g,K.position.col),y=Math.max(y,K.position.col),C=Math.min(C,K.position.row),z=Math.max(z,K.position.row);const V=y-g+1,F=S+(V-1)*a,W=Math.max(0,-C),I=Math.max(0,z),ce=_+W*o+I*o;return{minCol:g,maxCol:y,minRow:C,maxRow:z,width:Math.max(F,S),height:Math.max(ce,_)}}function T(p,g){const y=(p.position.col-g.minCol)*a;let C=0;return p.position.row<0?C=(p.position.row-g.minRow)*o:p.position.row===0?C=Math.max(0,-g.minRow)*o:C=Math.max(0,-g.minRow)*o+l+(p.position.row-1)*o,{x:y,y:C}}function q(p){return p.tileType==="start"?"assets/StartTile.png":Li.find(y=>y.tileType===p.tileType)?.imagePath||"assets/Tile_Black_x2_01.png"}function Y(p){return p.tileType==="start"?{width:S,height:_}:{width:S,height:O}}tn(()=>{if(c(B)){const p=()=>{const y=c(B);if(!y)return;const C=y.clientWidth-u,z=y.clientHeight-u,V=c(b),F=C/V.width,W=z/V.height,I=Math.min(F,W,v);D(H,Math.max(I,f),!0)};p();const g=new ResizeObserver(p);return g.observe(c(B)),()=>g.disconnect()}});function te(p){return c($).find(g=>g.id===p)}function X(){return c(k)[c(x).currentHeroIndex]?.heroId}function he(p){switch(p){case"hero-phase":return"Hero Phase";case"exploration-phase":return"Exploration Phase";case"villain-phase":return"Villain Phase"}}function Fe(){Z.dispatch(Bo())}function Le(p,g){const y=n/2,C=g.x+d+p.x*n+y,z=g.y+h+p.y*n+y;return`left: ${C}px; top: ${z}px;`}function ie(){const p=c(x).currentHeroIndex%4;return["bottom","right","top","left"][p]}function Ce(p){if(c(x).currentPhase!=="hero-phase")return;const g=X();if(!g)return;const y=te(g);y&&(c(R)?Z.dispatch(Lo()):Z.dispatch(Fo({heroId:g,speed:y.speed})))}function $e(p){const g=X();g&&Z.dispatch($o({heroId:g,position:p}))}function ji(p){(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),Ce())}function Ui(){switch(c(x).currentPhase){case"hero-phase":Z.dispatch(qo());break;case"exploration-phase":Z.dispatch(jo());break;case"villain-phase":Z.dispatch(Uo());break}}function Vi(){switch(c(x).currentPhase){case"hero-phase":return"End Hero Phase";case"exploration-phase":return"End Exploration";case"villain-phase":return"End Villain Phase"}}var ar=dl(),mn=m(ar);let or;var Gi=m(mn);{var Wi=p=>{const g=J(X),y=J(()=>c(g)?te(c(g)):void 0);var C=lt(),z=ot(C);{var V=F=>{var W=sl(),I=m(W),ce=P(I,2),K=m(ce),Me=m(K),ue=P(K,2),Be=m(ue),qe=P(ue,2),je=m(qe);ae((Ue,at)=>{A(I,"src",Ue),A(I,"alt",c(y).name),U(Me,`${c(y).name??""}'s Turn`),U(Be,at),U(je,`Turn ${c(x).turnNumber??""}`)},[()=>Oe(c(y).imagePath),()=>he(c(x).currentPhase)]),j(F,W)};me(z,F=>{c(y)&&F(V)})}j(p,C)};me(Gi,p=>{ie()==="top"&&p(Wi)})}var lr=P(mn,2),wn=m(lr);let cr;var Ki=m(wn);{var Yi=p=>{const g=J(X),y=J(()=>c(g)?te(c(g)):void 0);var C=lt(),z=ot(C);{var V=F=>{var W=al(),I=m(W),ce=P(I,2),K=m(ce),Me=m(K),ue=P(K,2),Be=m(ue),qe=P(ue,2),je=m(qe);ae((Ue,at)=>{A(I,"src",Ue),A(I,"alt",c(y).name),U(Me,`${c(y).name??""}'s Turn`),U(Be,at),U(je,`Turn ${c(x).turnNumber??""}`)},[()=>Oe(c(y).imagePath),()=>he(c(x).currentPhase)]),j(F,W)};me(z,F=>{c(y)&&F(V)})}j(p,C)};me(Ki,p=>{ie()==="left"&&p(Yi)})}var yn=P(wn,2),vt=m(yn);vt.__click=Ce,vt.__keydown=ji;var ur=m(vt);et(ur,17,()=>c(N).tiles,p=>p.id,(p,g)=>{const y=J(()=>T(c(g),c(b))),C=J(()=>Y(c(g)));var z=ol();let V;var F=m(z),W=P(F,2);et(W,17,()=>c(N).unexploredEdges.filter(I=>I.tileId===c(g).id),I=>I.direction,(I,ce)=>{il(I,{get direction(){return c(ce).direction},cellSize:n,get tileWidth(){return c(C).width},get tileHeight(){return c(C).height}})}),ae(I=>{V=Ae(z,1,"placed-tile svelte-8w11tm",null,V,{"start-tile":c(g).tileType==="start"}),A(z,"data-testid",c(g).tileType==="start"?"start-tile":"dungeon-tile"),A(z,"data-tile-id",c(g).id),wt(z,`left: ${c(y).x??""}px; top: ${c(y).y??""}px; width: ${c(C).width??""}px; height: ${c(C).height??""}px;`),A(F,"src",I),A(F,"alt",c(g).tileType)},[()=>Oe(q(c(g)))]),j(p,z)});var fr=P(ur,2);{var Xi=p=>{const g=J(()=>c(N).tiles.find(V=>V.tileType==="start"));var y=lt(),C=ot(y);{var z=V=>{const F=J(()=>T(c(g),c(b))),W=J(()=>Y(c(g)));var I=ll(),ce=m(I);el(ce,{get validMoveSquares(){return c(E)},tileOffsetX:d,tileOffsetY:h,cellSize:n,onSquareClick:$e}),ae(()=>wt(I,`left: ${c(F).x??""}px; top: ${c(F).y??""}px; width: ${c(W).width??""}px; height: ${c(W).height??""}px;`)),j(V,I)};me(C,V=>{c(g)&&V(z)})}j(p,y)};me(fr,p=>{c(R)&&c(E).length>0&&p(Xi)})}var Qi=P(fr,2);et(Qi,17,()=>c(k),p=>p.heroId,(p,g)=>{const y=J(()=>te(c(g).heroId)),C=J(()=>c(g).heroId===X()),z=J(()=>c(N).tiles.find(I=>I.tileType==="start"));var V=lt(),F=ot(V);{var W=I=>{const ce=J(()=>T(c(z),c(b)));var K=cl();let Me;var ue=m(K),Be=P(ue,2),qe=m(Be);ae((je,Ue)=>{Me=Ae(K,1,"hero-token svelte-8w11tm",null,Me,{active:c(C)}),A(K,"data-hero-id",c(g).heroId),wt(K,je),A(ue,"src",Ue),A(ue,"alt",c(y).name),U(qe,c(y).name)},[()=>Le(c(g).position,c(ce)),()=>Oe(c(y).imagePath)]),j(I,K)};me(F,I=>{c(y)&&c(z)&&I(W)})}j(p,V)});var Zi=P(vt,2),dr=m(Zi);nl(dr,{get tileCount(){return c(N).tileDeck.length}});var xn=P(dr,2);xn.__click=Ui;var Ji=m(xn),es=P(xn,2);es.__click=Fe,ya(yn,p=>D(B,p),()=>c(B));var hr=P(yn,2);let vr;var ts=m(hr);{var ns=p=>{const g=J(X),y=J(()=>c(g)?te(c(g)):void 0);var C=lt(),z=ot(C);{var V=F=>{var W=ul(),I=m(W),ce=P(I,2),K=m(ce),Me=m(K),ue=P(K,2),Be=m(ue),qe=P(ue,2),je=m(qe);ae((Ue,at)=>{A(I,"src",Ue),A(I,"alt",c(y).name),U(Me,`${c(y).name??""}'s Turn`),U(Be,at),U(je,`Turn ${c(x).turnNumber??""}`)},[()=>Oe(c(y).imagePath),()=>he(c(x).currentPhase)]),j(F,W)};me(z,F=>{c(y)&&F(V)})}j(p,C)};me(ts,p=>{ie()==="right"&&p(ns)})}var _r=P(lr,2);let pr;var rs=m(_r);{var is=p=>{const g=J(X),y=J(()=>c(g)?te(c(g)):void 0);var C=lt(),z=ot(C);{var V=F=>{var W=fl(),I=m(W),ce=P(I,2),K=m(ce),Me=m(K),ue=P(K,2),Be=m(ue),qe=P(ue,2),je=m(qe);ae((Ue,at)=>{A(I,"src",Ue),A(I,"alt",c(y).name),U(Me,`${c(y).name??""}'s Turn`),U(Be,at),U(je,`Turn ${c(x).turnNumber??""}`)},[()=>Oe(c(y).imagePath),()=>he(c(x).currentPhase)]),j(F,W)};me(z,F=>{c(y)&&F(V)})}j(p,C)};me(rs,p=>{ie()==="bottom"&&p(is)})}ae((p,g,y,C,z)=>{or=Ae(mn,1,"edge-zone edge-top svelte-8w11tm",null,or,p),cr=Ae(wn,1,"edge-zone edge-left svelte-8w11tm",null,cr,g),wt(vt,`transform: scale(${c(H)??""}); width: ${c(b).width??""}px; height: ${c(b).height??""}px;`),A(vt,"aria-label",c(R)?"Click to hide movement options":"Click to show movement options for current hero"),U(Ji,y),vr=Ae(hr,1,"edge-zone edge-right svelte-8w11tm",null,vr,C),pr=Ae(_r,1,"edge-zone edge-bottom svelte-8w11tm",null,pr,z)},[()=>({"active-edge":ie()==="top"}),()=>({"active-edge":ie()==="left"}),Vi,()=>({"active-edge":ie()==="right"}),()=>({"active-edge":ie()==="bottom"})]),j(e,ar),Ct()}Jn(["click","keydown"]);var vl=ee('<main class="svelte-1n46o8q"><!></main>');function _l(e,t){It(t,!0);let n=Q("character-select");tn(()=>{const l=Z.subscribe(()=>{const u=Z.getState();D(n,u.game.currentScreen,!0)}),o=Z.getState();return D(n,o.game.currentScreen,!0),l});var r=vl(),i=m(r);{var s=l=>{Qo(l,{})},a=l=>{var o=lt(),u=ot(o);{var f=v=>{hl(v,{})};me(u,v=>{c(n)==="game-board"&&v(f)},!0)}j(l,o)};me(i,l=>{c(n)==="character-select"?l(s):l(a,!1)})}j(e,r),Ct()}ua(_l,{target:document.getElementById("app")});
